;/*FB_PKG_DELIM*/

__d("CometFeedStoryOptimisticMediaAttachmentSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryOptimisticMediaAttachmentSection_story",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"OptimisticMediaAttachmentData",kind:"LinkedField",name:"optimistic_media_attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"entID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectURL",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"useCDNPreview",storageKey:null}],storageKey:null}]}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryOptimisticMediaAttachmentSection.react",["CometFeedStoryOptimisticMediaAttachmentSection_story.graphql","CometRelay","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useRef,m=e.useState,n=c("deferredLoadComponent")(c("requireDeferred")("CometFeedStoryOptimisticProgressBar.react").__setRef("CometFeedStoryOptimisticMediaAttachmentSection.react")),o=c("deferredLoadComponent")(c("requireDeferred")("ComposerCometMediaAttachmentCollage.react").__setRef("CometFeedStoryOptimisticMediaAttachmentSection.react"));function a(a){a=a.story;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryOptimisticMediaAttachmentSection_story.graphql"),a);var c=l(),e=m(0),f=e[0],g=e[1];k(function(){c.current&&g(c.current.offsetWidth)},[]);e=a==null?void 0:a.optimistic_media_attachments;if(e==null)return null;a=e.filter(function(a){return a!=null}).map(function(a){var b;return{entID:(b=a==null?void 0:a.entID)!=null?b:void 0,fileName:null,fileObjectURL:(a==null?void 0:a.objectURL)||"",fileType:(a==null?void 0:a.type)||"UNKNOWN",state:"OPTIMISTIC_UPLOADED",uploadID:null,useCDNPreview:(a==null?void 0:a.useCDNPreview)===!0?!0:void 0}});return j.jsxs("div",{ref:c,children:[j.jsx(n,{}),f>0&&j.jsx(o,{mediaAttachments:a,mediaUploadLoggingMetadata:{composerEntrypointRef:"feed",source:"optimistic_post"},usePageCollageLayout:!1,width:f,withoutUploader:!0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SurveyCometRootSessionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8023514894366438"}),null);