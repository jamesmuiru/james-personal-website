;/*FB_PKG_DELIM*/

__d("MWXVideoStatusListener.react",["getErrorNameFromMediaErrorCode","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.onError,d=a.onLoad,e=a.videoRef;i(function(){var a=e==null?void 0:e.current;function f(){d==null?void 0:d()}function g(a){a=a.currentTarget;a=a.error;a=c("getErrorNameFromMediaErrorCode")(a==null?void 0:a.code);b==null?void 0:b(a)}if((a==null?void 0:a.readyState)!=null&&a.readyState>=2){f();return}a==null?void 0:a.addEventListener("canplay",f);a==null?void 0:a.addEventListener("error",g);return function(){a==null?void 0:a.removeEventListener("canplay",f),a==null?void 0:a.removeEventListener("error",g)}},[b,d,e]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMediaGalleryVideoThumbnail.react",["FDSImageCover.react","MWXVideoStatusListener.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useRef;function a(a){var b=a.alt,d=a.fallbackVideoUrl,e=a.mediaRenderQpl;a=a.previewUrl;var f=k(null),g=j(function(a){e==null?void 0:e.endFail("load-video-error",{string:{video_error_name:a}})},[e]),h=j(function(){e==null?void 0:e.endSuccess()},[e]);if(c("gkx")("3368")===!1||a!==""){var l;return i.jsx(c("FDSImageCover.react"),{alt:(l=b)!=null?l:"video thumbnail",onError:function(){return e==null?void 0:e.endFail("load-image-error")},onLoad:function(){return e==null?void 0:e.endSuccess()},src:a})}return i.jsxs(i.Fragment,{children:[i.jsx(c("MWXVideoStatusListener.react"),{onError:g,onLoad:h,videoRef:f}),i.jsx("video",{alt:(l=b)!=null?l:"video thumbnail",className:"x5yr21d xl1xv1r xh8yej3",controls:!1,ref:f,src:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaViewerFilmstrip.react",["fbt","ix","CometBackgroundImage.react","CometImage.react","CometPressable.react","CometThrottle","Locale","MWMediaGalleryVideoThumbnail.react","TetraIcon.react","fbicon","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.useRef,o=b.useState,p={imageInner:{height:"x5yr21d",objectFit:"x19kjcj4",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",whiteSpace:"xuxw1ft",$$css:!0},thumbnail:{cursor:"x1ypdohk",$$css:!0},thumbnailContainer:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",display:"x1rg5ohu",flexShrink:"x2lah0s",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},thumbnailNonActive:{opacity:"xti2d7y",":hover_opacity":"x5z6fxw",$$css:!0},thumbnailNonActiveDarken:{filter:"x1vra34",":hover_filter":"x19oicha",$$css:!0}},q={2:{marginStart:"x12mruv9",marginLeft:null,marginRight:null,marginEnd:"xfs2ol5",$$css:!0},6:{marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,marginEnd:"x1w0mnb",$$css:!0}},r={36:{width:"x14qfxbe",$$css:!0},40:{width:"x100vrsf",$$css:!0}},s={36:{height:"xc9qbxq",$$css:!0},40:{height:"x1vqgdyp",$$css:!0}};function t(a){var b=a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?{backgroundColor:a.image.backgroundColor}:{},e=a.image.mediaType!=="video"?a.image.uri:a.image.thumbnailUri,f=a.thumbnailMargin,g=a.thumbnailSize,k=a.thumbnailUseDarken;k=k?p.thumbnailNonActiveDarken:p.thumbnailNonActive;var m="comet-media-viewer-filmstrip-thubmnail-"+a.index;return l.jsx("div",{className:(j||(j=c("stylex")))([p.thumbnailContainer,s[g],r[g],q[f]]),"data-testid":void 0,children:l.jsx(c("CometPressable.react"),{display:"inline",label:h._("__JHASH__4fCl582nKTG__JHASH__",[h._param("index",a.index)]),onPress:a.onClick,overlayDisabled:!0,children:l.jsx("div",{className:j(p.thumbnail,s[g],r[g],a.active!==!0&&k),style:b,children:a.image.mediaType==="video"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x6s0dn4 x78zum5 x3igimt xl56j7k x10l6tqk x1qrby5j",children:l.jsx(c("TetraIcon.react"),{color:"white",icon:d("fbicon")._(i("507224"),12)})}),c("gkx")("3368")?l.jsx(c("MWMediaGalleryVideoThumbnail.react"),{fallbackVideoUrl:a.image.uri,previewUrl:e}):l.jsx(c("CometBackgroundImage.react"),{src:e})]}):Boolean(a.image.isUseImageResizing)?l.jsx(c("CometImage.react"),{src:e,xstyle:p.imageInner}):l.jsx(c("CometBackgroundImage.react"),{src:e})})})})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=o(0),e=b[0],f=b[1],g=n(null),h=n(null),i=n(null);b=a.thumbnailMargin;var k=b===void 0?6:b;b=a.thumbnailSize;var q=b===void 0?36:b;b=a.thumbnailUseDarken;var r=b===void 0?!1:b,u=q+k*2;m(function(){function b(){if(g.current!=null){var b=g.current,c=b.offsetWidth;b=b.scrollWidth;var d=i.current;if(b===c)return;b=-e/u;var h=Math.floor((c+-e)/u),j=b+Math.floor((h-b)/2);if(d!=null){if(a.activeIndex>d&&(a.activeIndex<j||h===a.images.length)){i.current=a.activeIndex;return}if(a.activeIndex<d&&(a.activeIndex>j||b===0)){i.current=a.activeIndex;return}}j=e-(a.activeIndex-((h=d)!=null?h:0))*u;j=Math.min(0,j);j=Math.max(Math.floor(c-a.images.length*u),j);i.current=a.activeIndex;f(j)}}b();h.current!=null&&window.removeEventListener("resize",h.current);b=c("CometThrottle")(b,100);h.current=b;window.addEventListener("resize",b);return function(){h.current!=null&&window.removeEventListener("resize",h.current)}},[a.images,a.activeIndex,e,u]);return a.images.length<2?null:l.jsx("div",{className:(j||(j=c("stylex")))([p.root,s[q]]),ref:g,style:{transform:"translate3d("+(d("Locale").isRTL()?-e:e)+"px, 0, 0)"},children:a.images.map(function(b,c){return l.jsx(t,{active:a.activeIndex===c,image:b,index:c,onClick:function(b){a.onSetImage(c)},thumbnailMargin:k,thumbnailSize:q,thumbnailUseDarken:r},"thumbnail_"+c)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"root:"+h(a)}function h(a){a=a!=null?a:Date.now();var b=c("randomInt")(0,4294967295);b=("0000000000000000000000"+b.toString(2)).slice(-22);a=a.toString(2)+b;return i(a.slice(-63))}function i(a){var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}g.generateThreadID=a;g.generateOfflineThreadingID=h}),98);
__d("isE2EEChatWithYourSelfEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("755")}g["default"]=a}),98);
__d("useBaseDynamicEntryPointDialog",["CometDialogContext","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useRef;function n(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,h=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var k=a[0],n=a[1],o=a[2],p=(e=k)!=null?e:h,q=m(null);l(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){k?o():h.dispose(),q.current=null},6e4)}},[o,p.isDisposed,h,j,n,k]);b=babelHelpers["extends"]({},g,{onClose:f});return i.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:h,props:b})}n.displayName=n.name+" [from "+f.id+"]";function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=k(c("CometDialogContext"));return j(function(h,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,h),m=n,o=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};g(c("CometSuspendedDialogImpl.react"),{dialog:m,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadedEntryPoint:l,preloadParams:h},fallback:e},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(m=k)!=null?m:c("tracePolicyFromResource")("comet.dialog",a.root)},o)},[f,a,g,e,b])}g["default"]=a}),98);