;/*FB_PKG_DELIM*/

__d("BPlusTree",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]};a=function(){function a(a,b){b===void 0&&(b=32),this.$3={children:[],isLeaf:!0,keys:[]},this.$4=this.$3,this.$5=this.$3,this.$1=a,this.$2=b}a.fromSorted=function(a,b,c){b=new this(b,c);c=a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();a=c.next();while(!a.done){var d=[],e=b.$5,f;while(!e.isLeaf)d.push([e,-1]),f=e.keys.length,e=e.children[f];f=(b.$2-1)*2;f=f-e.keys.length;while(!a.done&&f>0)e.keys.push(a.value[0]),e.children.push(a.value[1]),f--,a=c.next();b.$6(e,d,!0)}return b};var b=a.prototype;b.$7=function(a,b){var c=this.$5,d=-1;while(!c.isLeaf)b==null?void 0:b.push([c,d]),d=this.$8(c.keys,a,h.gt),d===-1&&(d=c.keys.length),c=c.children[d];return[c,d]};b.$8=function(a,b,c){var d=0,e=a.length-1;while(d<=e){var f=d+e>>1;(c[0]?this.$1(a[f],b)<0:this.$1(a[f],b)<=0)?d=f+1:e=f-1}f=[d,e][c[1]];return f===a.length?-1:f};b.$9=function(a,b){if(!a.length){a.push(b);return[0,0]}var c=this.$8(a,b,h.gte);if(c===-1)return[a.push(b)-1,0];else if(this.$1(a[c],b)===0)return[c,1];a.splice(c,0,b);return[c,0]};b.$6=function(a,b,c){for(var a=a,d;a.keys.length>=this.$2;a=d){var d=b.pop()||[this.$5={children:[a],isLeaf:!1,keys:[]}];d=d[0];var e=Math.floor(a.keys.length/2),f=void 0;a.isLeaf?(f=a.next={children:a.children.slice(e),isLeaf:!0,keys:a.keys.slice(e),next:a.next,prev:a},f.next?f.next.prev=f:this.$4=f):f={children:a.children.slice(e+1),isLeaf:!1,keys:a.keys.slice(e+1)};if(c)d.keys.push(a.keys[e]),d.children.push(f);else{var g=this.$9(d.keys,a.keys[e]);g=g[0];d.children.splice(g+1,0,f)}a.keys.length=e;a.children.length=e+(a.isLeaf?0:1)}};b.clear=function(){this.$5=this.$3=this.$4={children:[],isLeaf:!0,keys:[]}};b.delete=function(a){var b=Math.floor(this.$2/2),d=[],e=this.$7(a,d),f=e[0];e=e[1];var g=this.$8(f.keys,a,h.gte);if(g===-1||this.$1(f.keys[g],a)!==0)return!1;f.keys.splice(g,1);f.children.splice(g,1);for(var a=f,g=e,e,f;a.keys.length<b&&d.length;o=[e,f],a=o[0],g=o[1],o){f=d.pop();e=f[0];f=f[1];var i=[[e.children[g-1],a,g-1],[a,e.children[g+1],g]].filter(function(a){var b=a[0];a=a[1];return b&&a});for(var j of i){var k=j[0],l=j[1],m=j[2];if(k.keys.length+l.keys.length>=b*2){if(a.isLeaf){var n=[].concat(k.children,l.children),o=[].concat(k.keys,l.keys);k.children=(l.children=n).splice(0,b);k.keys=(l.keys=o).splice(0,b);e.keys[m]=o[0]}else{n=[].concat(k.children,l.children);o=[].concat(k.keys,[e.keys[m]],l.keys);k.children=(l.children=n).splice(0,b+1);e.keys[m]=o.splice(b,1)[0];k.keys=(l.keys=o).splice(0,b)}return!0}}for(n of i){m=n[0];k=n[1];l=n[2];m.children=[].concat(m.children,k.children);a.isLeaf?(m.keys=[].concat(m.keys,k.keys),k.keys.length=0,k.next?k.next.prev=m:this.$4=m,m.next=k.next):m.keys=[].concat(m.keys,[e.keys[l]],k.keys);e.keys.splice(l,1);e.children.splice(l+1,1);break}}if(!this.$5.keys.length&&this.$5.children.length){j=this.$5;if(j.isLeaf)throw c("unrecoverableViolation")("cannot be leaf","maw_db");this.$5=j.children[0]}return!0};b.entries=function*(a){a=a===void 0?{}:a;var b=a.dir;b=b===void 0?"asc":b;a=babelHelpers.objectWithoutPropertiesLoose(a,["dir"]);if(Object.prototype.hasOwnProperty.call(a,"gt")&&Object.prototype.hasOwnProperty.call(a,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","maw_db");if(Object.prototype.hasOwnProperty.call(a,"lt")&&Object.prototype.hasOwnProperty.call(a,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","maw_db");if(b==="asc"){if(Object.prototype.hasOwnProperty.call(a,"gt")){b=this.$7(a.gt);b=b[0]}else if(Object.prototype.hasOwnProperty.call(a,"gte")){var d=this.$7(a.gte);b=d[0]}else b=this.$3;d=Object.prototype.hasOwnProperty.call(a,"gt")?this.$8(b.keys,a.gt,h.gt):Object.prototype.hasOwnProperty.call(a,"gte")?this.$8(b.keys,a.gte,h.gte):0;while(b){var e=b;while(d!==-1&&d<e.keys.length){var f=e.keys[d];if(Object.prototype.hasOwnProperty.call(a,"lt")&&this.$1(f,a.lt)>=0||Object.prototype.hasOwnProperty.call(a,"lte")&&this.$1(f,a.lte)>0)return;var g=(yield [e.keys[d],e.children[d]]);if(g!=null){if(this.$1(g,f)<=0)throw c("unrecoverableViolation")("key must be greater than current key","maw_db");d=this.$8(e.keys,g,h.gte);if(d===-1){var i=this.$7(g);e=i[0];d=this.$8(e.keys,g,h.gte)}}else{i=e.keys[d]!==f;if(i){d=this.$8(e.keys,f,h.lte);if(d===-1){g=this.$7(f);e=g[0];d=this.$8(e.keys,f,h.lte)}}d++}}b=e.next;d=0}}else{if(Object.prototype.hasOwnProperty.call(a,"lt")){i=this.$7(a.lt);b=i[0]}else if(Object.prototype.hasOwnProperty.call(a,"lte")){g=this.$7(a.lte);b=g[0]}else b=this.$4;f=Object.prototype.hasOwnProperty.call(a,"lt")?this.$8(b.keys,a.lt,h.lt):Object.prototype.hasOwnProperty.call(a,"lte")?this.$8(b.keys,a.lte,h.lte):b.keys.length-1;while(b){e=b;while(f!==-1&&f>=0){d=e.keys[f];if(Object.prototype.hasOwnProperty.call(a,"gt")&&this.$1(d,a.gt)<=0||Object.prototype.hasOwnProperty.call(a,"gte")&&this.$1(d,a.gte)<0)return;i=(yield [e.keys[f],e.children[f]]);if(i!=null){if(this.$1(i,d)>=0)throw c("unrecoverableViolation")("key must be less than current key","maw_db");f=this.$8(e.keys,i,h.lte);if(f===-1){g=this.$7(i);e=g[0];f=this.$8(e.keys,i,h.lte)}}else{g=e.keys[f]!==d;if(g){f=this.$8(e.keys,d,h.gte);if(f===-1){i=this.$7(d);e=i[0];f=this.$8(e.keys,d,h.gte)}}f--}}b=e.prev;f=b!=null?b.keys.length-1:-1}}};b.get=function(a){var b=this.$7(a);b=b[0];var d=this.$8(b.keys,a,h.gte);if(d===-1||this.$1(b.keys[d],a)!==0)throw c("unrecoverableViolation")("key not found: "+String(a),"maw_db");return b.children[d]};b.getWithDefault=function(a,b){var c=this.$7(a);c=c[0];var d=this.$8(c.keys,a,h.gte);return d===-1||this.$1(c.keys[d],a)!==0?b:c.children[d]};b.has=function(a){var b=this,c=this.$7(a);c=c[0];return c.keys.findIndex(function(c){return b.$1(a,c)===0})!==-1};b.set=function(a,b){var c=[],d=this.$7(a,c);d=d[0];a=this.$9(d.keys,a);var e=a[0];a=a[1];d.children.splice(e,a,b);this.$6(d,c,!1);return this};return a}();g.default=a}),98);
__d("MAWWaitForBackendSetup",["ErrorSerializer","MAWInitError","Promise","err","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new(h||(h=b("Promise")))(function(a,b){i=a,j=b}),l=!1,m=!1,n=i,o=j;function p(a){return new(h||(h=b("Promise")))(function(b,e){k.then(b)["catch"](function(b){var f=a+" rejected because backend setup failed: "+b.message+".";b=b instanceof d("MAWInitError").MAWInitError?b.error:null;b!=null&&(f=f.concat(" More error detail: "+c("ErrorSerializer").toReadableMessage(b)));e(c("err")(f))})})}function a(a,b){c("promiseDone")(p(b).then(function(){a()}))}function e(){k=new(h||(h=b("Promise")))(function(a,b){i=a,j=b}),l=!1,n=i,o=j,m=!0}function f(){l=!0,n==null?void 0:n()}function q(a){l=!1,o==null?void 0:o(a)}function r(){return l}function s(){return m}function t(a){if(c("justknobx")._("2628"))return a()}g.waitForBackendSetup=p;g.runAfterBackendSetup=a;g.resetBackendSetup=e;g.resolveBackendSetup=f;g.rejectBackendSetup=q;g.isBackendSetupSuccessful=r;g.wasBackendSetupReset=s;g.withKnobs=t}),98);
__d("EBSMGating",["MAWWaitForBackendSetup","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("24151")}function h(){return c("gkx")("1211")}function b(){return h()||d("MAWWaitForBackendSetup").isBackendSetupSuccessful()}g.isPersistedEBTableEnabled=a;g.isEBSMV2Enabled=h;g.isBackendSetupSuccessfulForEBSM=b}),98);
__d("EBSMProperties",[],(function(a,b,c,d,e,f){"use strict";a=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","occamadillo_most_recent_message_per_thread","auto_restore_opt_out"];b=new Set(["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"]);c={dbVersion:5,mandatoryTables:b,persistedTables:new Set(a),persistedTablesArray:a};d=c;f["default"]=d}),66);
__d("IndexedDbPolyfills",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map()}var b=a.prototype;b.emit=function(a){var b=this.$1.get(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(b!==void 0)for(var f=b,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i;j.apply(void 0,d)}var k=this["on"+a];k!=null&&k.apply(void 0,d)};b.addEventListener=function(a,b,c){var d=this;c===void 0&&(c={});c=c;c=c.signal;var e=this.$1.get(a);e===void 0&&(e=new Set(),this.$1.set(a,e));e.add(b);c!=null&&(c.onabort=function(){d.removeEventListener(a,b)})};b.removeEventListener=function(a,b){a=this.$1.get(a);if(a===void 0)return;a["delete"](b)};return a}();a=function(){return function(a,b){a=this.openCursor((a=a)!=null?a:null);var c=[],d=new g();a.onsuccess=function(a){a=a.target.result;if(a!=null&&(b===void 0||c.length<b))c.push(a.value),a["continue"]();else{d.result=c;d.onsuccess==null?void 0:d.onsuccess({target:{readyState:"done",result:c}});return}};a.onerror=function(a){d.onerror==null?void 0:d.onerror(a)};return d}};b=typeof window!=="undefined"?window:self;typeof b.IDBObjectStore!=="undefined"&&b.IDBObjectStore.prototype.getAll===void 0&&(b.IDBObjectStore.prototype.getAll=a());f.IDBRequest=g;f.getAll=a}),66);
__d("LSBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}function b(a,b){return d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}g.set=a;g.clear=b;g.empty=(h||(h=d("I64"))).zero}),98);
__d("LSClientSchemaType",[],(function(a,b,c,d,e,f){"use strict";a="maw";f.MAW_SCHEMA_NAME=a}),66);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h;c=["capabilities","capabilities2"];function a(a,b){return i(a,b,!1)}function i(a,b,c){var e=b.capabilities,f=b.capabilities2;if(a>=64){return f==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}return e==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}function b(a,b){return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(a=b)!=null?a:d("LSBitOffset").empty)}g.contactCapabilityFields=c;g.has=a;g.hasWithDefault=i;g.contactCapabilitiesHas=b}),98);
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("MAWDbVersionList",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}b={V21:21,V22:22,V23:23,V24:24,V25:25,V26:26,V27:27,V28:28,V29:29,V30:30,V31:31,V32:32,V33:33,V34:34,V35:35,V36:36,V37:37,V38:38,V39:39,V40:40,V41:41,V42:42,V43:43,V44:44,V45:45,V46:46,V47:47,V48:48,V49:49,V50:50,V51:51,V52:52,V53:53,V54:54,V55:55,V56:56,V57:57,V58:58,V59:59,V60:60,V61:61,V62:62,V63:63,V64:64,V65:65,V66:66,V67:67,V68:68,V69:69,V70:70,V71:71,V72:72,V73:73,V74:74,V75:75,V76:76,V77:77,V78:78,V79:79,V80:80,V81:81,V82:82,V83:83,V84:84,V85:85,V86:86,V87:87,V88:88,V89:89,V90:90,V91:91,V92:92,V93:93,V94:94,V95:95,V96:96,V97:97,V98:98,V99:99,V100:100,V101:101,V102:102,V103:103,V104:104,V105:105,V106:106,V107:107,V108:108,V109:109,V110:110,V111:111,V112:112,V113:113,V114:114,V115:115};f.toVersion=a;f.VERSION=b}),66);
__d("MAWDbSchema",["MAWDbVersionList"],(function(a,b,c,d,e,f,g){"use strict";a=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"]}},name:"e2ee_appData",primaryKey:["appDataId"]},{autoIncrement:!1,indexes:{},name:"e2ee_meta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_appMeta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekeyGeneration",primaryKey:["generationId"]},{autoIncrement:!1,indexes:{},name:"e2ee_session",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_signedPrekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_tasks",primaryKey:["taskName"]},{autoIncrement:!1,indexes:{groupJid:{columns:["groupJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_senderKeySessions",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primaryKey:["groupJid"]},{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_contacts",primaryKey:["contactJid"]},{autoIncrement:!1,indexes:{},name:"e2ee_receipts",primaryKey:["msgId"]},{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_media",primaryKey:["mediaId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_chunk",primaryKey:["chunkId"]},{autoIncrement:!0,indexes:{jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]},{autoIncrement:!1,indexes:{},name:"e2ee_existingUsers",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_pendingReceipts",primaryKey:["id"]},{autoIncrement:!0,indexes:{version:{columns:["version"]}},name:"e2ee_browserEncryptionMeta",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]},{autoIncrement:!0,indexes:{uniqKey:{columns:["uniqKey"]}},name:"e2ee_jobs",primaryKey:["jobId"]},{autoIncrement:!1,indexes:{},name:"e2ee_identity",primaryKey:["deviceJid"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}];b=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];c=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];e=[{autoIncrement:!0,indexes:{},name:"e2ee_isDualSend",primaryKey:["rowId"]}];f=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primaryKey:["key"]}];var h=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],i=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],j=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId"]}],k=[{autoIncrement:!0,indexes:{deleteTs:{columns:["deleteTs"],unique:!1},externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]}],l=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"]},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"]}},name:"e2ee_media",primaryKey:["mediaId"]}],m=[{autoIncrement:!0,indexes:{},name:"e2ee_dualSendMedia",primaryKey:["id"]}],n=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],o=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primaryKey:["rowId"]}],p=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},externalId:{columns:["externalId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],q=[{autoIncrement:!0,indexes:{},name:"e2ee_dyiBatch",primaryKey:["batchId"]}],r=[{autoIncrement:!1,indexes:{correspondingOpenThreadKey:{columns:["correspondingOpenThreadKey"],unique:!1},threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],s=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"],removed:!0}],t=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],u=[{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],v=[{autoIncrement:!1,indexes:{"[modelId+modelType+actionState]":{columns:["modelId","modelType","actionState"],unique:!1},action:{columns:["action"],unique:!1},actionState:{columns:["actionState"],unique:!1},collection:{columns:["collection"],unique:!1},indexMac:{columns:["indexMac"],unique:!1}},name:"e2ee_syncActions",primaryKey:["index"]}],w=[{autoIncrement:!1,indexes:{},name:"e2ee_missingKeys",primaryKey:["keyHex"]}],x=[{autoIncrement:!0,indexes:{action:{columns:["action"],unique:!1},collection:{columns:["collection"],unique:!1},index:{columns:["index"],unique:!1}},name:"e2ee_pendingMutations",primaryKey:["id"]}],y=[{autoIncrement:!0,indexes:{collection:{columns:["collection"]}},name:"e2ee_collectionVersions",primaryKey:["id"]}],z=[{autoIncrement:!0,indexes:{keyEpoch:{columns:["keyEpoch"],unique:!1},keyId:{columns:["keyId"]}},name:"e2ee_syncKeys",primaryKey:["id"]}],A=[{autoIncrement:!1,indexes:{userJid:{columns:["userJid"],unique:!1}},name:"e2ee_identity",primaryKey:["deviceJid"]}],B=[{autoIncrement:!1,indexes:{externalId:{columns:["externalId"],unique:!1},lastRetryTs:{columns:["lastRetryTs"],unique:!1},traceId:{columns:["traceId"],unique:!1}},name:"e2ee_uploadRetryStatus",primaryKey:["externalId","lastRetryTs"]}],C=[{autoIncrement:!0,indexes:{jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],D=[{autoIncrement:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]}],E=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"]}],F=[{autoIncrement:!0,indexes:{deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],G=[{autoIncrement:!0,indexes:{mediaId:{columns:["mediaId"],unique:!1},msgId:{columns:["msgId"],unique:!1},objectId:{columns:["objectId"]}},name:"e2ee_mediaBackup",primaryKey:["mediaBackupId"]}],H=[{autoIncrement:!0,indexes:{authoritativeThreadKey:{columns:["authoritativeThreadKey"]},deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],I=[{autoIncrement:!0,indexes:{"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],J=[{autoIncrement:!0,indexes:{originalMsgExternalId:{columns:["originalMsgExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],K=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"],removed:!0},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"],removed:!0},{autoIncrement:!0,indexes:{},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],L=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],M=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],N=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],O=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],P=[{autoIncrement:!0,indexes:{},name:"e2ee_jobs",primaryKey:[],removed:!0}],Q=[{autoIncrement:!0,indexes:{},name:"e2ee_danglingQueue",primaryKey:["queueId"]}],R=[{autoIncrement:!0,indexes:{dbVersion:{columns:["dbVersion"],unique:!1}},name:"e2ee_staleQueue",primaryKey:["staleQueueId"]}],S=[{autoIncrement:!0,indexes:{"[offlineThreadingId+backupActionType]":{columns:["offlineThreadingId","backupActionType"],unique:!1},"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},offlineThreadingId:{columns:["offlineThreadingId"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],T=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]}],U=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],V=[{autoIncrement:!0,indexes:{},name:"e2ee_pendingMessageStanzaQueue",primaryKey:["pendingMessageStanzaQueueId"]}],W=[{autoIncrement:!0,indexes:{author:{columns:["author"],unique:!1},chat:{columns:["chat"],unique:!1},externalId:{columns:["externalId"],unique:!1}},name:"e2ee_deletedMessages",primaryKey:["rowId"]}],X=[{autoIncrement:!0,indexes:{threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_ebMsgRanges",primaryKey:["rangeId"]}],Y=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1},threadJid:{columns:["threadJid","inviteeJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],Z=[{autoIncrement:!1,indexes:{waMsgId:{columns:["waMsgId"]}},name:"e2ee_receipts",primaryKey:["msgId"]}],$=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],aa=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ba=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ca=[{autoIncrement:!1,dexieOnly_primaryKeyUnique:!0,indexes:{ts:{columns:["ts"],unique:!1}},name:"e2ee_sentBytesCache",primaryKey:["waMsgId"]}],da=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ea=[{autoIncrement:!0,indexes:{"[originalMsgExternalId+threadJid]":{columns:["originalMsgExternalId","threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],fa=[{autoIncrement:!0,indexes:{deviceJid:{columns:["deviceJid"],unique:!1},displayOrder:{columns:["isArchived","ts"],unique:!1},isConfirmedActionTs:{columns:["isConfirmed","action","ts"],unique:!1},isNotifiedTs:{columns:["isNotified","ts"],unique:!1}},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],ga=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],ha=[{autoIncrement:!1,indexes:{},name:"e2ee_ephemeralSettings",primaryKey:["userJid"]}],ia=[{autoIncrement:!1,indexes:{ebClientRequired:{columns:["ebClientRequired","timestampMs"],unique:!1},restorable:{columns:["restorable","timestampMs"],unique:!1}},name:"e2ee_ebMessageRestoreTasks",primaryKey:["messageId"]}],ja=[{autoIncrement:!1,indexes:{},name:"e2ee_igMessageAuxiliaryInfo",primaryKey:["messageId"]}],ka=[{autoIncrement:!1,indexes:{plaintextHash:{columns:["plaintextHash"],unique:!1}},name:"e2ee_mediaKeys",primaryKey:["ciphertextHash"]}],la=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],ma=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],na=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],oa=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]}],pa=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeBacklog",primaryKey:["externalId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeThreadBacklog",primaryKey:["chatJid"]}],qa=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ra=[{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],sa=[{autoIncrement:!0,indexes:{fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],ta=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"],removed:!0}],ua=[{autoIncrement:!1,indexes:{},name:"e2ee_uploadRetryStatus",primaryKey:[],removed:!0}],va=[{autoIncrement:!1,indexes:{},name:"e2ee_receiverFetchInfo",primaryKey:["receiverFetchId"]}];a=new Map([[(d=d("MAWDbVersionList")).VERSION.V21,a],[d.VERSION.V22,b],[d.VERSION.V23,c],[d.VERSION.V24,e],[d.VERSION.V25,f],[d.VERSION.V30,h],[d.VERSION.V31,i],[d.VERSION.V32,j],[d.VERSION.V33,k],[d.VERSION.V34,l],[d.VERSION.V35,m],[d.VERSION.V36,n],[d.VERSION.V37,o],[d.VERSION.V38,p],[d.VERSION.V39,q],[d.VERSION.V40,r],[d.VERSION.V41,s],[d.VERSION.V42,t],[d.VERSION.V45,u],[d.VERSION.V48,v],[d.VERSION.V49,w],[d.VERSION.V50,x],[d.VERSION.V51,y],[d.VERSION.V52,z],[d.VERSION.V57,A],[d.VERSION.V59,B],[d.VERSION.V61,C],[d.VERSION.V62,D],[d.VERSION.V63,E],[d.VERSION.V64,F],[d.VERSION.V65,G],[d.VERSION.V67,H],[d.VERSION.V69,I],[d.VERSION.V70,J],[d.VERSION.V73,K],[d.VERSION.V74,L],[d.VERSION.V75,M],[d.VERSION.V77,N],[d.VERSION.V78,O],[d.VERSION.V79,P],[d.VERSION.V80,Q],[d.VERSION.V81,R],[d.VERSION.V83,S],[d.VERSION.V84,T],[d.VERSION.V85,U],[d.VERSION.V86,V],[d.VERSION.V88,W],[d.VERSION.V89,X],[d.VERSION.V90,Y],[d.VERSION.V91,Z],[d.VERSION.V92,$],[d.VERSION.V93,aa],[d.VERSION.V94,ba],[d.VERSION.V95,ca],[d.VERSION.V96,da],[d.VERSION.V97,ea],[d.VERSION.V98,fa],[d.VERSION.V99,ga],[d.VERSION.V100,ha],[d.VERSION.V102,ia],[d.VERSION.V103,ja],[d.VERSION.V104,ka],[d.VERSION.V105,la],[d.VERSION.V106,ma],[d.VERSION.V107,na],[d.VERSION.V108,oa],[d.VERSION.V109,pa],[d.VERSION.V110,qa],[d.VERSION.V111,ra],[d.VERSION.V112,sa],[d.VERSION.V113,ta],[d.VERSION.V114,ua],[d.VERSION.V115,va]]);b=["messages","unrenderedMessages","groupInfo","meta","identity","prekey","prekeyGeneration","session","signedPrekey","senderKeySessions","receipts","pendingReceipts","threads","contacts","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","mediaBackup","media","reactions","groupInvites","dyiBatch","syncActions","missingKeys","pendingMutations","collectionVersions","syncKeys","deviceChangeAlerts","xma","editMsgHistory","deletedMessages","ebMsgRanges"];g.dbSchema=a;g.TABLES_TO_ENCRYPT=b}),98);
__d("MAWGetDbVersion",["MAWDbVersionList","justknobx","objectValues"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=Math.max(c("justknobx")._("2390"),c("justknobx")._("1716"));function a(){var a;return(a=h)!=null?a:d("MAWDbVersionList").toVersion(i)}function b(a){if(!c("justknobx")._("1495"))return;if(a==null){h=null;return h}if(a==="current"){h=null;return h}var b=Math.max.apply(Math,c("objectValues")(d("MAWDbVersionList").VERSION));if(a==="latest"){h=d("MAWDbVersionList").toVersion(b);return h}if(!Number.isInteger(a))return h;if(a<0){h=d("MAWDbVersionList").toVersion(b+a);return h}h=d("MAWDbVersionList").toVersion(a)}g.getArmadilloDbVersion=a;g.setArmadilloDbVersionForTest=b}),98);
__d("sortBy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.map(function(a,c){return{index:c,sortValue:b(a),value:a}});a.sort(function(a,b){var c=a.sortValue,d=b.sortValue;if(c>d)return 1;return c<d?-1:a.index-b.index});return a.map(function(a){return a.value})}f["default"]=a}),66);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(a,b,c,d,e,f,g){"use strict";a={e2ee_appData:!0,e2ee_appMeta:!0,e2ee_chunk:!0,e2ee_collectionVersions:!0,e2ee_deletedMessages:!0,e2ee_deviceChangeAlerts:!0,e2ee_dyiBatch:!0,e2ee_ebMessageRestoreTasks:!0,e2ee_ebMsgRanges:!0,e2ee_ebRestoreQueue:!0,e2ee_ebUploadQueue:!0,e2ee_editMsgHistory:!0,e2ee_ephemeralSettings:!0,e2ee_existingUsers:!0,e2ee_ftsBackloggedMessages:!0,e2ee_ftsEncryptionMeta:!0,e2ee_ftsIndexV3:!0,e2ee_ftsPurgeBacklog:!0,e2ee_ftsPurgeThreadBacklog:!0,e2ee_groupInfo:!0,e2ee_groupInvites:!0,e2ee_historySyncQRCodeData:!0,e2ee_historySyncQRCodeSecretKey:!0,e2ee_igMessageAuxiliaryInfo:!0,e2ee_isDualSend:!0,e2ee_media:!0,e2ee_mediaBackup:!0,e2ee_messages:!0,e2ee_missingKeys:!0,e2ee_participants:!0,e2ee_pendingMessageStanzaQueue:!0,e2ee_pendingMutations:!0,e2ee_pendingReceipts:!0,e2ee_pendingStanzas:!0,e2ee_reactions:!0,e2ee_receiverFetchInfo:!0,e2ee_syncActions:!0,e2ee_syncKeys:!0,e2ee_threads:!0,e2ee_unrenderedMessages:!0,e2ee_xma:!0};function h(a){var b=Object.fromEntries(c("objectEntries")(a.indexes).filter(function(a){a=a[1];return a.multiEntry_DO_NOT_USE!==!0}).map(function(b){var c=b[0];b=b[1];return[c,{columns:[].concat(b.columns,b.unique!==!1?[]:a.primaryKey),predicate:b.predicate}]}));b={auto_increment:a.autoIncrement===!0,indexes:b,name:a.name,primary_key:a.primaryKey};return b}var i=c("sortBy")(Array.from(d("MAWDbSchema").dbSchema.entries()),function(a){a=a[0];return a}).map(function(a){var b=a[0];a=a[1];return{schema:a,version:b}});b=function(a){return Array.from(i.filter(function(b){return b.version<=a&&b.schema!=null}).reduce(function(a,b){(b=b.schema)==null?void 0:b.forEach(function(b){if(b.removed===!0){a["delete"](b.name);return}a.set(b.name,h(b))});return a},new Map()).values())};e=b(d("MAWGetDbVersion").getArmadilloDbVersion());g.msgrDbStores=a;g.getSchemaForVersion=b;g.clientSchema=e}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("MAWDbSchema.restore").clientSchema;f.clientSchema=a}),66);
__d("LSSchemaProvider",["cr:2649","cr:2670"],(function(a,b,c,d,e,f,g){"use strict";var f=(a=b("cr:2670"))!=null?a:b("cr:2649");c=f.schemaProvider;g["default"]=c}),98);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d}),98);
__d("ReStoreKeyComparer",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){if((h||(h=d("I64"))).isI64(a))return"I64";else if(Array.isArray(a))return"Array";else if(typeof a==="string")return"String";else if(typeof a==="number")return"Number";else if(typeof a==="boolean")return"Boolean";else if(a instanceof Date)return"Date";else if(typeof a==="object"&&a!=null)return"Object";else if(a==="undefined")return"Undefined";else if(a===null)return"Null";return"Unknown"}var j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a="Expected types to be the same but got "+i(a)+" and "+i(c);return b.call(this,a)||this}return a}(babelHelpers.wrapNativeSuper(Error)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a="Unexpected type "+i(a);return b.call(this,a)||this}return a}(babelHelpers.wrapNativeSuper(Error)),l=[[]];function m(a,b){var c=a===l,d=b===l;if(c&&d)return 0;if(c)return 1;if(d)return-1;if(a===null)return b===null?0:-1;else if(b===null)return 1;if(a===void 0)return b===void 0?0:-1;else if(b===void 0)return 1;if(Array.isArray(a)){if(!Array.isArray(b)){if(typeof b==="string")return 1;throw new j(a,b)}c=a[0];d=b[0];if(c<d)return-1;if(c>d)return 1;c=a[1];d=b[1];if(c<d)return-1;if(c>d)return 1}else if(typeof a==="string"){if(typeof b!=="string"){if(typeof b==="number"||b instanceof Date)return 1;if(Array.isArray(b))return-1;throw new j(a,b)}if(a<b)return-1;if(a>b)return 1}else if(typeof a==="number"){if(typeof b!=="number"){if(typeof b==="string")return-1;throw new j(a,b)}if(a<b)return-1;if(a>b)return 1}else if(a instanceof Date){if(!(b instanceof Date)){if(typeof b==="string")return-1;throw new j(a,b)}if(a<b)return-1;if(a>b)return 1}else if(typeof a==="boolean"){if(typeof b!=="boolean")throw new j(a,b);if(!a&&b)return-1;if(a&&!b)return 1}else throw new k(a);return 0}function n(a,b){var c;for(c=0;c<a.length&&c<b.length;c++){var d=m(a[c],b[c]);if(d!==0)return d}if(c<a.length)return 1;return c<b.length?-1:0}a=function(a,b){return n(b,a)};g.MAX_KEY=l;g.compareValue=m;g.compareKey=n;g.compareKeyDesc=a}),98);
__d("ReQLBounds",["ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return b.length<a?[].concat(b,[c]):b}function j(a,b){b===void 0&&(b=-1);return i(b,a,(h||(h=d("ReStoreKeyComparer"))).MAX_KEY)}function k(a,b,c){if(a!=null&&b!=null)return(h||(h=d("ReStoreKeyComparer"))).compareKey(a[1],b[1])*c>0?a[0]:b[0];if(a!=null)return a[0];if(b!=null)return b[0]}function l(a,b){return k((a==null?void 0:a.gt)!=null?[{gt:a.gt},j(a.gt)]:(a==null?void 0:a.gte)!=null?[{gte:a.gte},a.gte]:void 0,(b==null?void 0:b.gt)!=null?[{gt:b.gt},j(b.gt)]:(b==null?void 0:b.gte)!=null?[{gte:b.gte},b.gte]:void 0,1)}function m(a,b){return k((a==null?void 0:a.lt)!=null?[{lt:a.lt},a.lt]:(a==null?void 0:a.lte)!=null?[{lte:a.lte},j(a.lte)]:void 0,(b==null?void 0:b.lt)!=null?[{lt:b.lt},b.lt]:(b==null?void 0:b.lte)!=null?[{lte:b.lte},j(b.lte)]:void 0,-1)}function a(a,b){if(a==null)return void 0;a=babelHelpers.extends({},a);a.gt!=null&&(a.gt=i(b,a.gt,(h||(h=d("ReStoreKeyComparer"))).MAX_KEY));a.lte!=null&&(a.lte=i(b,a.lte,(h||(h=d("ReStoreKeyComparer"))).MAX_KEY));return a}function b(a,b,c){a.forEach(function(a){var e=a[0];a=a[1];var f=(e==null?void 0:e.gt)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.gt)>0:(e==null?void 0:e.gte)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.gte)>=0:!0;e=(e==null?void 0:e.lt)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.lt)<0:(e==null?void 0:e.lte)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.lte)<=0:!0;if(f&&e)return c(a)})}function c(a,b){if(b==null)return a;var c=l(b,a);b=m(b,a);if(c!=null&&b!=null)return babelHelpers.extends({},c,b);if(c!=null)return c;if(b!=null)return b}g.nextKey=j;g.getLowerLimit=l;g.getUpperLimit=m;g.extendBounds=a;g.forEachMatchingBounds=b;g.mergeBounds=c}),98);
__d("ReStoreOperationLock",["isPromise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;b=function(){function a(a){var b=this;this.waitFor=null;this.waitFor=a.then(function(a){return b.waitFor=null})}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();d=function(){function a(){this.$1=Promise.resolve()}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this;return new Promise(function(c,d){b.$1=b.$1.then(async function(){try{c(await a("\ud83d\udd12"))}catch(a){d(a)}})})};return a}();function i(a,b){function d(b){if(b.done)return b.value;if(!(h||(h=c("isPromise")))(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}function a(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return i(a.next(b,c))})}}}g.WaitForPromiseLock=b;g.ReStoreOperationLock=d;g.lockIterator=a}),98);
__d("ReStoreIndex",["ReQLBounds","ReStoreOperationLock","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$5,a,g.$1,g.$3,b,c,g.$2),g.$4)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$5,new WeakMap(),g.$1.name,g.$3,b,a,g.$2)})};this.getKey=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return g.$6(g.$5,new WeakMap(),b,a)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$5,a,g.$1,g.$3,b,c),g.$4)};this.$3=a;this.keyFields=b.indexes[a];this.$1=b;this.$2=c;this.$4=e;this.$5=f}var b=a.prototype;b.$6=async function(a,b,c,e){a=await d("ReStoreUtils").getLocked(a,b,this.$1.name,this.$3,c,e,this.$2);return a===void 0?void 0:d("ReStoreUtils").searchKey(this.$1,a)};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,i){var j;j=a.call(this,b,c,e,f,g)||this;j.subscribe=function(a,b,c){return j.$ReStoreIndex$p_3.subscribeIndex(j.$ReStoreIndex$p_1.name,j.$ReStoreIndex$p_2,a,(h||(h=d("ReQLBounds"))).extendBounds(b,j.$ReStoreIndex$p_1.indexes[j.$ReStoreIndex$p_2].length),c)};j.$ReStoreIndex$p_2=b;j.$ReStoreIndex$p_1=c;j.$ReStoreIndex$p_3=i;return j}return b}(a);g.ReStoreTransactionIndex=b;g.ReStoreIndex=c}),98);
__d("PromiseOrValue",["isPromise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if((h||(h=c("isPromise")))(a)&&(h||(h=c("isPromise")))(b))return a.then(function(a){return b.then(function(b){return[a,b]})});if((h||(h=c("isPromise")))(a))return a.then(function(a){return[a,b]});return(h||(h=c("isPromise")))(b)?b.then(function(b){return[a,b]}):[a,b]}function b(a){var b=a.find(h||(h=c("isPromise")));return!b?a:Promise.all(a)}function d(a,b){return(h||(h=c("isPromise")))(a)?a.then(b):b(a)}function i(a,b){b=b;while(!0){var d=a(b);if((h||(h=c("isPromise")))(d))return d.then(function(b){return b.action==="break"?b.value:i(a,b.value)});if(d.action==="break")return d.value;b=d.value}throw c("unrecoverableViolation")("just for flow","messenger_web_product")}g.all2=a;g.all=b;g.map=d;g.loop=i}),98);
__d("ReStoreTable",["I64","PromiseOrValue","ReQLBounds","ReStoreIndex","ReStoreOperationLock","ReStoreUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){a=(h||(h=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return h.to_float(a)}function l(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}a=function(a,b,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$4,a,g.$1,void 0,b,c,g.$2),g.$3)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$3.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$4,new WeakMap(),g.$1.name,void 0,b,a,g.$2)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$4,a,g.$1,void 0,b,c),g.$3)};this.peekNextAutoIncrementId=function(){return Promise.resolve(g.$3.chainPromiseOrValue(async function(a){a=g.$1.autoIncrement;if(!a)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","maw_db");a=await d("ReStoreUtils").gen(g.$4.table(g.$1.name).readSeed(new WeakMap()));if(a===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","maw_db");return(h||(h=d("I64"))).of_float(a)}))};this.keyFields=a.primaryKeyIds;this.$1=a;this.$2=b;this.$3=e;this.$4=f};b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,h,j,k,l,m){var n;b=c.tableNames[b];n=a.call(this,b,e,f,g)||this;n.$ReStoreTransactionTable$p_1=new Map();n.$ReStoreTransactionTable$p_10=new Map();n.add=function(a){return Promise.resolve((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforeAdd({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_12(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreUtils").gen(n.$ReStoreTransactionTable$p_13(n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,b))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterAdd({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.delete=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return Promise.resolve((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeDelete({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8}),function(a){return n.$ReStoreTransactionTable$p_12(function(b,c){var e=babelHelpers.assertThisInitialized(n);return d("ReStoreUtils").gen(function*(){var f;(f=e.$ReStoreTransactionTable$p_9)==null?void 0:f.recordLogicalWrite();yield* d("ReStoreUtils").deleteItemLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,b);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,void 0,e.$ReStoreTransactionTable$p_4,b,e.$ReStoreTransactionTable$p_11)}())})}))};n.put=function(a){return Promise.resolve((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforePut({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_12(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreUtils").gen(d("ReStoreUtils").putLocked(n.$ReStoreTransactionTable$p_2,n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,n.$ReStoreTransactionTable$p_4,b,n.$ReStoreTransactionTable$p_11))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterPut({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.upsert=function(a,b){return Promise.resolve((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeUpsert({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:b}),function(c){return n.$ReStoreTransactionTable$p_12(function(e,f){var g=babelHelpers.assertThisInitialized(n);return d("ReStoreUtils").gen(function*(){var h;(h=g.$ReStoreTransactionTable$p_9)==null?void 0:h.recordLogicalWrite();yield* d("ReStoreUtils").upsertLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,c,g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,d("ReStoreUtils").searchKey(g.$ReStoreTransactionTable$p_3,b),g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11)}())})}))};n.index=function(a){return d("ReStoreUtils").getOrCreate(n.$ReStoreTransactionTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreTransactionIndex)(a,n.$ReStoreTransactionTable$p_3,n.$ReStoreTransactionTable$p_4,n.$ReStoreTransactionTable$p_5,n.$ReStoreTransactionTable$p_6)})};n.$ReStoreTransactionTable$p_3=b;n.$ReStoreTransactionTable$p_2=c;n.$ReStoreTransactionTable$p_4=e;n.$ReStoreTransactionTable$p_5=f;n.$ReStoreTransactionTable$p_6=g;n.$ReStoreTransactionTable$p_7=h;n.$ReStoreTransactionTable$p_8=j;n.$ReStoreTransactionTable$p_9=k;n.$ReStoreTransactionTable$p_10=l;n.$ReStoreTransactionTable$p_11=m;return n}var c=b.prototype;c.$ReStoreTransactionTable$p_12=function(a){var b=this;return this.$ReStoreTransactionTable$p_5.chainPromiseOrValue(function(c){var e=b.$ReStoreTransactionTable$p_6.createNested(b.$ReStoreTransactionTable$p_9);return(i||(i=d("PromiseOrValue"))).map(a(c,e),function(a){e.flush();return a})})};c.$ReStoreTransactionTable$p_13=function*(a,b,c,e,f,g){var i=b.table(e),j=this.$ReStoreTransactionTable$p_2.tableNames[e];if(j.autoIncrement){var m=f[j.primaryKeyIds[0]];m=(h||(h=d("I64"))).of_float(yield* i.incrementSeed(c,m===void 0?m:k(m)));f[j.primaryKeyIds[0]]=m}m=d("ReStoreUtils").appendDefaultValues(f,j.name,this.$ReStoreTransactionTable$p_11);f=d("ReStoreUtils").searchKey(j,m);if(f==null)throw new Error("Evaluating the object store's key path did not yield a value");if((yield* i.tableGet(c,f))==null){j=d("ReStoreUtils").indicesWithKeyForValue(this.$ReStoreTransactionTable$p_3,Object.keys(j.indexes),m);yield* d("ReStoreUtils").deconflictIndicesLocked(this.$ReStoreTransactionTable$p_2,a,b,c,e,j,this.$ReStoreTransactionTable$p_4,g,this.$ReStoreTransactionTable$p_11);g=(yield* i.tableSet(c,f,m));i=g[0];yield* d("ReStoreUtils").addIdToIndices(b,c,e,i,j);l(a,e,f,void 0,m)}return f};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g){var h;h=a.call(this,b,c,e,f)||this;h.$ReStoreTable$p_1=new Map();h.index=function(a){return d("ReStoreUtils").getOrCreate(h.$ReStoreTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreIndex)(a,h.$ReStoreTable$p_2,h.$ReStoreTable$p_3,h.$ReStoreTable$p_4,h.$ReStoreTable$p_5,h.$ReStoreTable$p_6)})};h.subscribe=function(a,b,c){return h.$ReStoreTable$p_6.subscribeTable(h.$ReStoreTable$p_2.name,a,(j||(j=d("ReQLBounds"))).extendBounds(b,h.$ReStoreTable$p_2.primaryKeyIds.length),c)};h.$ReStoreTable$p_2=b;h.$ReStoreTable$p_3=c;h.$ReStoreTable$p_4=e;h.$ReStoreTable$p_5=f;h.$ReStoreTable$p_6=g;return h}return b}(a);g.ReStoreTransactionTable=b;g.ReStoreTable=e}),98);
__d("LSStorage",["ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b)===0}g.areKeysEqual=a}),98);
__d("ReStoreUtils",["I64","LSStorage","Random","ReQLBounds","ReStoreKeyComparer","ReStoreOperationLock","ReStoreTable","isPromise","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=500;async function a(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function m(a,b,d){var e=a.indexes;a=a.primaryKeyIds;a=d==null?a:e[d];return a.map(function(a){if(b[a]!==void 0||d!=null)return b[a];throw c("unrecoverableViolation")("primary key must be defined on object","maw_db")})}function n(a,b,c){var d=c[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers.extends({},a))}function o(a,b,c,e,f,g,h){function i(){var j=a.table(c.name),l=babelHelpers.extends({},(k||(k=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}),m=e==null?j.tableEntries(b,l):j.indexEntries(b,e,l);return j={next:function*(a,b){a=(yield* m.next(b));if(a.done)return{done:!0};b=a.value[1];return{done:!1,value:[a.value[0],h==null?b:h.afterEntriesNext({tableName:c.name,value:b})]}}},j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,j}return i()}function b(a,b,c,e,f,g){function h(){var i=a.table(c.name),j=i.keys(b,e,babelHelpers.extends({},(k||(k=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}));return i={next:function*(a,b){return yield* j.next(b)}},i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=h,i}return h()}function p(a,b){function d(b){if(b.done)return b.value;if(!(h||(h=c("isPromise")))(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}async function e(a,b,c,d,e,f,g){f=a.table(c);d!=null?a=await p(f.indexGet(b,d,e)):a=await p(f.tableGet(b,e));return a===void 0?void 0:g.afterGet({tableName:c,value:a})}function q(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function r(a){a=(i||(i=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return i.to_float(a)}function s(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);(c==null?d:c[0])==null&&e==null?a.delete(b):a.set(b,[c==null?d:c[0],e])}function* t(a,b,c,e,f,g,h,i,k,l){function n(a,b){return a.length>=b?a:[].concat(a,[(j||(j=d("ReStoreKeyComparer"))).MAX_KEY])}if(h!=null&&(j||(j=d("ReStoreKeyComparer"))).compareKey(g,h)===0)return;f=a.tableNames[f];var p=f.cascadeUpdates,q=f.primaryKeyIds;f=function*(d){var f=d.indexName;d=d.tableName;var j=a.tableNames[d],p=j.indexes,r=j.primaryKeyIds,s=f==null?r:p[f];r={gte:g,lte:n(g,s.length)};p=o(c,e,j,f,"asc",r);j=[];f=(yield* p.next(k));while(!f.done)j.push(f.value),f=(yield* p.next(k));for(r of j){r[0];p=r[1];f=m(a.tableNames[d],p);if(h===void 0)yield* w(a,b,c,e,d,f,k),yield* t(a,b,c,e,d,f,void 0,i,k,l);else{j=q.reduce(function(a,b,c){if(c>=h.length)return a;a[s[c]]=h[c];return a},babelHelpers.extends({},p));yield* v(a,b,c,e,d,f,j,i,k,l);yield* t(a,b,c,e,d,f,m(a.tableNames[d],j),i,k,l)}}};for(p of p)yield* f(p)}function* u(a,b,c,e,f,g,h,k,l){var o=c.table(f),p=a.tableNames[f];if(p.autoIncrement){var q=g[p.primaryKeyIds[0]];q=(i||(i=d("I64"))).of_float(yield* o.incrementSeed(e,q===void 0?q:r(q)));g[p.primaryKeyIds[0]]=q}q=m(p,g);var t={},u=(yield* o.tableGet(e,q)),v=g;u!==void 0?t=x(p,Object.keys(p.indexes),u):v=n(g,p.name,l);g=(yield* o.tableSet(e,q,v));var w=g[0];g=g[1];p=x(p,Object.keys(p.indexes),v);var A=babelHelpers.extends({},p);for(var B of Object.keys(A))t[B]!==void 0&&(j||(j=d("ReStoreKeyComparer"))).compareKey(t[B],A[B])===0&&(delete A[B],delete t[B]);yield* y(a,b,c,e,f,A,h,k,l);yield* z(c,e,f,w,g?p:A);for(B of Object.keys(t))yield* o.indexDelete(e,B,t[B]);s(b,f,q,u,v);return q}function* v(a,b,c,e,f,g,h,i,j,k){var l=m(a.tableNames[f],h);d("LSStorage").areKeysEqual(g,l)||(yield* w(a,b,c,e,f,g,j));yield* u(a,b,c,e,f,h,i,j,k)}function* w(a,b,c,d,e,f,g){g=c.table(e);c=a.tableNames[e];a=(yield* g.tableGet(d,f));if(a!==void 0){if(Object.keys(c.indexes).length)for(var h of Object.keys(c.indexes)){var i=m(c,a,h);i!=null&&(yield* g.indexDelete(d,h,i))}yield* g.tableDelete(d,f);s(b,e,f,a,void 0)}}function x(a,b,c){return b.reduce(function(b,d){var e;e=(e=a.indexPredicates)==null?void 0:e[d];if(e!=null&&!e(c))return b;e=m(a,c,d);b[d]=e;return b},{})}function* y(a,b,c,d,e,f,g,h,i){var j=c.table(e);for(var k of Object.keys(f)){var l=f[k];l=(yield* j.indexGet(d,k,l));if(l!=null){l=m(a.tableNames[e],l);yield* w(a,b,c,d,e,l,h);yield* t(a,b,c,d,e,l,void 0,g,h,i)}}}function* z(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=e[c];f===void 0?yield* a.indexDelete(b,c,f):yield* a.indexSet(b,c,f,d)}}function* f(a,b,d,e,f,g,h,i,j,k){var m=d.table(i),n=g.tableNames[i];for(var p of j)yield* m.clearIds(e,p);p=j.filter(function(a){return(n==null?void 0:n.indexes[a])!=null});if(p.length===0)return;j=o(d,e,n,void 0,"asc",void 0,f);var q=[],r=(yield* j.next(k));while(!r.done){while(!r.done&&q.length<=l)q.push(r.value),r=(yield* j.next(k));for(var s of q){var t=s[0],u=s[1];u=x(g.tableNames[i],p,u);yield* y(g,a,d,e,i,u,f,k,h);t=c("nullthrows")(yield* m.getId(e,t));yield* z(d,e,i,t,u)}q.length=0;b==null?void 0:b()}}var A="__internal__transaction_id";function B(a,b,e,f,g,h,i){var j=new(d("ReStoreOperationLock").ReStoreOperationLock)(),k=i==null?void 0:i.qplFlow,l=new Map(),m=new Proxy((i={},i[A]=c("Random").uint32(),i.table=function(c){return new(d("ReStoreTable").ReStoreTransactionTable)(c,a,e,j,g,f,m,k,h,b)},i),{get:function(c,i){return!Object.prototype.hasOwnProperty.call(a.tableNames,i)?Reflect.get.apply(Reflect,arguments):q(l,i,function(){return new(d("ReStoreTable").ReStoreTransactionTable)(i,a,e,j,g,f,m,k,h,b)})}});return m}function C(a){return a.types.includes("indexeddb")}g.collectIterator=a;g.searchKey=m;g.appendDefaultValues=n;g.entries=o;g.keys=b;g.gen=p;g.getLocked=e;g.getOrCreate=q;g.cascadeKeyUpdatesLocked=t;g.putLocked=u;g.upsertLocked=v;g.deleteItemLocked=w;g.indicesWithKeyForValue=x;g.deconflictIndicesLocked=y;g.addIdToIndices=z;g.rebuildIndicesLocked=f;g.createReStoreTransaction=B;g.isPDB=C}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){a=(yield h(a,b));b={};for(c in c.tableNames){var e=d[c];if(e!=null)for(var f in e){var g;g=(g=a[c])==null?void 0:g.has(f);if(!g){b[c]=(g=b[c])!=null?g:{};b[c][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){for(b in b){var e=Object.keys(c[b]||{});e={columns:e,tableName:b};yield a[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(f,a,b,e));try{if(c===!1)for(c in b){var h=a[c].entries(f),i=(yield h.next());while(!i.done){var k=babelHelpers["extends"]({},i.value[1]);k=d("ReStoreUtils").appendDefaultValues(k,c,e);yield a[c].put(k);i=(yield h.next())}}yield l(a,b,e);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){g(a,"setDefaultValues")}}catch(a){g(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var d in b){var e=d.endsWith("?");if(e)e=a[d.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}e=a[d]}var f=b[d],g=typeof e;if(e!=null&&g!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,g,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"||typeof a.predicate!=="string"&&a.predicate!=null?null:babelHelpers["extends"]({data:e,indexName:a.indexName,tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}function b(a,b){if(a[0]==null)return!0;if(a[0].length!==b[0].length)return!0;for(var c=0;c<a[0].length;c++)if(a[0][c]!==b[0][c])return!0;return a[1]!==b[1]?!0:!1}function d(a){return babelHelpers["extends"]({indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreIndexMetadata","ReStoreOperationLock","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreIndexMetadata").indicesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]=babelHelpers["extends"]({index:e.data,key:b},e.predicate==null?{}:{predicate:e.predicate})}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j;i=[f.indexes[g],(i=f.indexPredicates)==null?void 0:(i=i[g])==null?void 0:i.toString()];j=(j=a[e])==null?void 0:j[g];if(d("ReStoreIndexMetadata").indicesDiffer([j==null?void 0:j.index,j==null?void 0:j.predicate],i)){b[e]=(j=b[e])!=null?j:{};b[e][g]=i}}}j={};for(i in c.tableNames)if(i in a){g=a[i];for(f in g){var k;e=g[f];k=(k=c.tableNames[i])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){j[i]=(k=j[i])!=null?k:{};j[i][f]=e}}}return{toRemove:j,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f],h=g[0];g=g[1];h=babelHelpers["extends"]({data:h,indexName:f,tableName:c},g==null?{}:{predicate:g});yield a[d("ReStoreIndexMetadata").indicesTableName].put(d("ReStoreIndexMetadata").indexDataToValue(h))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g,h=e[f].key;yield (g=a[d("ReStoreIndexMetadata").indicesTableName])["delete"].apply(g,h)}}});return o.apply(this,arguments)}function p(a,b,c,e,f){return new(d("ReStoreOperationLock").ReStoreOperationLock)().chainPromiseOrValue(function(g){return d("ReStoreUtils").gen(d("ReStoreUtils").rebuildIndicesLocked(a.changedKeys,a.clearCache,a.storeTx,new WeakMap(),a.hooksManager,c,e,b,f,g))})}function a(a,c,e,f){var g=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var h=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(g,a.transaction,c).then(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.toRemove;b=b.toUpdate;var h=Array.from(new Set([].concat(Object.keys(b),Object.keys(g))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:h.length}});if(f===!1)for(h of h)if(c.tableNames[h]!=null){var i;i=Array.from(new Set([].concat(Object.keys((i=b[h])!=null?i:{}),Object.keys((i=g[h])!=null?i:{}))));yield p(a,h,c,e,i)}yield l(a.transaction,b);yield n(a.transaction,g);d("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(a){return g.apply(this,arguments)}}(),function(a){return h(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return h(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReQLGlobalQueryContext",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return a.get(g)}function b(a,b){a.set(g,b)}var h={contents:void 0,withinSupportedContext:!1};function c(a){var b=h.withinSupportedContext;h.withinSupportedContext=!0;try{return a()}finally{h.withinSupportedContext=b}}f.getDependencies=a;f.setDependencies=b;f.globalQueryContext=h;f.runFromContextThatHandlesThrownPromise=c}),66);
__d("ReQL",["BPlusTree","PromiseOrValue","ReQLBounds","ReQLGlobalQueryContext","ReStoreKeyComparer","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l={bounds:b,filter:f,getKeyRange:o,map:q,take:u};function m(a,b){try{var c=(h||(h=d("ReQLGlobalQueryContext"))).globalQueryContext.contents,e=h.getDependencies(b);e==null&&(h||(h=d("ReQLGlobalQueryContext"))).setDependencies(b,[]);h.globalQueryContext.contents=b;var f,g;try{f=(h||(h=d("ReQLGlobalQueryContext"))).runFromContextThatHandlesThrownPromise(a),g=(h||(h=d("ReQLGlobalQueryContext"))).getDependencies(b)||[]}finally{(h||(h=d("ReQLGlobalQueryContext"))).setDependencies(b,e),h.globalQueryContext.contents=c}return[f,g]}catch(c){if(c instanceof Promise)return c.then(function(){return m(a,b)});throw c}}function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b}function b(a){var b=this;return Object.setPrototypeOf({direction:b.direction,iterator:function(c,e){return b.iterator(c,(i||(i=d("ReQLBounds"))).mergeBounds(a,e))},keyLength:b.keyLength,subscribe:function(c,e){return b.subscribe(c,(i||(i=d("ReQLBounds"))).mergeBounds(a,e))}},l)}var n=Object.setPrototypeOf({direction:"asc",iterator:function(){return{next:function(){return{done:!0}}}},keyLength:0,subscribe:function(){return function(){}}},l);function e(){return n}function f(a){var b=this,c=new Map();return Object.setPrototypeOf({direction:b.direction,iterator:function(e,f){var g=b.iterator(e,f);return{next:function(b){return(j||(j=d("PromiseOrValue"))).loop(function(b){return(j||(j=d("PromiseOrValue"))).map(g.next(b),function(b){if(b.done)return{action:"break",value:b};var e=b.value,f=e[0];e=e[1];if(a(e)){(i||(i=d("ReQLBounds"))).forEachMatchingBounds(c,f,function(a){a.add(JSON.stringify(f))});return{action:"break",value:b}}(i||(i=d("ReQLBounds"))).forEachMatchingBounds(c,f,function(a){a.delete(JSON.stringify(f))});return{action:"continue",value:void 0}})},b)}}},keyLength:b.keyLength,subscribe:function(e,f){var g={},h=new Set();c.set(g,[(i||(i=d("ReQLBounds"))).extendBounds(f,b.keyLength),h]);var j=b.subscribe(function(b,c,d){var f=JSON.stringify(b);if(c.operation==="add"&&a(c.value)){h.add(f);return e(b,c,d)}if(c.operation==="put"&&a(c.value)){if(h.has(f))return e(b,c,d);h.add(f);return e(b,{operation:"add",value:c.value},d)}if(c.operation==="put"&&h.has(f)){h.delete(f);return e(b,{operation:"delete"},d)}if(c.operation==="delete"&&h.has(f)){h.delete(f);return e(b,c,d)}},f);return function(){c.delete(g);return j()}}},l)}function o(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var e=this;function f(a){return a.gt!=null?{gt:[].concat(b,a.gt)}:{gte:[].concat(b,a.gte)}}function g(a){return a.lt!=null?{lt:[].concat(b,a.lt)}:{lte:[].concat(b,a.lte)}}function h(a){return a==null?{gte:b,lte:b}:babelHelpers.extends({},a.gte!=null||a.gt!=null?f(a):{gte:b},a.lte!=null||a.lt!=null?g(a):{lte:b})}return Object.setPrototypeOf({direction:e.direction,iterator:function(a,c){var f=e.iterator(a,h(c));return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(f.next(a==null?a:[].concat(b,a)),function(a){return a.done?{done:!0}:{done:!1,value:[a.value[0].slice(b.length),a.value[1]]}})}}},keyLength:e.keyLength-b.length,subscribe:function(a,c){return e.subscribe(function(c,d,e){return a(c.slice(b.length),d,e)},h(c))}},l)}function p(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","maw_db");return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g=a.iterator(e,f),h=b.iterator(e,f),i=h.next();function l(a){return(j||(j=d("PromiseOrValue"))).map(i,function(b){var c=b.done?!0:(k||(k=d("ReStoreKeyComparer"))).compareKey(a,b.value[0])<=0;c=c?b:h.next(a);i=c;return c})}return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(g.next(a),function(a){if(a.done)return{done:!0,value:void 0};var b=a.value;b=b[0];return(j||(j=d("PromiseOrValue"))).map(l(b),function(b){var e=a.value,f=e[0];e=e[1];if(b.done)return{done:!1,value:[f,[e,void 0]]};b=b.value;var g=b[0];b=b[1];g=(k||(k=d("ReStoreKeyComparer"))).compareKey(f,g);if(g>0)throw c("unrecoverableViolation")("Right iterable should always be equal to or ahead","maw_db");else if(g<0)return{done:!1,value:[f,[e,void 0]]};else return{done:!1,value:[f,[e,b]]}})})}}},keyLength:Math.max(a.keyLength,b.keyLength),subscribe:function(c,e){var f=!0,g=a.subscribe(async function(a,e,g){return(j||(j=d("PromiseOrValue"))).map(b.iterator(g,{gte:a,lte:a}).next(),function(b){b=b.value;if(!f)return;return c(a,e.operation==="add"?{operation:"add",value:[e.value,b==null?void 0:b[1]]}:e.operation==="put"?{operation:"put",value:[e.value,b==null?void 0:b[1]]}:{operation:"delete"},g)})},e),h=b.subscribe(async function(b,e,g){return(j||(j=d("PromiseOrValue"))).map(a.iterator(g,{gte:b,lte:b}).next(),function(a){if(!f||a.done)return;return c(b,e.operation==="add"?{operation:"add",value:[a.value[1],e.value]}:e.operation==="put"?{operation:"put",value:[a.value[1],e.value]}:{operation:"delete"},g)})},e);return function(){f=!1,g(),h()}}},l)}function q(a){var b=this,c=new Map();function e(a,b,c,e,g){var h=JSON.stringify(c),i=a.get(h);i==null&&(i=[],a.set(h,i));i.forEach(function(a){return a()});i.length=0;var k=i;g.forEach(function(g){k.push(g.subscribe(function(g,h,i){return(j||(j=d("PromiseOrValue"))).map(f(a,b,c,e,i),function(a){return b(c,{operation:"put",value:a},i)})}))})}function f(b,c,f,g,h){return(j||(j=d("PromiseOrValue"))).map(m(function(){return a(g)},h),function(a){var d=a[0];a=a[1];e(b,c,f,g,a);return d})}function g(a,b){var c=JSON.stringify(b);if(!a.has(c))return;b=(b=a.get(JSON.stringify(b)))!=null?b:[];b.forEach(function(a){return a()});b.length=0;a.delete(c)}return Object.setPrototypeOf({direction:b.direction,iterator:function(f,g){var h=b.iterator(f,g);return{next:function(b){return(j||(j=d("PromiseOrValue"))).map(h.next(b),function(g){if(g.done)return g;g=g.value;var b=g[0],h=g[1];return(j||(j=d("PromiseOrValue"))).map(j.map(m(function(){return a(h)},f),function(a){var f=a[0],g=a[1];(i||(i=d("ReQLBounds"))).forEachMatchingBounds(c,b,function(a){var c=a[0];a=a[1];return e(c,a,b,h,g)});return f}),function(a){return{done:!1,value:[b,a]}})})}}},keyLength:b.keyLength,subscribe:function(a,e){var h={},k=new Map();c.set(h,[(i||(i=d("ReQLBounds"))).extendBounds(e,b.keyLength),[k,a]]);var l=b.subscribe(function(b,c,e){if(c.operation==="delete"){g(k,b);return a(b,c,e)}else if(c.operation==="add"){var h=c.value;return(j||(j=d("PromiseOrValue"))).map(f(k,a,b,h,e),function(c){return a(b,{operation:"add",value:c},e)})}else if(c.operation==="put"){h=c.value;return(j||(j=d("PromiseOrValue"))).map(f(k,a,b,h,e),function(c){return a(b,{operation:"put",value:c},e)})}},e);return function(){k.forEach(function(a){a.forEach(function(a){return a()})}),c.delete(h),l()}}},l)}function r(a,b){var c=s(a,b);for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return e.reduce(function(a,b){return s(a,b)},c)}function s(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("union requires iterables to be sorted in the same direction","maw_db");var e=Math.max(a.keyLength,b.keyLength);function f(a,b){return b===0||a.length===0?[]:a.slice(0,b)}function g(a){return a.gt!=null?{gt:f(a.gt,e)}:{gte:f(a.gte,e)}}function h(a){return a.lt!=null?{lt:f(a.lt,e)}:{lte:f(a.lte,e)}}function i(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?g(a):{},a.lte!=null||a.lt!=null?h(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(c,g){var h=a.iterator(c,i(g)),l=b.iterator(c,i(g)),m=h.next(),n=l.next();return{next:function(b){b!==void 0&&(m=h.next(f(b,e)),n=l.next(f(b,e)));return(j||(j=d("PromiseOrValue"))).map(j.all2(m,n),function(b){var c=b[0];b=b[1];function e(a,b){if(a.done)return{done:!0};a={done:!1,value:[[].concat(a.value[0],[b]),a.value[1]]};b?m=h.next():n=l.next();return a}if(c.done)return e(b,!1);if(b.done)return e(c,!0);var f=a.direction==="asc"?[c,b]:[b,c],g=f[0];f=f[1];f=(k||(k=d("ReStoreKeyComparer"))).compareKey((g=g.value)==null?void 0:g[0],(g=f.value)==null?void 0:g[0]);if(f<0)return e(c,!0);else return e(b,!1)})}}},keyLength:e+1,subscribe:function(c,d){var e=a.subscribe(function(a,b,d){return c([].concat(a,[!0]),b,d)},d),f=b.subscribe(function(a,b,d){return c([].concat(a,[!1]),b,d)},d);return function(){e(),f()}}},l)}function t(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","maw_db");return Object.setPrototypeOf({direction:a.direction,iterator:function(c,e){var f=a.iterator(c,e),g=b.iterator(c,e);function h(a){return(j||(j=d("PromiseOrValue"))).loop(function(a){var b=a[0];a=a[1];if(b.done||a.done)return{action:"break",value:{done:!0}};var c=b.value,e=c[0];c=c[1];var h=a.value,i=h[0];h=h[1];var l=(k||(k=d("ReStoreKeyComparer"))).compareKey(e,i);if(l>0)return(j||(j=d("PromiseOrValue"))).map(j.all2(b,g.next(e)),function(a){return{action:"continue",value:a}});else if(l<0)return(j||(j=d("PromiseOrValue"))).map(j.all2(f.next(i),a),function(a){return{action:"continue",value:a}});return{action:"break",value:{done:!1,value:[e,[c,h]]}}},a)}return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(j.all2(f.next(a),g.next(a)),h)}}},keyLength:Math.max(a.keyLength,b.keyLength),subscribe:function(c,e){var f=!0;function g(a,b,e,g,h){return(j||(j=d("PromiseOrValue"))).map(a.iterator(h,{gte:e,lte:e}).next(),function(a){if(a.done||!f)return;a=a.value[1];a=g.operation==="add"?{operation:"add",value:b(g.value,a)}:g.operation==="put"?{operation:"put",value:b(g.value,a)}:g;return c(e,a,h)})}var h=a.subscribe(function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return g.apply(void 0,[b,function(a,b){return[a,b]}].concat(c))},e),i=b.subscribe(function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return g.apply(void 0,[a,function(a,b){return[b,a]}].concat(c))},e);return function(){f=!1,h(),i()}}},l)}function u(a){var b=this,e=new Map();return Object.setPrototypeOf({direction:b.direction,iterator:function(c,f){var g=b.iterator(c,f),h=0;return{next:function(b){if(h>=a)return{done:!0};else return(j||(j=d("PromiseOrValue"))).map(g.next(b),function(b){b.done||(i||(i=d("ReQLBounds"))).forEachMatchingBounds(e,b.value[0],function(c){var d=c[0];c=c[1];c.contents<=a&&(d.has(b.value[0])||(c.contents+=1,d.set(b.value[0],void 0)))});h+=1;return b})}}},keyLength:b.keyLength,subscribe:function(f,g){var h={},l=b.direction==="asc"?1:-1,m=new(c("BPlusTree"))(function(a,b){return(k||(k=d("ReStoreKeyComparer"))).compareKey(a,b)*-l}),n={contents:0};e.set(h,[(i||(i=d("ReQLBounds"))).extendBounds(g,b.keyLength),[m,n]]);var o=b.subscribe(function(c,g,i){var o,p=(o=m.entries().next().value)==null?void 0:o[0];o=p==null?!0:(k||(k=d("ReStoreKeyComparer"))).compareKey(c,p)*l<=0;if(g.operation==="delete"&&o){var q;n.contents>0&&(m.delete(c),q=f(c,g,i));return(j||(j=d("PromiseOrValue"))).map(q,function(){return(j||(j=d("PromiseOrValue"))).map(b.iterator(i,p==null?void 0:l===1?{gt:p}:{lt:p}).next(),function(a){if(!a.done&&e.has(h)){m.set(a.value[0],void 0);return f(a.value[0],{operation:"add",value:a.value[1]},i)}n.contents>0&&(n.contents-=1)})})}if(g.operation==="add"&&n.contents<a){n.contents+=1;m.set(c,void 0);return f(c,g,i)}if(g.operation==="add"&&o){var r;p!=null&&(m.delete(p),r=f(p,{operation:"delete"},i));return(j||(j=d("PromiseOrValue"))).map(r,function(){m.set(c,void 0);return f(c,g,i)})}if(g.operation==="put"&&o)return f(c,g,i)},g);return function(){e.delete(h);return o()}}},l)}var v=new WeakMap();function w(a,b){var c=v.get(a);if(c!=null)return c;c=b.reduce(function(b,c,d){b[c]=a[d];return b},{});v.set(a,c);return c}function x(a,b,c,e,f){if(f==null||f.length>a.keyFields.length||f.some(function(b){return a.keyFields.indexOf(b)===-1}))return a.entries(b,c,e);var g=a.keys(b,c,e);return{next:function(b){return(j||(j=d("PromiseOrValue"))).map(g.next(b),function(b){return b.done?{done:!0}:{done:!1,value:[b.value,w(b.value,a.keyFields)]}})}}}function y(a,b){return Object.setPrototypeOf({direction:"asc",iterator:function(c,d){return x(a,c,"asc",d,b)},keyLength:a.keyFields.length,subscribe:function(c,d){return a.subscribe(c,d,b)}},l)}function z(a,b){return Object.setPrototypeOf({direction:"desc",iterator:function(c,d){return x(a,c,"desc",d,b)},keyLength:a.keyFields.length,subscribe:function(c,d){return a.subscribe(c,d,b)}},l)}function A(a){var b=[],c=a.iterator(new WeakMap());return Promise.resolve((j||(j=d("PromiseOrValue"))).loop(function(){return(j||(j=d("PromiseOrValue"))).map(c.next(),function(a){if(a.done)return{action:"break",value:b};b.push(a.value[1]);return{action:"continue",value:void 0}})}))}async function B(a){a=a.iterator(new WeakMap());a=await a.next();return a.done?void 0:a.value[1]}async function C(a){a=a.iterator(new WeakMap());a=await a.next();if(a.done)throw c("unrecoverableViolation")("expected result","maw_db");return a.value[1]}function D(a,b){var c=new WeakMap();function e(a){return a.gt!=null?{gt:a.gt.slice(1)}:{gte:a.gte.slice(1)}}function f(a){return a.lt!=null?{lt:a.lt.slice(1)}:{lte:a.lte.slice(1)}}function g(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?e(a):{},a.lte!=null||a.lt!=null?f(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g={};if(f){if(f.gt!=null){var h=f.gt,i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.gt=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.gte!=null){h=f.gte;i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)g.gte=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.lte!=null){h=f.lte;i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)h.length!==1&&(g.lte=h.slice(1));else if(i>0)return{next:function(){return{done:!0}}}}if(f.lt!=null){h=f.lt;i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.lt=h.slice(1);else if(i>0)return{next:function(){return{done:!0}}}}}var l=a.iterator(e,g);return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(l.next(a==null?void 0:a.slice(1)),function(a){if(a.done)return{done:!0};var d=c.get(a.value[0]);d==null&&(d=[b].concat(a.value[0]),c.set(a.value[0],d));return{done:!1,value:[d,a.value[1]]}})}}},keyLength:a.keyLength+1,subscribe:function(d,e){return a.subscribe(function(a,e,f){var g=c.get(a);g==null&&(g=[b].concat(a),c.set(a,g));return d(g,e,f)},g(e))}},l)}g.prototype=l;g.key=a;g.empty=e;g.leftJoin=p;g.union=r;g.mergeJoin=t;g.fromTableAscending=y;g.fromTableDescending=z;g.toArrayAsync=A;g.firstAsync=B;g.firstExnAsync=C;g.prependKey=D}),98);
__d("ReStoreMigrateUtil",["$InternalEnum","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;f=b("$InternalEnum").Mirrored(["UPDATE_METADATA","UPGRADE_COMPLETE","NO_UPGRADE_NEEDED"]);function a(a,b){b="V"+b;return b in a?b:null}function i(a,b){return j.apply(this,arguments)}function j(){j=babelHelpers.wrapAsyncGenerator(function*(a,b){a=a.iterator(new WeakMap());var c=[],d=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!d.done){var e=d.value;e[0];e=e[1];c.push(e);c.length===b&&(yield c,c=[]);d=(yield babelHelpers.awaitAsyncGenerator(a.next()))}c.length&&(yield c)});return j.apply(this,arguments)}function c(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=!0,g=!1,j;try{for(var k=babelHelpers.asyncIterator(i(d("ReQL").fromTableAscending(a),100)),l,l;l=(yield k.next()),f=l.done,l=(yield l.value),!f;f=!0){l=l;yield (h||(h=b("Promise"))).all(l.map(function(b){return c(b).then(a.put)}));e==null?void 0:e()}}catch(a){g=!0,j=a}finally{try{!f&&k["return"]!=null&&(yield k["return"]())}finally{if(g)throw j}}});return k.apply(this,arguments)}function e(a,b){function c(b){if(b==null)return void 0;var c={};for(var d in b)c[a+"_"+d]=b[d];return c}return{bool:c(b.bool),"int":c(b["int"]),string:c(b.string)}}g.ReStoreMigrateResult=f;g.getVersionFromNumber=a;g.fetchReQLBatch=i;g.upgradeTableEntries=c;g.prefixAnnotations=e}),98);
__d("ReStoreHashMigration",["ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Object.values(a.tableNames).map(function(a){return babelHelpers["extends"]({},a,{indexPredicates:Object.entries((a=a.indexPredicates)!=null?a:{}).map(function(a){var b=a[0];a=a[1];return[b,a.toString()]})})});return JSON.stringify(a)}function c(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f,g,h,i=e.loggers,j=i.logHistory;i=i.userFlow;var k=e.storeTx,l=e.transaction,m=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(c),n=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash(b);i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{"int":{defaultValuesVersion:m,schemaVersion:n}}));var o=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(a),p=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(a);f=(f=(yield o.read(k)))==null?void 0:f.schemaVersion;g=(g=(yield p.read(k)))==null?void 0:g.defaultValuesVersion;j==null?void 0:j.debug("storeSchemaVersion: "+((h=f)!=null?h:"null"));j==null?void 0:j.debug("storeDefaultValuesVersion: "+((h=g)!=null?h:"null"));f!=null&&(i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{"int":{storeDefaultValuesVersion:g,storeSchemaVersion:f}})));if(f===n&&g===m)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;h=f==null;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(l,b,h,c);j==null?void 0:j.debug("migration default values finished");yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,b,c,h);j==null?void 0:j.debug("migration indices finished");o.write(k,{schemaVersion:n});p.write(k,{defaultValuesVersion:m});j==null?void 0:j.debug("version is written");j==null?void 0:j.debug("migration hash end");i==null?void 0:i.addPoint("migration_hash_end");if(h)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});return h.apply(this,arguments)}g.serializeTableData=a;g.runHashMigration=c}),98);
__d("ReStorePersistenceIds",[],(function(a,b,c,d,e,f){"use strict";b="nextId";c="seed";function a(a){return a}f.idForNextId=b;f.idForSeed=c;f.castPersistenceId=a}),66);
__d("ReStorePersistedMetadata",["ReStoreHashMigration","ReStorePersistenceIds","ReStoreUtils","hashString"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_schema_meta";a=function(){function a(a){this.$1=d("ReStorePersistenceIds").castPersistenceId(a)}var b=a.prototype;b.read=async function(a){a=await d("ReStoreUtils").gen(a.table(h).readData(new WeakMap(),this.$1));return a};b.write=function(a,b){a.table(h).writeData(new WeakMap(),this.$1,b)};b.getId=function(){return this.$1};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_schema_version")||this}b.hash=function(a){return c("hashString")(d("ReStoreHashMigration").serializeTableData(a))};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"custom_migration_value_version")||this}return b}(a);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_default_value_version")||this}b.hash=function(a){return c("hashString")(JSON.stringify(a))};return b}(a);g.schemaMetadataTableName=h;g.ReStorePersistedMetadata=a;g.ReStorePersistedSchemaVersion=b;g.ReStorePersistedCustomMigrationVersion=e;g.ReStorePersistedDefaultValuesVersion=f}),98);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata","ReStorePersistedMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!0}function a(a){var b=a.reduce(function(a,b){return function(c){return c[b]!=null&&a(c)}},h);b.toString=function(){return"dynamic predicate on ["+a.join(",")+"]"};return b}function b(a){return function(b){var c={},d={};for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;for(var g=g,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k;if(h){if(i>=g.length)break;k=g[i++]}else{i=g.next();if(i.done)break;k=i.value}k=k;k.id!=null&&(c[k.id]=k.name);d[k.name]={autoIncrement:(j=k.auto_increment)!=null?j:!1,cascadeUpdates:(j=a[k.name])!=null?j:[],indexes:(j=Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).map(function(a){var b=a[0];a=a[1].columns;return[b,a]})))!=null?j:{},indexPredicates:Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).filter(function(a){a[0];a=a[1];return a.predicate}).map(function(a){var b=a[0];a=a[1];return[b,a.predicate]})),name:k.name,primaryKeyIds:k.primary_key}}}return{tableIds:c,tableNames:d}}}e=(c={},c[d("ReStoreDefaultValuesMetadata").defaultValuesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]},c[d("ReStoreIndexMetadata").indicesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]},c[d("ReStorePersistedMetadata").schemaMetadataTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStorePersistedMetadata").schemaMetadataTableName,primaryKeyIds:[]},c);g.createPredicate=a;g.getBuildTableData=b;g.RESTORE_METADATA_TABLES=e}),98);
__d("ReStoreHashSchemaProvider",["ReStoreHashMigration","ReStoreMetadata","ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){var e=b.tableIds;b=b.tableNames;c===void 0&&(c={});this.$1=a;this.tableNames=babelHelpers["extends"]({},b,d("ReStoreMetadata").RESTORE_METADATA_TABLES);this.tableIds=e;this.defaults=(a=c)!=null?a:{}}var c=a.prototype;c.migrate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreHashSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{schemaProviderType:"hash"}}));(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_hash_start");b=(yield d("ReStoreHashMigration").runHashMigration(this.$1,{tableIds:this.tableIds,tableNames:this.tableNames},this.defaults,a));(c=a.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreHashSchemaProvider] End migration. Result: "+b);(c=a.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_hash_end");return b});function c(b){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("ReStoreSchemaProvider",["ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return{defaults:babelHelpers["extends"]({},a.defaults,c.defaults),migrate:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield a.migrate(b));b=(yield c.migrate(b));if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE;else if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED});function f(a){return e.apply(this,arguments)}return f}(),tableIds:babelHelpers["extends"]({},a.tableIds,c.tableIds),tableNames:babelHelpers["extends"]({},a.tableNames,c.tableNames)}}g.mergeSchemaProviders=a}),98);
__d("LSMetadata",["LSClientSchemaType","LSDbSchema","LSSchemaProvider","ReStoreHashSchemaProvider","ReStoreMetadata","ReStoreSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReStoreSchemaProvider").mergeSchemaProviders(a,h)}var h=new(c("ReStoreHashSchemaProvider"))(d("LSClientSchemaType").MAW_SCHEMA_NAME,d("ReStoreMetadata").getBuildTableData({})([d("LSDbSchema").clientSchema]));b=a(c("LSSchemaProvider"));g.buildSchema=a;g.schema=b}),98);
__d("LSPlatformErrorChannel",["FBLogger","ODS","XPlatReactEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h,i="onLSError",j=new(c("XPlatReactEventEmitter"))(),k=0,l=null;function a(a){l===null&&((h||(h=d("ODS"))).bumpEntityKey(3185,"lsplatform_error","first_error_emitted_to_"+k+"listeners"),k===0&&c("FBLogger")("messenger_web_product").mustfix("No listeners when emitting LS error %s",a.name)),l=a,j.emit(i,a)}function b(a){var b=j.addListener(i,a);k++;return function(){return b.remove()}}function e(){return l}function f(){j.removeAllListeners(i),l=null}f={TEST_ONLY_clear:f,emit:a,lastError:e,subscribe:b};g["default"]=f}),98);
__d("LocalStorageWrapper",["CurrentMessengerUser","WAResultOrError","isQuotaExceededError","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("PersistedQueue").__setRef("LocalStorageWrapper");function i(a){var b=null;try{b=window.localStorage;if(b!=null&&typeof b.setItem==="function"&&typeof b.removeItem==="function"){var c="__test__"+Date.now();b.setItem(c,"");b.removeItem(c)}else return null}catch(c){if(d("isQuotaExceededError").isStorageQuotaExceededError(b,c)===!1){a("Failed to get localstorage");return null}}return b}function a(a){try{a=i(a);return a!=null}catch(a){return!1}}function j(a){try{var b=0,c={};for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;var e=(a[d].length+d.length)*2;b+=e;e/1024>1e3&&(c[d.substr(0,50)]=(e/1024).toFixed(2))}c.total=(b/1024).toFixed(2);return JSON.stringify(c)}catch(a){return"Can't calculate localStorage"}}function b(a,b,c,e,f){if(a==null)return d("WAResultOrError").makeError("null-storage");try{f!==void 0?k(a,b,c,f):a.setItem(b,c)}catch(f){if(d("CurrentMessengerUser").isEmployee()){var g=j(a);h.onReady(function(a){a=a.isQueueActivateExperiment().toString();e(f+" - Storage quota exceeded while setting "+b+":"+c+", queueActivateExp:"+a+" "+g)})}else e(f+" - Storage quota exceeded while setting "+b+":"+c);return d("WAResultOrError").makeError("quota-exceeded")}return d("WAResultOrError").makeResult()}function k(a,b,c,d){try{a.setItem(b,c)}catch(e){d(e),a.setItem(b,c)}}function e(a,b,c){a==null?c("not storage found"):a.removeItem(b)}function f(a,b,c){if(a==null){c("not storage found");return null}else return a.getItem(b)}g.getStorage=i;g.isLocalStorageAvailable=a;g.setItemGuarded=b;g.removeItemGuarded=e;g.getItemGuarded=f}),98);
__d("MAWBridge",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WABridge").getBridge()}g.getBridge=a}),98);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){d("MAWBridge").getBridge().fireAndForget(a,b,c,e)},b)}g.fireAndForget=a}),98);
__d("MAWWorkerEvent",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();function a(a,b){if(h.has(b))return;h.add(b);c("QPLUserFlow").start(c("qpl")._(1056842055,"807"),{annotations:{string:{event:a}},instanceKey:b})}function b(a){if(!h.has(a))return;h["delete"](a);c("QPLUserFlow").endSuccess(c("qpl")._(1056842055,"807"),{instanceKey:a})}function d(a,b){if(!h.has(a))return;h["delete"](a);c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"fail",{annotations:{string:{error:b}},instanceKey:a})}function e(a){if(!h.has(a))return;h["delete"](a);c("QPLUserFlow").addPoint(c("qpl")._(1056842055,"807"),"timeout_logged");c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"timeout",{instanceKey:a})}g.logStart=a;g.logSuccess=b;g.logFailure=d;g.logTimeout=e}),98);
__d("MAWBridgeLoggingUtils",["MAWWorkerEvent","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i=3185,j="armadillo_worker_runtime",k="getWorkerHeartbeat",l=10,m=new Array(l);function n(a,b,c){(h||(h=d("ODS"))).bumpEntityKey(i,j,a+"_"+b+"_"+c)}function a(a,b,c){n(a,b,"start");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_start");d("MAWWorkerEvent").logStart(b,c);m.length===l&&m.shift();m.push(a+"_"+b)}function o(a){m.filter(Boolean).forEach(function(b){(h||(h=d("ODS"))).bumpEntityKey(i,j,b+a)})}function b(a,b,c){n(a,b,"success");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_success");d("MAWWorkerEvent").logSuccess(c)}function c(a,b,c,e){n(a,b,"fail");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_fail");d("MAWWorkerEvent").logFailure(e,c)}function e(a,b,c){n(a,b,"timeout");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_timeout");d("MAWWorkerEvent").logTimeout(c)}function f(){o("_before_unresponsive"),m.fill(null)}g.CAT_ID=i;g.ENT=j;g.HEARTBEAT_ROUTE=k;g.RECENT_ROUTES_NUM=l;g.routeStart=a;g.logRecentRoutes=o;g.routeSuccess=b;g.routeFail=c;g.routeTimeout=e;g.logRecentBridgeEvents=f}),98);
__d("MAWODSProxy",["CurrentMessengerUser","ODS","WABridge","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!((b=c("gkx")("23949"))!=null?b:!1);function a(a,b){var c=a.amount,e=a.entity;a=a.key;b===void 0&&(b=!0);i?(h||(h=d("ODS"))).bumpEntityKey(3185,e,a+"."+(d("CurrentMessengerUser").getAppID()||"unknown"),c):d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:c,entity:e,key:a},b)}g.odsBumpEntityKey=a}),98);
__d("WAOdsEnums",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({WA_CONNECTIVITY:"wa_connectivity",GET_DEVICES:"armadillo_get_devices",DECRYPTION:"armadillo_msg_decryption",DEVICE_REREG_CHECK:"armadillo_device_rereg_check",DEVICE_REGISTRATION:"armadillo_device_registration",DEVICE_REGISTRATION_NON_EMPLOYEE:"armadillo_device_registration_non_employee",PHASH_MISMATCH:"phash_mismatch",WEB_PLACEHOLDER:"armadillo_web_placeholder",PREKEY_UPLOAD:"armadillo_prekey_upload",PREKEY_DIGEST:"armadillo_prekey_digest",C2C_META_SYNC:"armadillo_c2c_meta_sync",ADMIN_MESSAGE:"armadillo_admin_message",PREVIEW_SNIPPET:"armadillo_snippet",TOTAL_INCOMING_MESSAGE:"armadillo_total_incoming_message",COMPARE_IDENTITY:"armadillo_compare_identity",GET_PREKEY:"armadillo_get_prekey",SECURITY_ALERT_FOR_CONTACT:"armadillo_security_alert_for_contact",SECURITY_ALERT_FOR_SELF:"armadillo_security_alert_for_self",MSG_SEND:"armadillo_message_send",RETRY_MISSING_MSG:"armadillo_retry_missing_msg",REGISTRATION_TYPE:"aramdillo_registration_type",CLOCK_SKEW_UPDATE:"clock_skew_update",STREAM_ERROR:"wajs_stream_error",ICDC:"wajs_icdc",LOAD_MORE_NO_ORIGINAL_MSG_IN_MAW:"load_more_no_original_msg_in_maw",POISON_QUEUE_ENTTITY:"armadillo_poison_queue_entity",PQ_MIGRATION:"wajs_pq_migration",WORM:"wajs_worm",CAT_ROTATION:"cat_rotation",EB_RESTORE:"eb_restore",WA_DISCONNECT:"armadillo_disconnect",GROUP_CREATE:"armadillo_group_create",GROUP_DELETE:"armadillo_group_delete",GROUP_ADD_PARTICIPANT:"armadillo_group_add_participant",GROUP_PROMOTE_PARTICIPANT:"armadillo_group_promote_participant",GROUP_DEMOTE_PARTICIPANT:"armadillo_group_demote_participant",GROUP_REMOVE_PARTICIPANT:"armadillo_group_remove_participant",GROUP_LEAVE_PARTICIPANT:"armadillo_group_leave_participant",SEND_READ_RECEIPTS:"armadillo_send_read_receipts",MESSAGE_MISSING_THREAD_JID:"MESSAGE_MISSING_THREAD_JID",MESSAGE_MISSING:"MESSAGE_MISSING",MAW_NON_TIMEOUT:"maw_non_timeout",MAW_TIMEOUT:"maw_timeout",WA_FAIL_STANZA_QUEUE_ITEM:"wa_fail_stanza_queue_item",WA_QUERY_GROUP:"wa_query_group",MAW_MISMATCH_PARTICIPANT:"maw_mismatch_participant",MAW_ONE_TO_ONE_THREAD_PARTICIPANT_CLEANUP:"maw_one_to_one_thread_participant_cleanup",MAW_THREADID_DEPRECATION:"maw_threadid_deprecation",MAW_THREADID_DEPRECATION_DETAILS:"maw_threadid_deprecation_details",MAW_DELETE_DANGLING_PARTICIPANTS:"maw_delete_dangling_participants",S2S_QPL_MISSING_INSTANCE_KEY:"s2s_qpl_missing_instance_key",MAW_DEPRECATED_REDIRECT:"maw_deprecated_redirect",MAW_MUTATION_VALIDATOR:"maw_mutation_validator",MAW_THREAD_UPDATE_MIDDLEWARE:"maw_thread_update_middleware",WA_NO_SIGNED_PRE_KEY:"wa_no_signed_pre_key",WA_LONG_SESSION_DROP:"wa_long_session_drop",MAW_XMA_PROTOCOL_PARSING:"maw_xma_protocol_parsing",IGDW_INSTAMADILLO_MESSAGE_ON_OLD_WORKER:"igdw_new_msg_old_worker"});f.Entity=a}),66);
__d("WACustomError",[],(function(a,b,c,d,e,f){"use strict";var g=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function a(a,b,c){b===void 0&&(b=!0);function d(c){var d=Error.call(this,c);this.message=c;d.name=a;this.name=a;b&&(this.stack=d.stack)}d.prototype=Object.create(c?c.prototype:g);d.prototype.constructor=d;return d}function h(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=c!=null&&c.length>0?c:h(b);c=a.call(this,c)||this;c.errors=b;return c}return b}(a("AggregateError",!0));var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("TimeoutError",!1)),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.code=c;return a}return a}(a("HttpError",!1)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("UnimplementedMethod")),l=!1;function b(a){if(a==null||a.name!=="QuotaExceededError")throw a;l=!0}function c(){return l}function d(a){return JSON.stringify(a,Object.getOwnPropertyNames(a))}var m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.inner=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));f.customError=a;f.AggregateError=e;f.TimeoutError=i;f.HttpError=j;f.UnimplementedMethod=k;f.supressQuotaExceededError=b;f.hasSupressedQuotaExceededError=c;f.obtainErrorSummary=d;f.WrappedError=m}),66);
__d("WAAbortError",["WACustomError"],(function(a,b,c,d,e,f,g){"use strict";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d("WACustomError").customError("AbortError"));var h="AbortError";function a(a){return function(b){if(b.name===h)return a(b);else throw b}}g.AbortError=b;g.ABORT_ERROR=h;g.catchAbort=a}),98);
__d("WAPromiseDelays",["Promise","WAAbortError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){return new(h||(h=b("Promise")))(function(b,e){if(c==null?void 0:c.aborted)throw new(d("WAAbortError").AbortError)();var f=setTimeout(g,a);c==null?void 0:c.addEventListener("abort",h);function g(){c==null?void 0:c.removeEventListener("abort",h),b()}function h(){c==null?void 0:c.removeEventListener("abort",h),clearTimeout(f),e(new(d("WAAbortError").AbortError)())}})}function c(a,c,d){return new(h||(h=b("Promise")))(function(b,e){var f=setTimeout(function(){try{b(d())}catch(a){e(a)}},c);a.then(function(a){clearTimeout(f),b(a)},function(a){clearTimeout(f),e(a)})})}g.delayMs=a;g.withTimeout=c}),98);
__d("MAWMaybeWithTimeout",["MAWODSProxy","WAOdsEnums","WAPromiseDelays"],(function(a,b,c,d,e,f,g){"use strict";function h(){return!0}function a(a,b,c,e){return h()?d("WAPromiseDelays").withTimeout(a.then(function(a){var b;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_NON_TIMEOUT,key:(b=e)!=null?b:"unknown"});return a}),b,function(){var a;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TIMEOUT,key:(a=e)!=null?a:"unknown"});return c()}):a}g.maybeWithTimeout=a}),98);
__d("MAWTimedBridge",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4;function a(a,b,e,f,g){g===void 0&&(g=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(e).then(function(){return a()}),g,function(){d("MAWBridgeLoggingUtils").routeTimeout(b,e,f);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete bridge route %s in time",e)},e)}g.bridgeTimeout=a}),98);
__d("MAWBridgeSendAndReceive",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b,c,e){var f=d("MAWTimedBridge").bridgeTimeout(function(){var f=(e==null?void 0:e.isLoggingDisabled)!==!0;f&&d("MAWBridgeLoggingUtils").routeStart(a,b,h);return d("MAWBridge").getBridge().sendAndReceive(a,b,c,e==null?void 0:e.isLoggingDisabled).then(function(c){f&&d("MAWBridgeLoggingUtils").routeSuccess(a,b,h);return c})["catch"](function(c){f&&d("MAWBridgeLoggingUtils").routeFail(a,b,c.message,h);throw c})},a,b,h,e==null?void 0:e.timeoutMs);h++;return f}g.sendAndReceive=a}),98);
__d("MAWCryptoConsts",[],(function(a,b,c,d,e,f){a=60*60;b=24*a;c=32;d=new Uint8Array(0).buffer;e=128;a=256;var g=12,h=1,i=2,j=2;b=b*30*6;var k=3,l="AES-GCM",m="HKDF",n="SHA-256";f.HKDF_SEED_LENGTH_IN_BYTES=c;f.HKDF_INFO=d;f.AES_GCM_TAG_LENGTH=e;f.AES_GCM_KEY_LENGTH=a;f.AES_GCM_IV_LENGTH_IN_BYTES=g;f.VERSION=h;f.CIPHER_ID=i;f.ADDITIONAL_DATA_LENGTH_IN_BYTES=j;f.ENC_KEY_TTL=b;f.MAX_KEYCHAIN_SETUP_RETRIES=k;f.AES_GCM=l;f.HKDF=m;f.SHA256=n}),66);
__d("MAWKeychainUtil",[],(function(a,b,c,d,e,f){function a(a){return self.crypto.getRandomValues(new Uint8Array(a))}function b(a){var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength},0);return c.buffer}function c(a,b){return new Uint8Array([a,b]).buffer}function d(a){var b=a.length;if(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)){var c=[];for(var d=0,b=b/2;d<b;++d){var e=parseInt(a.substring(d*2,d*2+2),16);c.push(e)}return new Uint8Array(c)}else return null}f.getBufferWithRandomValuesFromLength=a;f.mergeBuffers=b;f.makeAAD=c;f.fromHexString=d}),66);
__d("MAWSubtleCrypto",[],(function(a,b,c,d,e,f){a=self.crypto;b=a&&(a.subtle||a.webkitSubtle||a.subtle);f.MAWSubtleCrypto=b}),66);
__d("MAWWebInitDataHelpers",["MessengerWebInitData","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("3992")?2:1}function b(a){switch(a){case 2:return c("MessengerWebInitData").accountKeyV2;case 1:return c("MessengerWebInitData").accountKey;default:throw c("err")("Invalid format version, should never happen.")}}g.getLastAccountKeyFormatVersion=a;g.getAccountKeyString=b}),98);
__d("WABase64",["WACryptoDependencies","WAErr","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Found unexpected character code while decoding B64 at index ",", length ",": ",""]);h=function(){return a};return a}var i=43,j=47,k=61,l=45,m=95,n=3e3,o="data:image/jpeg;base64,",p=function(a){return typeof a==="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)};function q(a){return r(a,i,j,!0)}function a(a,b){b===void 0&&(b=!1);return r(a,l,m,b)}function r(a,b,c,d){a=Array.isArray(a)||a instanceof ArrayBuffer?new Uint8Array(a):a;if(a.length<=n)return s(a,b,c,d);else{var e=[];for(var f=0;f<a.length;f+=n)e.push(s(a.subarray(f,f+n),b,c,d));return e.join("")}}function s(a,b,c,d){var e=Math.ceil(a.length*4/3),f=4*Math.ceil(a.length/3),g=new Array(f);for(var h=0,i=0;h<f;h+=4,i+=3){var j=a[i]<<16|a[i+1]<<8|a[i+2];g[h]=j>>18;g[h+1]=j>>12&63;g[h+2]=j>>6&63;g[h+3]=j&63}for(j=0;j<e;j++){a=g[j];a<26?g[j]=65+a:a<52?g[j]=71+a:a<62?g[j]=a-4:a===62?g[j]=b:g[j]=c}for(h=e;h<f;h++)g[h]=61;i=String.fromCharCode.apply(String,g);return d?i:i.substring(0,e)}function t(a,b,c,e){var f=a.length,g=new Int32Array(f+f%4);for(var i=0;i<f;i++){var j=a.charCodeAt(i);if(65<=j&&j<=90)g[i]=j-65;else if(97<=j&&j<=122)g[i]=j-71;else if(48<=j&&j<=57)g[i]=j+4;else if(j===b)g[i]=62;else if(j===c)g[i]=63;else if(j===e){f=i;break}else{self.ERROR!=null&&d("WALogger").ERROR(h(),i,f,j);return null}}j=g.length/4;for(b=0,c=0;b<j;b++,c+=4)g[b]=g[c]<<18|g[c+1]<<12|g[c+2]<<6|g[c+3];e=Math.floor(f*3/4);i=new Uint8Array(e);a=0;b=0;for(;b+3<=e;a++,b+=3){j=g[a];i[b]=j>>16;i[b+1]=j>>8&255;i[b+2]=j&255}switch(e-b){case 2:i[b]=g[a]>>16;i[b+1]=g[a]>>8&255;break;case 1:i[b]=g[a]>>16}return i}function b(a){a=t(a,i,j,k);if(a)return a.buffer;else throw c("WAErr")("Base64.decode given invalid string")}function e(a,b){b===void 0&&(b=!1);a=t(a,l,m,b?k:-1);if(a)return a.buffer;else throw c("WAErr")("Base64.decode given invalid string")}function f(a){a=a instanceof ArrayBuffer?new Uint8Array(a):t(a,i,j,k);return a&&Array.from(a)}function u(a){return Math.floor(a.length*3/4)}function v(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return q(a)}g.BASE64_DATA_URL_SCHEME=o;g.isBase64=p;g.encodeB64=q;g.encodeB64UrlSafe=a;g.decodeB64=b;g.decodeB64UrlSafe=e;g.decodeB64ToJsArray=f;g.sizeWhenB64Decoded=u;g.randomBase64=v}),98);
__d("MAWKeychainCrypto",["FBLogger","MAWCryptoConsts","MAWKeychainUtil","MAWSubtleCrypto","MAWWebInitDataHelpers","WABase64","asyncToGeneratorRuntime","err","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MAWKeychainUtil").makeAAD(d("MAWCryptoConsts").VERSION,d("MAWCryptoConsts").CIPHER_ID);function a(a,b,e){var f=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES),g=e?e:h;return d("MAWSubtleCrypto").MAWSubtleCrypto.encrypt({additionalData:g,iv:new Uint8Array(f),name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b).then(function(a){a=d("MAWKeychainUtil").mergeBuffers([g,f,a]);return d("WABase64").encodeB64(a)})["catch"](function(b){throw c("FBLogger")("maw_ear").catching(b).mustfixThrow("Failed to encryptDataToStringBuffer",typeof a,a.constructor.name)})}function e(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e,f=new Uint8Array(d("WABase64").decodeB64(b)),g=f.subarray(0,(e=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES),h=f.subarray(e.ADDITIONAL_DATA_LENGTH_IN_BYTES,e.AES_GCM_IV_LENGTH_IN_BYTES+e.ADDITIONAL_DATA_LENGTH_IN_BYTES);f=f.subarray(e.AES_GCM_IV_LENGTH_IN_BYTES+e.ADDITIONAL_DATA_LENGTH_IN_BYTES);try{e=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.decrypt({additionalData:g,iv:h,name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,f));return e}catch(d){c("FBLogger")("maw_ear").catching(d).mustfix("Failed to decryptDataToArrayBuffer",a.constructor.name,b.length,String(d));throw d}});return i.apply(this,arguments)}function j(a){a=d("MAWWebInitDataHelpers").getAccountKeyString(a);var b=d("MAWKeychainUtil").fromHexString(a);if(b==null)throw c("err")("Invalid value for account key. Is empty="+String(a.length===0)+";");return b.buffer}function k(a){a=j(a);return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").AES_GCM},!1,["encrypt","decrypt"])}function f(){return d("WABase64").encodeB64(d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES))}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);try{a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").HKDF},!1,["deriveKey"]));return a}catch(a){c("FBLogger")("maw_ear").catching(a).mustfix("Failed to importBrowserEncryptionKey");throw a}});return m.apply(this,arguments)}function n(){return d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES)}function o(a,b){var e;return d("MAWSubtleCrypto").MAWSubtleCrypto.deriveKey({hash:{name:(e=d("MAWCryptoConsts")).SHA256},info:e.HKDF_INFO,name:e.HKDF,salt:b},a,{length:e.AES_GCM_KEY_LENGTH,name:e.AES_GCM},!0,["encrypt","decrypt"]).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})["catch"](function(a){c("FBLogger")("maw_ear").catching(a).mustfix("Failed to genDatabaseEncryptionKey");throw a})}function p(a){a=a.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);return new DataView(a).getUint8(0)}function q(a){return p(d("WABase64").decodeB64(a))}var r=c("memoizeOneWithArgs")(function(a){return k(a)});function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.digest(d("MAWCryptoConsts").SHA256,a));return d("WABase64").encodeB64(a)});return t.apply(this,arguments)}g.ADDITIONAL_DATA=h;g.encryptDataToStringBuffer=a;g.decryptDataToArrayBuffer=e;g.getAccountKeyBuffer=j;g.genAccountKey=k;g.genBrowserEncryptionKeyString=f;g.importBrowserEncryptionKey=l;g.genDatabaseEncryptionSeed=n;g.genDatabaseEncryptionKey=o;g.getKeyVersionFromCipherData=p;g.getKeyVersionFromCipherDataString=q;g.getAccountKey=r;g.generateHashString=s}),98);
__d("WATimeUtils",["Promise","WAHex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=60,j=5*i,k=60*i,l=24*k,m=7*l,n=365*l,o=60*1e3,p=k*1e3,q=24*p,r=7*q,s=1<<31,t=~s,u=s+1,v={time:0,day:-4},w=0;function a(){return w}function c(a){w=a}function e(a){return V(a).toUTCString()}function x(a){a=a|0;return Math.max(u,Math.min(a,t))}function y(a){return x(a/1e3)}function f(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return u;else return t;else return x(a)}function z(a){return a==null?a:a>t?y(a):x(a)}function A(){return B(Y()-w*1e3)}function B(a){return a}function C(a){return a}function D(a){return B(a*1e3)}function E(a,b){var c=J();a=Math.max(a+b-c,0);return Math.min(1e3*a,~(1<<31))}function F(a,b){b=b!=null?b:J();return x(Math.ceil(b+Math.max(a,0)))}function G(a,b){b=b!=null?b:J();return x(Math.ceil(b-Math.max(a,0)))}function H(a){a=Math.max(a-J(),0);return Math.min(1e3*a,~(1<<31))}function I(a){var c=H(a);return new(h||(h=b("Promise")))(function(a){return void setTimeout(a,c)})}function J(){return x(Date.now()/1e3-w)}function K(){return x(Date.now()/1e3)}function L(){return x(new Date().setHours(0,0,0,0)/1e3-w)}function M(){return Date.now()-w*1e3}function N(a){return Math.max(a-J(),0)}function O(a){return N(a)>0}function P(){return performance.now()}function Q(a){return Math.floor(performance.now()-a)}function R(a,b){return a<b?a:b}var S=function(){function a(){var a=P();this.$1=a;this.$2=a}var b=a.prototype;b.reset=function(){this.$2=P()};b.elapsed=function(){return Q(this.$2)};b.cumulative=function(){return Q(this.$1)};return a}();function T(a,b,c){return Math.abs(a-b)<=c}function U(a,b){return T(J(),a,b)}function V(a){return new Date(a*1e3)}function W(a,b){if(Math.abs(a-b)>l)return!1;a=v.time===a?v.day:V(a+w).getDay();var c=v.time===b?v.day:V(b+w).getDay();v.time=b;v.day=c;return a===c}function X(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(x(a)*1e3):null}function Y(){return Date.now()}function Z(a,b){a=Math.abs(a-b);return Math.ceil(a/q)}g.MINUTE_SECONDS=i;g.FIVE_MINUTES=j;g.HOUR_SECONDS=k;g.DAY_SECONDS=l;g.WEEK_SECONDS=m;g.YEAR_SECONDS=n;g.MINUTE_MILLISECONDS=o;g.HOUR_MILLISECONDS=p;g.DAY_MILLISECONDS=q;g.WEEK_MILLISECONDS=r;g.DEFAULT_UNIXTIME=s;g.MAX_INT=t;g.getClockSkew=a;g.setClockSkew=c;g.toHttpHeaderDate=e;g.castToUnixTime=x;g.castMilliSecondsToUnixTime=y;g.castLongIntToUnixTime=f;g.castMillisTimeToUnixTime=z;g.millisTime=A;g.castToMillisTime=B;g.fromMillisTime=C;g.castUnixTimeToMillisTime=D;g.timeoutFor=E;g.futureUnixTime=F;g.pastUnixTime=G;g.cappedMillisecondsUntil=H;g.delayUntil=I;g.unixTime=J;g.unixTimeWithoutClockSkewCorrection=K;g.midnight=L;g.unixTimeMs=M;g.secondsUntil=N;g.isInFuture=O;g.monotonicTime=P;g.monotonicTimeSince=Q;g.oldest=R;g.MonotonicTimer=S;g.happenedWithinAt=T;g.happenedWithin=U;g.toDate=V;g.sameDay=W;g.convertHexToDate=X;g.performanceAbsoluteNow=Y;g.daysDiff=Z}),98);
__d("MAWEARGenNewKeychainCryptoKey",["FBLogger","MAWCryptoConsts","MAWKeychainCrypto","MAWWebInitDataHelpers","MessengerWebInitData","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a,b=d("MAWWebInitDataHelpers").getLastAccountKeyFormatVersion(),e=(yield (a=d("MAWKeychainCrypto")).getAccountKey(b)),f=a.genBrowserEncryptionKeyString(),g=a.genDatabaseEncryptionSeed();e=(yield a.encryptDataToStringBuffer(e,g));g=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);return{accountKeyString:yield a.generateHashString(d("MAWWebInitDataHelpers").getAccountKeyString(b)),appIdOrigin:c("MessengerWebInitData").appId,expiration:g,formatVersion:b,key:f,seed:e,userKeyBaseString:yield a.generateHashString(c("MessengerWebInitData").userKeyBase)}}catch(a){throw c("FBLogger")("messenger_e2ee_web").catching(a).mustfixThrow("Failed to generateNewKey")}});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWEARKeychainDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MAWEARKeychainDecryptionError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MAWErrorObject",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}g.getErrorObject=a}),98);
__d("MAWWorkerSetupArgs",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g}f.setWorkerSetupArgs=a;f.getWorkerSetupArgs=b}),66);
__d("MAWGenKeychainCryptoKeyWithVersion",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWEARKeychainDecryptionError","MAWKeychainCrypto","MAWWebInitDataHelpers","MAWWorkerSetupArgs","MessengerWebInitData","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f,g){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,k,l){g===void 0&&(g=1);try{var m=(yield d("MAWKeychainCrypto").getAccountKey(g));a=(yield (i||(i=b("Promise"))).all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a),new i(function(a,f){return d("MAWKeychainCrypto").decryptDataToArrayBuffer(m,e).then(a)["catch"](function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("MAWWebInitDataHelpers").getAccountKeyString(g);b=b!=null&&j!==(yield d("MAWKeychainCrypto").generateHashString(b));if(b)return f(new(c("MAWEARKeychainDecryptionError"))("Fail to decrypt seed with account key"));f(a)});return function(b){return a.apply(this,arguments)}}())})]));var n=a[0];a=a[1];n=(yield d("MAWKeychainCrypto").genDatabaseEncryptionKey(n,a));return{key:n,version:f}}catch(b){a=null;n=null;f=d("MAWWorkerSetupArgs").getWorkerSetupArgs();(h||(h=c("ExecutionEnvironment"))).isInWorker&&f!=null&&(a=f.userKeyBase===c("MessengerWebInitData").userKeyBase,n=f.fbId===d("MAWCurrentUser").getID());c("FBLogger")("maw_ear").catching(b).mustfix("Failed to genKeyWithVersion: accountKeyBackfilled = %s; accountKeyExists = %s; acccountKeyMatches = %s; userKeyBaseBackilled = %s; userKeyBaseExists = %s; userKeyBaseMatches = %s; appIdOrigin = %s; appIdInitData = %s; userIdMatches = %s; isInWorker = %s; userKeyBase_match_between_threads = %s; userId_match_between_threads = %s; formatVersion = %s;",j!=null,d("MAWWebInitDataHelpers").getAccountKeyString(g)!=null,j===(yield d("MAWKeychainCrypto").generateHashString(d("MAWWebInitDataHelpers").getAccountKeyString(g))),k!=null,c("MessengerWebInitData").userKeyBase!=null,k===(yield d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").userKeyBase)),l,c("MessengerWebInitData").appId,d("MAWCurrentUser").getID()===String(c("MessengerWebInitData").userId),(h||(h=c("ExecutionEnvironment"))).isInWorker,a,n,g);throw b}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("MAWLowLevelApiTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a={EXISTING_GROUP_INVITE:"existing_group_invite",MISSING_GROUP:"missing_group"};c={EXPIRED_GROUP_INVITE:"expired_group_invite",MISSING_GROUP:"missing_group",MISSING_GROUP_INVITE:"missing_group_invite"};d=b("$InternalEnum")({Initializing:"initializing",Open:"open",Closed:"closed",Error:"error",Upgrading:"upgrading"});f.WRITE_GROUP_INVITE_ERROR=a;f.GET_GROUP_INVITE_ERROR=c;f.DatabaseState=d}),66);
__d("MAWGetWorkerStatusApi",["MAWLowLevelApiTypes","Promise","WAResultOrError","WATagsLogger","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Worker Status: ",""]);i=function(){return a};return a}var j=d("WATagsLogger").TAGS(["WorkerStatus"]),k="initializing",l="disconnected",m={},n=[],o=function(){if(l==="disconnected")return(h||(h=b("Promise"))).resolve(d("WAResultOrError").makeError("comms_disconnected"));var a=Object.values(m).some(function(a){a=a.status;return a===d("MAWLowLevelApiTypes").DatabaseState.Error||a===d("MAWLowLevelApiTypes").DatabaseState.Closed});if(a)return(h||(h=b("Promise"))).resolve(d("WAResultOrError").makeError("database_failure"));a=d("WAResultOrError").makeResult({comms:l,databases:m,startup:k});j.LOG(i(),JSON.stringify(a));return(h||(h=b("Promise"))).resolve(a)};function p(){c("promiseDone")(o(),function(a){n.forEach(function(b){return b(a)})})}function a(a){n.push(a),c("promiseDone")(o(),function(b){return a(b)})}function e(a){l=a,p()}function f(a){k=a,p()}function q(a,b){m[a]=babelHelpers["extends"]({},m[a],{status:b}),p()}function r(a,b){m[a]=babelHelpers["extends"]({},m[a],{api:b}),p()}function s(a){return m[a]}g.getWorkerStatus=o;g.onWorkerStateChange=a;g.setCommsStatus=e;g.updateWorkerStatus=f;g.setDatabaseStatus=q;g.setDatabaseApi=r;g.getDatabaseMetadata=s}),98);
__d("MAWIndexedDbMetadata",[],(function(a,b,c,d,e,f){"use strict";var g="v1",h="v1",i="v1",j="v1",k="v1",l="v1",m="messenger_web_"+g,n="messenger_web_v3",o="messenger_web_encryption_"+h,p="messenger_web_signal_"+i,q="messenger_web_signal_v3",r="messenger_web_log_"+j,s="messenger_web_eb_lsdb_"+k,t="messenger_web_fts_"+l;function a(a){return m+"_"+a}function b(a){return t+"_"+a}function c(a){return n+"_"+a}function d(a){return o+"_"+a}function e(a){return p+"_"+a}function u(a){return q+"_"+a}function v(a){return r+"_"+a}function w(a){return s+"_"+a}f.dbName=a;f.ftsDbName=b;f.restoreDbName2=c;f.encryptionDbName=d;f.jobsDbName=e;f.signalWorm=u;f.logDbName=v;f.ebLSDBName=w}),66);
__d("MAWIndexedDBDeletion",["CurrentMessengerUser","FBLogger","MAWIndexedDbMetadata","Promise","asyncToGeneratorRuntime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,d){return indexedDB==null||a==null?(h||(h=b("Promise"))).resolve():new(h||(h=b("Promise")))(function(b,e){var f=indexedDB.deleteDatabase(a);f.onsuccess=function(){c("FBLogger")("maw_db").warn("%s db was deleted",d),b()};f.onblocked=function(){c("recoverableViolation")("Cannot delete "+d+" db: blocked","maw_db"),b()};f.onerror=function(){c("recoverableViolation")("Cannot delete "+d+" db","maw_db"),e(f.error)}})}function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("CurrentMessengerUser").getID();yield (h||(h=b("Promise"))).all([i(d("MAWIndexedDbMetadata").dbName(a),"maw_v1"),i(d("MAWIndexedDbMetadata").restoreDbName2(a),"maw_v3"),i(d("MAWIndexedDbMetadata").jobsDbName(a),"signal"),i(d("MAWIndexedDbMetadata").logDbName(a),"logDb")])});return j.apply(this,arguments)}g.deleteDB=i;g.deleteMAWPersistence=a}),98);
__d("WAAssertUnreachable",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("WAErr")("Impossible value, the default statement should never be reached for value: "+a)}g["default"]=a}),98);
__d("WAJids",["WAAssertUnreachable","WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i="@me",j="@system",k="status@broadcast",aa="0@s.whatsapp.net",l="@g.us",m=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,ba="@call",n="@msgr",ca="msgr",o="@interop",da="interop",p=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,q=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,r=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,s=/^([1-9][0-9]{0,19})@msgr$/,t=/^([1-9][0-9]{0,19})(:0)?@msgr$/,ea="@s.whatsapp.net",fa="s.whatsapp.net",u="@s.whatsapp.net",v="s.whatsapp.net",w="lid",x="@newsletter",y=/^([1-9][0-9]{0,19})@newsletter$/,z=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,A=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,B="@lid",ga="lid",C=/^([1-9][0-9]{0,14})@lid$/,D=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,ha="@broadcast",E=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,F=/^([0-9a-fA-F]{18,32})@call$/,G="@hosted",H="hosted",I=/^(((?!10)[1-9][0-9]{4,19})):99@hosted$/,J="@hosted.lid",K="hosted.lid",L=/^([1-9][0-9]{0,14}):99@hosted.lid$/,M="@bot",ia=/^[1-9][0-9]{0,19}(:0)?@bot$/,ja="16505361212"+u,ka=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function a(a){return""+a+u}function b(a){return""+a+B}function N(a){return""+a+n}function d(a){return a.endsWith(l)?a:""+a+l}function e(a){return a.endsWith(x)?a:""+a+x}function f(a){return a.endsWith(G)?a:""+a+G}function la(a){return a.endsWith(J)?a:""+a+J}function ma(){return l}function O(a){if(a.endsWith(u))return a.slice(0,-u.length);else if(a.endsWith(n))return a.slice(0,-n.length);else if(a.endsWith(o))return a.slice(0,-o.length);else if(a.endsWith(B))return a.slice(0,-B.length);else if(a.endsWith(M))return a.slice(0,-M.length);else throw c("WAErr")('userIdFromJid called with non-user jid "'+a+'"')}function na(a,b){return Y(O(a)+":"+b+u)}function oa(a,b){return Z(O(a)+":"+b+n)}function pa(a,b){return xb(P(a)+":"+b+B)}function qa(a,b){return X(O(a)+":"+b+W(a))}function ra(a){return""+a+ha}function sa(a){return a.split("@")[0]}function ta(a){a=a.split("@")[0];a=a.split(":");var b=a[0];a=a[1];a=parseInt(a,10);return{userId:b,deviceID:a}}function ua(a){a=ta(a);return a.deviceID}function va(a,b){if(a===i||a===j)return b;else return sa(a)}function wa(a){return a===i||a===j?null:a}function xa(a){if(a===i||a===j)return null;return!a.endsWith(u)?null:a}function ya(a){if(!a.endsWith(u))throw c("WAErr")('phoneNumberFromJid called with non-user jid "'+a+'"');return a.slice(0,-u.length)}function za(a){if(a.endsWith(u))return ya(a);else if(a.endsWith(B))return P(a);throw c("WAErr")('lidOrPhoneFromUserJid called with non phone or lid jid "'+a+'"')}function Aa(a){return a.endsWith(u)||a.endsWith(o)||a.endsWith(n)||a.endsWith(B)?a:null}function Ba(a){return a.endsWith(u)?a:null}function Ca(a){return a===k?null:$(a)}function Da(a){return a===k?null:$(a)}function Ea(a){return a===k?k:null}function P(a){if(!a.endsWith(B))throw c("WAErr")('lidFromLidUserJid called with non-LidUserJid "'+a+'"');return a.slice(0,-B.length)}function Q(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":")[0];b=b.split(".")[0];a===H&&(a=v);a===K&&(a=w);return yb(b+"@"+a)}function Fa(a){return Q(a)}function Ga(a){return Q(a)}function Ha(a){if(a.jidType==="phoneDevice")return a.deviceJid;else if(a.jidType==="interopDevice")return a.deviceJid;else if(a.jidType==="lidDevice")return a.deviceJid;else if(a.jidType==="msgrDevice")return a.deviceJid;else if(a.jidType==="lidUser")return a.userJid;else if(a.jidType==="interopUser")return a.userJid;else if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="phoneUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else if(a.jidType==="status")return a.statusJid;else if(a.jidType==="call")return a.callJid;else if(a.jidType==="newsletter")return a.newsletterJid;else if(a.jidType==="hosted")return a.hostedDeviceJid;else if(a.jidType==="hostedLid")return a.hostedLidDeviceJid;else if(a.jidType==="bot")return a.userJid;else{a.jidType;return a.broadcastJid}}function Ia(a){return Y(O(a)+":"+h+u)}function Ja(a){return Z(O(a)+":"+h+n)}function Ka(a){return pa(a,h)}function La(a){return ua(a)===h}function Ma(a){return Cb(a)}function Na(a){return a}function R(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":");var c=b[0];b=b[1];c=c.split(".");var d=c[0];c=c[1];return{user:d,device:b,agent:c,server:a}}function Oa(a){a=R(a);var b=a.user,c=a.agent;c=c===void 0?"0":c;var d=a.device;d=d===void 0?"0":d;a=a.server;return b+"."+c+":"+d+"@"+a}function Pa(a){switch(a.jidType){case"interopUser":return a.userJid;case"lidUser":return a.userJid;case"msgrUser":return a.userJid;case"phoneUser":return a.userJid;case"group":return a.groupJid;case"status":return a.statusJid;case"interopDevice":return a.deviceJid;case"lidDevice":return a.deviceJid;case"msgrDevice":return a.deviceJid;case"phoneDevice":return a.deviceJid;case"broadcast":return a.broadcastJid;case"call":return a.callJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;case"hostedLid":return a.hostedLidDeviceJid;case"bot":return a.userJid;default:return c("WAAssertUnreachable")(a.jidType)}}function Qa(a){if(a===k)return{jidType:"status",statusJid:k};else if(A.test(a))return{jidType:"phoneUser",userJid:zb(a)};else if(q.test(a))return{jidType:"interopUser",userJid:Ab(a)};else if(s.test(a))return{jidType:"msgrUser",userJid:Bb(a)};else if(t.test(a)){var b=a.substr(0,a.indexOf(":"));return{jidType:"msgrUser",userJid:N(b)}}else if(z.test(a))return{jidType:"phoneDevice",deviceJid:Y(a)};else if(p.test(a))return{jidType:"interopDevice",deviceJid:wb(a)};else if(r.test(a))return{jidType:"msgrDevice",deviceJid:Z(a)};else if(m.test(a))return{jidType:"group",groupJid:a.endsWith(l)?a:""+a+l};else if(E.test(a))return{jidType:"broadcast",broadcastJid:a};else if(F.test(a))return{jidType:"call",callJid:a};else if(C.test(a))return{jidType:"lidUser",userJid:a};else if(D.test(a))return{jidType:"lidDevice",deviceJid:a};else if(y.test(a))return{jidType:"newsletter",newsletterJid:a};else if(I.test(a))return{jidType:"hosted",hostedDeviceJid:a};else if(L.test(a))return{jidType:"hostedLid",hostedLidDeviceJid:a};else if(ia.test(a))return{jidType:"bot",userJid:a};else return{jidType:"unknown"}}function Ra(a){return a==="status@broadcast"?a:null}function Sa(a){if(A.test(a)||q.test(a)||s.test(a)||C.test(a))return a;else if(t.test(a)){a=a.substr(0,a.indexOf(":"));return N(a)}else return null}function Ta(a){return E.test(a)?a:null}function Ua(a){if(z.test(a)||r.test(a)||p.test(a)||D.test(a)||I.test(a)||L.test(a))return a;if(A.test(a))return sb(a);return ia.test(a)?tb(a):null}function Va(a){return p.test(a)?a:null}function S(a){return m.test(a)?a:null}function Wa(a){return Ra(a)||S(a)||Ta(a)?a:null}function Xa(a){return F.test(a)?a:null}function Ya(a){return a==="s.whatsapp.net"||a==="g.us"||a==="call"?a:null}function Za(a){return Sa(a)||S(a)}function $a(a){return y.test(a)?a:null}function ab(a){return I.test(a)?a:null}function bb(a){return L.test(a)?a:null}function cb(a){return Aa(a)==null?$(a):null}function db(a){a=R(a);var b=a.user,c=a.device;c=c===void 0?"0":c;a=a.server;return Y(b+":"+c+"@"+a)}function eb(a){if(a.endsWith(l))return a.slice(0,-l.length);else throw c("WAErr")('groupId called with non-group jid "'+a+'"')}function fb(a){var b=Qa(a);if(b.jidType==="unknown")return a;if(b.jidType==="status")return b.statusJid;b.jidType;return Pa(b).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3")}function gb(a){return!a.includes("@")?a:a.replace(ka,fb)}function T(a){if(a.endsWith(l))return $(a);else return null}function U(a,b){if(a.endsWith(u))return b.phoneUser(a);else if(a.endsWith(n))return b.msgrUser(a);else if(a.endsWith(o))return b.interopUser(a);else if(a.endsWith(B))return b.lidUser(a);else if(T(a)!=null)return b.group($(a));throw c("WAErr")("Can not switch on chat jid "+a)}function hb(a,b){if(a.endsWith(n))return b.user(a);else if(T(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function V(a,b){if(a.endsWith(u))return b.user(a);else if(T(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function ib(a,b){return U(a,{lidUser:function(a){return b.user(a)},interopUser:function(a){return b.user(a)},msgrUser:function(a){return b.user(a)},phoneUser:function(a){return b.user(a)},group:function(a){return b.group(a)}})}function jb(a,b){return a===k?b.status():V(a,{user:b.user,group:b.group})}function kb(a,b){return a===k?b.status():U(a,{interopUser:b.interopUser,phoneUser:b.phoneUser,msgrUser:b.msgrUser,lidUser:b.lidUser,group:b.group})}function lb(a,b){return a===k?b.multicast(k):V(a,{user:b.user,group:b.multicast})}function mb(a){return a.endsWith(B)}function nb(a){return a==="@me"}function ob(a){return a==="@system"}function pb(){return n}function qb(){return u}function rb(){return ea}function W(a){if(a.endsWith(u))return u;else if(a.endsWith(n))return n;else if(a.endsWith(B))return B;else if(a.endsWith(M))return M;else throw c("WAErr")('userDomainFromJid called with non-user jid "'+a+'"')}function sb(a){return X(O(a)+":"+h+W(a))}function tb(a){return X(""+O(a)+W(a))}function ub(a){a=a.platform;var b=a==="msgr"?n:u;function c(a){return""+a+b}function d(){return b}return{toUserJid:c,getUserDomain:d}}function vb(a){return a}function X(a){return a}function Y(a){return a}function Z(a){return a}function wb(a){return a}function xb(a){return a}function yb(a){return a}function zb(a){return a}function Ab(a){return a}function Bb(a){return a}function $(a){return a}function Cb(a){return a}function Db(a){return a}function Eb(a){return a}function Fb(a){return a}function Gb(a){return U(a,{group:function(a){return eb(a)},lidUser:function(a){return O(a)},interopUser:function(a){return O(a)},phoneUser:function(a){return O(a)},msgrUser:function(a){return O(a)}})}function Hb(){return ba}g.DEFAULT_DEVICE_ID=h;g.AUTHOR_ME=i;g.AUTHOR_SYSTEM=j;g.STATUS_JID=k;g.PSA_JID=aa;g.MSGR_USER_DOMAIN=n;g.MSGR_USER_JID_SUFFIX=ca;g.INTEROP_DOMAIN=o;g.INTEROP_USER_JID_SUFFIX=da;g.WA_SERVER_JID_SUFFIX=fa;g.WA_USER_DOMAIN=u;g.WA_USER_JID_SUFFIX=v;g.WA_LID_SUFFIX=w;g.WA_NEWSLETTER_JID_DOMAIN=x;g.LID_DOMAIN=B;g.LID_SUFFIX=ga;g.HOSTED_DOMAIN=G;g.HOSTED_SUFFIX=H;g.HOSTED_LID_DOMAIN=J;g.HOSTED_LID_SUFFIX=K;g.BOT_DOMAIN=M;g.SURVEY_USER_JID=ja;g.toPhoneUserJid=a;g.toLidUserJid=b;g.toMsgrUserJid=N;g.toGroupJid=d;g.toNewsletterJid=e;g.toHostedDeviceJid=f;g.toHostedLidDeviceJid=la;g.getGroupDomain=ma;g.userIdFromJid=O;g.toPhoneDeviceJid=na;g.toMsgrDeviceJid=oa;g.toLidDeviceJid=pa;g.toDeviceJid=qa;g.toBroadcastJid=ra;g.extractUserId=sa;g.extractDeviceIDParts=ta;g.extractDeviceId=ua;g.authorToUserId=va;g.authorAsUserJid=wa;g.authorAsPhoneUserJid=xa;g.phoneNumberFromJid=ya;g.lidOrPhoneFromUserJid=za;g.interpretAsUserJid=Aa;g.interpretAsPhoneUserJid=Ba;g.asChatJid=Ca;g.asPhoneChatJid=Da;g.asStatusJid=Ea;g.lidFromLidUserJid=P;g.extractUserJid=Q;g.extractPhoneUserJid=Fa;g.extractLidUserJid=Ga;g.extractJidFromJidWithType=Ha;g.defaultPhoneDeviceJidForUser=Ia;g.defaultMsgrDeviceJidForUser=Ja;g.defaultLidDeviceJidForLidUserJid=Ka;g.isPrimaryDevice=La;g.interpretAsDeviceId=Ma;g.interpretAsNumber=Na;g.parseJidParts=R;g.fullFormDeviceJidString=Oa;g.extractFromJid=Pa;g.interpretAndValidateJid=Qa;g.validateStatusJid=Ra;g.validateUserJid=Sa;g.validateBroadcastJid=Ta;g.validateDeviceJid=Ua;g.validateInteropDeviceJid=Va;g.validateGroupJid=S;g.validateMulticastJid=Wa;g.validateCallJid=Xa;g.validateDomainJid=Ya;g.validateChatJid=Za;g.validateNewsletterJid=$a;g.validateHostedDeviceJid=ab;g.validateHostedLidDeviceJid=bb;g.asMulticastJid=cb;g.stripAgentIdFromPhoneDeviceJid=db;g.groupIdFromJid=eb;g.sanitizeJidForLogging=fb;g.maybeSanitizeLogLineText=gb;g.interpretAsGroupJid=T;g.switchOnChatJidType=U;g.switchOnMsgrChatJidType=hb;g.switchOnPhoneChatJidType=V;g.switchOnUserChatJidType=ib;g.switchOnPhoneJidType=jb;g.switchOnJidType=kb;g.switchOnMulticastJidType=lb;g.isLidUser=mb;g.isAuthorMe=nb;g.isAuthorSystem=ob;g.getMsgrUserDomain=pb;g.getWhatsappUserDomain=qb;g.getServerDomain=rb;g.defaultDeviceJidForUser=sb;g.defaultDeviceJidForBot=tb;g.createJidUtils=ub;g.unsafeCoerceToChatJid=vb;g.unsafeCoerceToDeviceJid=X;g.unsafeCoerceToPhoneDeviceJid=Y;g.unsafeCoerceToMsgrDeviceJid=Z;g.unsafeCoerceToInteropDeviceJid=wb;g.unsafeCoerceToLidDeviceJid=xb;g.unsafeCoerceToUserJid=yb;g.unsafeCoerceToPhoneUserJid=zb;g.unsafeCoerceToInteropUserJid=Ab;g.unsafeCoerceToMsgrUserJid=Bb;g.unsafeCoerceToGroupJid=$;g.unsafeCoerceToDeviceId=Cb;g.unsafeCoerceToNewsletterJid=Db;g.unsafeCoerceToHostedDeviceJid=Eb;g.unsafeCoerceToHostedLidDeviceJid=Fb;g.threadIdForChatJid=Gb;g.getGroupCallDomain=Hb}),98);
__d("MAWJids",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";a=d("WAJids").createJidUtils({platform:"msgr"});b=a.toUserJid;g.jidUtils=a;g.toUserJid=b}),98);
__d("MAWKeychainNaClCrypto",["MAWCryptoConsts","MAWKeychainCrypto","WABase64","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="EARError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function i(a,b,c){c=c?c:d("MAWKeychainCrypto").ADDITIONAL_DATA;c=new Uint8Array(c);var e=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);b=d("tweetnacl").secretbox(b,e,new Uint8Array(a));a=new Uint8Array(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+e.length+b.length);a.set(c);a.set(e,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);a.set(b,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+e.length);return a.buffer}function j(a,b,c){return d("WABase64").encodeB64(i(a,b,c))}function k(a,b,c){var e,f;b.slice(0,(e=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES);var g=b.slice(e.ADDITIONAL_DATA_LENGTH_IN_BYTES,e.ADDITIONAL_DATA_LENGTH_IN_BYTES+(f=d("tweetnacl")).secretbox.nonceLength);e=b.slice(e.ADDITIONAL_DATA_LENGTH_IN_BYTES+f.secretbox.nonceLength,e.ADDITIONAL_DATA_LENGTH_IN_BYTES+f.secretbox.nonceLength+4*Math.ceil(b.byteLength/3));b=f.secretbox.open(new Uint8Array(e),new Uint8Array(g),new Uint8Array(a));if(b==null){throw new h("decryptTweetNaCl was unable to decrypt an entity. Attempting to use key version : "+((f=c)!=null?f:"non-provided")+".")}return b}function l(a,b,c){return k(a,d("WABase64").decodeB64(b),c)}function a(a,b,c){return j(a,b,c)}function b(a,b,c){return l(a,b,c)}g.EARDecryptionError=h;g.encryptTweetNaClArrayBuffer=i;g.encryptTweetNaCl=j;g.decryptTweetNaClArrayBuffer=k;g.decryptTweetNaCl=l;g.encrypt=a;g.decrypt=b}),98);
__d("MWLSIndexedDBName",["MAWCurrentUser","MWLSDatabaseNames"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWCurrentUser").getID();return d("MWLSDatabaseNames").lightspeedPrefix+a}g.dbName=a}),98);
__d("MAWRestoreDbState",["Deferred","FBLogger","MAWCurrentUser","MAWGetWorkerStatusApi","MAWIndexedDbMetadata","MWLSIndexedDBName","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=!1,j=new(c("Deferred"))();function a(){j.isSettled()||c("FBLogger")("messenger_e2ee_web").mustfix("isUsingShim called before db initted");return i}function b(){return!j.isSettled()?void 0:i}function e(){return j.getPromise().then(function(){return i})}function k(){var a=d("MAWCurrentUser").getID();a=c("qex")._("1210")?d("MWLSIndexedDBName").dbName():d("MAWIndexedDbMetadata").restoreDbName2(a);d("MAWGetWorkerStatusApi").setDatabaseApi(a,"shim")}function f(a){i=a,k(),j.resolve()}function l(a){if(!c("gkx")("1159"))return;if(a==null){h=null;return}h=a}function m(){return!c("gkx")("1159")?null:h}g.isUsingShim_UNSAFE=a;g.isUsingShim_LOGGING_ONLY=b;g.isUsingShim=e;g.setIsUsingShim=f;g.setTargetDbState=l;g.getTargetDbState=m}),98);
__d("MAWQplProxy",["MAWBridge","MAWRestoreDbState","MAWSendQplToServer","QPLEvent","asyncToGeneratorRuntime","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h=c("gkx")("23949"))!=null?h:!1,k=new Set([25313175,25310776,1056839232,1056840931,521485625,521480745,521478596,521479468,521485815]),l=0;function m(){return Date.now()}function n(a,b,c,e){var f;e===void 0&&(e=!0);f=(f=c==null?void 0:c.timestamp)!=null?f:m();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"point"},annotations:c==null?void 0:c.annotations,event:a,instanceKey:c==null?void 0:c.instanceKey,timestamp:e?f:void 0},!0)}function a(a,b,c,e){var f;d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:{bool:(f={},f[b]=c,f)},event:a,instanceKey:e},!0)}function e(a,b,c,e){var f;d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:{string:(f={},f[b]=c,f)},event:a,instanceKey:e},!0)}function f(a,b,c,e){var f;d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:{"int":(f={},f[b]=c,f)},event:a,instanceKey:e},!0)}function o(a,b,c){d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:{"double":b},event:a,instanceKey:c},!0)}function p(a,b,c){d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:b,event:a,instanceKey:c},!0)}function q(a,b,c,e){var f=m();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"failure"},annotations:c,event:a,instanceKey:e,timestamp:f},!0)}function r(a,b,c,e){e===void 0&&(e=!0);var f=m();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"success"},annotations:b,event:a,instanceKey:c,timestamp:e?f:void 0},!0)}function s(a,b,c){var e=m();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"cancel"},annotations:b,event:a,instanceKey:c,timestamp:e},!0)}function t(a,b,c){d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"error"},debugInfo:c==null?void 0:c.debugInfo,error:c==null?void 0:c.error,event:a,instanceKey:c==null?void 0:c.instanceKey},!0)}function u(a,b,c,d,e){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){n(a,b+"_start",{annotations:d,instanceKey:e});d=(yield c());n(a,b+"_end",{instanceKey:e});return d});return v.apply(this,arguments)}function w(a,b,e,f,g){g===void 0&&(g=!0);e==null&&l++;var h=(e=e)!=null?e:l;if(!x(a)){return d("MAWSendQplToServer").startQplUserFlow(a,b,h,(e=f)!=null?e:c("justknobx")._("2596"))}e=m();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"start"},annotations:b!=null?babelHelpers["extends"]({},b,{bool:babelHelpers["extends"]({},b.bool,{isUsingShim:d("MAWRestoreDbState").isUsingShim_LOGGING_ONLY()})}):{bool:{isUsingShim:d("MAWRestoreDbState").isUsingShim_LOGGING_ONLY()}},event:a,instanceKey:h,timeoutInMs:f,timestamp:g?e:void 0},!0);return{addAnnotations:function(b){return p(a,b,h)},addPoint:function(b,c){return n(a,b,{annotations:c,instanceKey:h})},endFail:function(b,c){return q(a,b,c,h)},endSuccess:function(b){return r(a,b,h)},markError:function(b,c,d){return t(a,b,{debugInfo:c,error:d,instanceKey:h})},startTime:e}}function x(a){return j||k.has((i||(i=d("QPLEvent"))).getMarkerId(a))}g.performanceAbsoluteNow=m;g.sendQplPointThroughBridge=n;g.sendQPLBoolAnnotationThroughBridge=a;g.sendQPLStringAnnotationThroughBridge=e;g.sendQPLIntAnnotationThroughBridge=f;g.sendQPLDoubleAnnotationsThroughBridge=o;g.sendQPLAnnotationsThroughBridge=p;g.sendQPLFailThroughBridge=q;g.sendQPLSuccessThroughBridge=r;g.sendQPLCancelThroughBridge=s;g.sendQPLErrorThroughBridge=t;g.measurePerfInQPL=u;g.startQplUserFlow=w}),98);
__d("MAWSendQplToServer",["MAWCurrentUser","MAWEBSwitch","MAWQplProxy","MAWRestoreDbState","QPLUserFlow","WAExceededStorageQuota","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=d("MAWQplProxy").performanceAbsoluteNow();c("QPLUserFlow").start(a,{annotations:babelHelpers["extends"]({},b||{},{bool:babelHelpers["extends"]({},(b==null?void 0:b.bool)||{},{is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_pdb:c("gkx")("24032"),isDev:0,isGifSearchEnbled:!0,isM1M2OverrideUser:c("gkx")("23951"),isRestoreDBEnabled:d("MAWRestoreDbState").isUsingShim_LOGGING_ONLY(),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),processAcksInOneQueue:c("gkx")("23955"),useSharedWorker:"SharedWorkerGlobalScope"in self&&self instanceof self.SharedWorkerGlobalScope})}),instanceKey:e,timeoutInMs:f,timestamp:g});return{addAnnotations:function(b){c("QPLUserFlow").addAnnotations(a,b,{instanceKey:e})},addPoint:function(b,f){var g=d("MAWQplProxy").performanceAbsoluteNow();f&&c("QPLUserFlow").addAnnotations(a,f,{instanceKey:e});c("QPLUserFlow").addPoint(a,b,{instanceKey:e,timestamp:g})},endFail:function(b,f){var g,h=d("MAWQplProxy").performanceAbsoluteNow();c("QPLUserFlow").addAnnotations(a,babelHelpers["extends"]({},f,{bool:babelHelpers["extends"]({},f==null?void 0:f.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers["extends"]({},f==null?void 0:f.string,{threadID:f==null?void 0:(g=f.string)==null?void 0:g.jid})}),{instanceKey:e});c("QPLUserFlow").endFailure(a,b,{annotations:f,instanceKey:e,timestamp:h})},endSuccess:function(b){var f=d("MAWQplProxy").performanceAbsoluteNow();c("QPLUserFlow").addAnnotations(a,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:e});c("QPLUserFlow").endSuccess(a,{annotations:b,instanceKey:e,timestamp:f})},markError:function(b,d,f){return c("QPLUserFlow").markError(a,b,{debugInfo:d,error:f,instanceKey:e})},startTime:g}}g.startQplUserFlow=a}),98);
__d("MAWTransactionMode",[],(function(a,b,c,d,e,f){"use strict";a="r";b="rw";f.READONLY=a;f.READWRITE=b}),66);
__d("WAArrayBufferUtils",["Promise","WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=new ArrayBuffer(a.length);b=new Uint8Array(b);var c,d;for(c=0,d=a.length;c<d;c++)b[c]=a.charCodeAt(c);return b.buffer}function d(a,c){c===void 0&&(c=5e5);return new(h||(h=b("Promise")))(function(b,d){var e=a.length,f=new ArrayBuffer(e),g=new Uint8Array(f),h=0;setTimeout(i,0);function i(){var d=Math.min(h+c,e);while(h<d)g[h]=a.charCodeAt(h),h++;if(h===e){b(f);return}setTimeout(i,16)}})}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var i=8388607;function f(a,b){a=new Uint8Array(a);if(b>i)throw c("WAErr")("Divisor is too big");var d=0;for(var e=0;e<a.length;++e)d=((d<<8)+a[e])%b;return d}function j(a){a=a.map(function(a){return new Uint8Array(a)});var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength},0);return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}function k(a,b){a=new Uint8Array(a);b=new Uint8Array(b);return l(a,b)}function l(a,b){if(a.byteLength!==b.byteLength)return!1;for(var c=0;c!==a.byteLength;c++)if(a[c]!==b[c])return!1;return!0}g.stringToArrayBuffer=a;g.largeStringToArrayBuffer=d;g.arrayBufferToString=e;g.arrayBufferMod=f;g.concatBuffers=j;g.arrayBuffersEqualUNSAFE=k;g.uint8ArraysEqualUNSAFE=l}),98);
__d("MAWVaultMaterials",["FBLogger","WAArrayBufferUtils","randomInt","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;function j(a){i=a}function k(){return h}function l(a){h=a}function a(){h=null,i=null}function m(){return o()!=null&&k()!=null}function n(){var a=1e9,b=9999999999;return c("randomInt")(a,b)+"##"+c("randomInt")(a,b)}function o(){return i}function p(){if(!m())throw c("FBLogger")("maw_ear").mustfixThrow("Vault materials are null");return{encryptionKey:h,prefixAndSuffix:i}}function b(a){var b=m();c("FBLogger")("maw_ear").debug("Setting vault materials -- vaultMaterials=%s, previouslySetup=%s",Boolean(a).toString(),b);if(!b){q((b=a)!=null?b:{encryptionKey:d("tweetnacl").randomBytes(32).buffer,prefixAndSuffix:n()})}return p()}function q(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(b==null||a==null)throw c("FBLogger")("maw_ear").mustfixThrow("Cannot set null values for encryption key and prefix");l(b);j(a)}function e(){return r(p())}function r(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(a!=null&&b!=null){b=d("WAArrayBufferUtils").arrayBufferToString(b);return JSON.stringify({encryptionKey:b,prefixAndSuffix:a})}else return""}function f(a){if(a==="")return null;else{a=JSON.parse(a);if(a.encryptionKey==null||a.prefixAndSuffix==null)throw c("FBLogger")("maw_ear").mustfixThrow("Vault materials were not in correct format");var b=d("WAArrayBufferUtils").stringToArrayBuffer(a.encryptionKey);a=a.prefixAndSuffix;return{encryptionKey:b,prefixAndSuffix:a}}}g.TEST_ONLY_clearVaultMaterials=a;g.hasVaultBeenSetup=m;g.getVaultPrefixAndSuffix=o;g.getVaultMaterials=p;g.initializeVaultMaterials=b;g.materialsToString=e;g.fromMaterialsToString=r;g.fromStringToMaterials=f}),98);
__d("MAWVault",["FBLogger","MAWKeychainNaClCrypto","MAWVaultMaterials","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map();function j(a){if(!c("gkx")("23909"))return!1;var b=d("MAWVaultMaterials").getVaultPrefixAndSuffix();b=b==null?!1:new RegExp(b+".*"+b).test(a);return b}function k(a,b){b===void 0&&(b=!1);if(!c("gkx")("23909"))return a;if(j(a)){var e=d("MAWVaultMaterials").getVaultMaterials(),f=e.encryptionKey;e=e.prefixAndSuffix;if(e==null)throw c("FBLogger")("maw_ear").mustfixThrow("Vault prefix and suffix should not be null when unvaulting");var g=new RegExp(e+"(.*)"+e);g=a.match(g);if(g==null||g.length!=2)throw c("FBLogger")("maw_ear").mustfixThrow("Could not retrieve inner value to unvault");if(f==null)throw c("FBLogger")("maw_ear").mustfixThrow("Vault encryption key was null before unvault");g=g[1];e=""+e+g+e;var h=m(f,g);return a.replace(e,function(){return h})}if(b){f=new RegExp("^[0-9]{10}##[0-9]{10}.*[0-9]{10}##[0-9]{10}$").test(a);if(f)throw c("FBLogger")("maw_ear").mustfixThrow("Encountered vaulted value with incorrect key.")}return a}function a(a){if(a==="")return a;if(!c("gkx")("23909"))return a;if(!d("MAWVaultMaterials").hasVaultBeenSetup()){c("FBLogger")("maw_ear").mustfix("Attempted to vault value while materials were not setup");return a}if(j(a)){c("FBLogger")("maw_ear").warn("Attempted to vault value that's already been vaulted");return a}var b=d("MAWVaultMaterials").getVaultMaterials(),e=b.encryptionKey;b=b.prefixAndSuffix;if(b==null||e==null)throw c("FBLogger")("maw_ear").mustfixThrow("Cannot vault before vault materials are set");e=l(e,a);return""+b+e+b}function b(a){if(!c("gkx")("23909"))return a;if(!j(a))throw c("FBLogger")("maw_ear").mustfixThrow("Value should be vaulted");return k(a)}function l(a,b){var c=h==null?void 0:h.get(b);if(c!=null)return c;c=new TextEncoder().encode(b).buffer;a=d("MAWKeychainNaClCrypto").encryptTweetNaCl(a,new Uint8Array(c));h==null?void 0:h.set(b,a);i==null?void 0:i.set(a,b);return a}function m(a,b){var c=i==null?void 0:i.get(b);if(c!=null)return c;c=new TextDecoder().decode(d("MAWKeychainNaClCrypto").decryptTweetNaCl(a,b));h==null?void 0:h.set(c,b);i==null?void 0:i.set(b,c);return c}g.isVaulted=j;g.unvault=k;g.vault=a;g.unvaultOrThrow=b}),98);
__d("isObject",[],(function(a,b,c,d,e,f){function a(a){var b=typeof a;return b==="function"||b==="object"&&!!a}f["default"]=a}),66);
__d("isPlainObject",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.prototype.toString.call(a)==="[object Object]"}f["default"]=a}),66);
__d("MAWVaultDb",["MAWQplProxy","MAWVault","err","gkx","isObject","isPlainObject","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=1/1e3,i=new WeakMap();function j(a,b){return b[a]!=null}function a(a,b,e){if(!c("isPlainObject")(a)||!c("gkx")("23909")||!j(b,e)||a==null)return a;var f=i.get(a);if(f!=null)return f;f=Math.random()<h?d("MAWQplProxy").startQplUserFlow(c("qpl")._(25301509,"119")):null;try{e=e[b];e=k(a,e,d("MAWVault").vault);f==null?void 0:f.endSuccess();i.set(a,e);return e}catch(a){f==null?void 0:f.endFail("vault_fail");throw c("err")(a.message+" - Failed to vault an entity in the table: "+b)}}function b(a,b,e){if(!c("isPlainObject")(a)||!c("gkx")("23909")||!j(b,e)||a==null)return a;var f=Math.random()<h?d("MAWQplProxy").startQplUserFlow(c("qpl")._(741087294,"2028")):null;try{a=k(a,e[b],d("MAWVault").unvault);f==null?void 0:f.endSuccess();return a}catch(a){f==null?void 0:f.endFail("unvault_fail");throw c("err")(a.message+" - Unvaulting failed for an entity in the table: "+b)}}function k(a,b,d){if(a==null)return a;b=Object.entries(b).filter(function(b){b=b[0];return a[b]!=null});return b.length===0?a:b.reduce(function(a,b){var e=b[0];b=b[1];typeof b!=="boolean"&&c("isObject")(b)?a[e]=k(a[e],b,d):b===!0&&(a[e]=d(a[e]));return a},babelHelpers["extends"]({},a))}g.vaultDbRow=a;g.unvaultDbRow=b;g.setInPath=k}),98);
__d("MAWVaultDefinitions",[],(function(a,b,c,d,e,f){"use strict";a={editMsgHistory:{msgContent:{content:!0}},messages:{msgContent:{content:!0},quote:{content:{msgContent:{content:!0}}}},unrenderedMessages:{msgContent:!0}};b={edit_message_history:{messageContent:!0},messages:{replyMessageText:!0,text:!0},threads:{snippet:!0}};f.ARMADILLO_IDB_VAULT_DEFINITIONS=a;f.PERSISTED_DB_VAULT_DEFINITIONS=b}),66);
__d("MAWVerifyThreadCutoverDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("MAWVerifyThreadCutoverDeferred");g["default"]=a}),98);
__d("MWBroadcastChannelPolyfill",["FBLogger","LocalStorageWrapper","MessengerLogHistory","Random","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init");function a(a){h.debug("[MWBroadcastChannelPolyfill] "+a)}function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}var j={},k=d("LocalStorageWrapper").getStorage(a);function b(a){var b="$BroadcastChannel$"+a+"$",e=!1,f=function(a){if(a.storageArea!==k)return;var c=a.newValue;if(c==null||c==="")return;if(((a=a.key)==null?void 0:a.substring(0,b.length))!==b)return;var d=JSON.parse(c);(a=j[b])==null?void 0:a.forEach(function(a){a({data:d})})};window.addEventListener("storage",f);return{addEventListener:function(a,c){j[b]=j[b]||new Set(),j[b].add(c)},close:function(){if(e)return;e=!0;j={};window.removeEventListener("storage",f)},postMessage:function(a){if(e){c("recoverableViolation")("Broadcast channel is closed","ls_web_init");return}a=JSON.stringify(a);var f=b+String(Date.now())+"$"+String(c("Random").uint32());d("LocalStorageWrapper").setItemGuarded(k,f,a,i);c("setTimeout")(function(){d("LocalStorageWrapper").removeItemGuarded(k,f,i)},500)},removeEventListener:function(a,c){(a=j[b])==null?void 0:a["delete"](c)}}}g["default"]=b}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return self.BroadcastChannel!=null?new self.BroadcastChannel(a):c("MWBroadcastChannelPolyfill")(a)}g.MWBroadcastChannel=a}),98);
__d("MWEARKeychainV3Errors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="EARKeychainNotFoundError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.EARKeychainNotFoundError=a}),66);
__d("MWEBODSCategory",[],(function(a,b,c,d,e,f){"use strict";a=7319;f["default"]=a}),66);
__d("MWEBODSEntityKey.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({START:"start",SUCCESS:"success",FAIL:"fail",INCORRECT_PIN_CODE:"incorrect_pin_code",INCORRECT_RECOVERY_CODE:"incorrect_recovery_code"});c=a;f["default"]=c}),66);
__d("MWEBODSEntityName.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW_EB_PIN_RESTORE_AUTH:"mw_eb_pin_restore_auth",MW_EB_RC_RESTORE_AUTH:"mw_eb_rc_restore_auth",MW_EB_AUTO_RESTORE_AUTH:"mw_eb_auto_restore_auth",MW_EB_OTC_AUTH:"mw_eb_otc_auth",MW_EB_ONBOARDING_AUTH:"mw_eb_onboarding_auth",MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MAW_EB_UPLOAD_TRACKING:"maw_eb_upload_tracking",MAW_EB_UPLOAD_COUNTER:"maw_eb_upload_counter",MAW_EB_RESTORE_COUNTER:"maw_eb_restore_counter",MAW_EB_RESTORE_QUEUE:"maw_eb_restore_queue"});c=a;f["default"]=c}),66);
__d("MWEncryptedBackupsLocalStorageEntryEnum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED:"maw_eb_interstitial_dialog_verify_device_nux_dismissed",VERIFY_DEVICE_NUX_DISMISSED:"maw_eb_verify_device_in_thread_nux_dismissed",ENCRYPTED_BACKUPS_OPT_OUT:"maw_encrypted_backups_opt_out",MW_ENCRYPTED_BACKUPS_USER_CLICKED_ON_SETTINGS:"mw_encrypted_backups_user_clicked_on_settings",MW_ENCRYPTED_BACKUPS_HIGH_FRICTION_RESTORE_DISMISSED:"mw_encrypted_backups_high_friction_restore__dismissed",ENCRYPTED_BACKUPS_TURN_OFF_SECURE_STORAGE:"mw_encrypted_backups_turn_off_secure_storage",ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT:"mw_encrypted_backups_remember_browser_consent",ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY:"maw_eb_restored_successfully",MW_EB_SHOULD_NOT_DISPLAY_SOFTBLOCK:"mw_eb_should_not_display_softblock",MW_EB_HAS_RESTORED_IN_CURRENT_SESSION:"maw_eb_has_restored_in_current_session",MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2:"maw_eb_has_restored_in_current_session_temp",ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY:"maw_eb_onboarded_successfully",EB_ONBOARDING_DEFER_UPSELL_UNTIL_TIME:"mw_eb_onboarding_defer_upsell_until_time",EB_ONBOARDING_QP_DISMISSED:"mw_eb_onboarding_qp_dismissed",EBSM_CORRUPTION_WIPE:"ebsm_corruption_wipe",MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE:"mw_eb_has_opted_out_of_auto_restore"});c=a;f["default"]=c}),66);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:3449")&&b("cr:3449").clearLocalStorageBigValues()}g.onQuotaExceeded=a}),98);
__d("ReStoreDbClosedError",["ClientConsistencyEventEmitter","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="ReStore DB closed";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;b=(b=b)!=null?b:h;e=a.call(this,b)||this;e.message=b;switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","ls_forced_refresh");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","ls_forced_refresh")}return e}return b}(babelHelpers.wrapNativeSuper(Error));g["default"]=a}),98);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="Failed to execute 'setItem' on 'Storage'",i="ReStoreLocalStorageQuotaExceed";function j(){try{var a=window.localStorage,b=[],d=[];if(a!=null&&a.length!==0)for(var e in a){b.length===0&&d.length===0&&(e.includes("falco_queue_log")&&d.push(e));if(!Object.prototype.hasOwnProperty.call(a,e))continue;var f=((a[e]||"").length+e.length)*2;f/1024>2e3&&b.push(e)}c("FBLogger")("maw_db").mustfix(h+": QuotaExceeded - trying to clean up %s or %s",b.join(","),d.join(","));return b.length!==0?b:d}catch(a){c("FBLogger")("maw_db").mustfix("Error getting local storage big values for cleanup.");return[]}}function a(){try{var a=window.localStorage,b=j();b.forEach(function(b){a.removeItem(b)})}catch(a){c("recoverableViolation")("Couldn't remove vals from localStorage","maw_db",a)}}b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=h+": "+b+"; Keys to delete: "+j().join(",");c=a.call(this,b)||this;c.message=b;c.name=i;return c}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.getLocalStorageValuesToRemoveOnExceed=j;g.clearLocalStorageBigValues=a;g.ReStoreLocalStorageQuotaExceed=b}),98);
__d("ReStoreTabNotifier",["CurrentMessengerUser","FBLogger","MWBroadcastChannel","MWLSIndexedDBName"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CurrentMessengerUser").getIDorEIMU();function a(a){var b=d("MWBroadcastChannel").MWBroadcastChannel(a==="restore-table-"+h+"-"+d("MWLSIndexedDBName").dbName()?"mwChat-"+h:a);function e(a,d){try{b.postMessage([a,d])}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).warn("Failed to broadcast changes")}}function f(a,c){b.addEventListener("message",function(b){b=b.data;var d=b[0];d===a&&c(b[1])})}return{onEventReceive:f,postMessage:e}}g["default"]=a}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("WAWorkerGlobalScope",[],(function(a,b,c,d,e,f){"use strict";a=function(){if(typeof window!=="undefined")return window;return typeof globalThis!=="undefined"?globalThis:self}();f.workerGlobalScope=a}),66);
__d("getMWEncryptedBackupsIsLocalStorageSupported",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){if((h||(h=c("WebStorage"))).getLocalStorage()==null){c("FBLogger")("labyrinth_web").warn("Local storage not supported");return!1}if((h||(h=c("WebStorage"))).isLocalStorageQuotaExceeded()){c("FBLogger")("labyrinth_web").warn("Local storage quota exceeded");return!1}return!0}g.getMWEncryptedBackupsIsLocalStorageSupported=a}),98);
__d("isArmadillo",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("135")===!0}g["default"]=a}),98);
__d("useAsyncReStore",["LSDatabaseSingleton","Promise","ReStoreProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;c=i||d("react");var l=c.useContext,m=c.useMemo;function a(){var a=l((k||(k=d("ReStoreProvider.react"))).context);return m(function(){return a!=null?(h||(h=b("Promise"))).resolve(a):(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton},[a])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometFeedInlineComposerQuery.graphql",["CometFeedInlineComposerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"includeSingleSprout"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null},g=[e,f];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerWOYM_profile"},{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerPressableProfilePic_profile"},{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerSproutsList_profile"},{kind:"InlineFragment",selections:g,type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Page",abstractKey:null}],storageKey:null},action:"THROW",path:"viewer.actor"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"FeedCometComposer",kind:"LinkedField",name:"feed_comet_composer",plural:!1,selections:[{condition:"includeSingleSprout",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerSingleSprout_composer"}]},{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerSproutsList_composer"}],storageKey:null},action:"THROW",path:"viewer.feed_comet_composer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometFeedInlineComposerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isActor"},e,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},f],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Profile",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[f],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeedCometComposer",kind:"LinkedField",name:"feed_comet_composer",plural:!1,selections:[{condition:"includeSingleSprout",kind:"Condition",passingValue:!0,selections:[{kind:"InlineFragment",selections:[{alias:"inline_single_sprout",args:[{kind:"Literal",name:"supported",value:"2anaPb"}],concreteType:null,kind:"LinkedField",name:"inline_sprouts",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSingleSprout_composer",fragmentName:"CometFeedInlineComposerSingleSproutMedia_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null}],storageKey:'inline_sprouts(supported:"2anaPb")'}],type:"ICometComposer",abstractKey:"__isICometComposer"}]},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1SGQn8"}],concreteType:null,kind:"LinkedField",name:"inline_sprouts",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"InlineComposerLiveProducerSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerLiveProducerSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMagicUploadsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMagicUploadsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerWithTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerLocationTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocationTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerFeelingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMinutiaeSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetWhatsAppMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetWhatsAppMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerReelsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerReelsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerBroadcastChannelSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerBroadcastChannelSprout",abstractKey:null}],storageKey:'inline_sprouts(supported:"1SGQn8")'}],type:"ICometComposer",abstractKey:"__isICometComposer"}],storageKey:null}],storageKey:null}]},params:{id:b("CometFeedInlineComposerQuery_facebookRelayOperation"),metadata:{},name:"CometFeedInlineComposerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometFeedInlineComposerSproutsList_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerSproutsList_composer",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1SGQn8"}],concreteType:null,kind:"LinkedField",name:"inline_sprouts",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"InlineComposerLiveProducerSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerLiveProducerSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMagicUploadsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMagicUploadsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerWithTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerLocationTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocationTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerFeelingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMinutiaeSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetWhatsAppMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetWhatsAppMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerReelsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerReelsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerBroadcastChannelSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerBroadcastChannelSprout",abstractKey:null}],storageKey:'inline_sprouts(supported:"1SGQn8")'}],type:"ICometComposer",abstractKey:"__isICometComposer"};e.exports=a}),null);
__d("CometFeedInlineComposerSproutsList_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerSproutsList_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometFeedInlineComposerSproutsList.react",["CometFeedInlineComposerSproutsList_composer.graphql","CometFeedInlineComposerSproutsList_profile.graphql","CometInlineComposerSproutListMatcher.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j;function a(a){var c=k(12),e=a.composer,f=a.onHoverInPrerenderer,g=a.onHoverOutPrerenderer,j=a.onPressInPrerenderer,m=a.profile$key,n=a.showFeedComposerDialog;a=a.triggerRef;var o;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=h!==void 0?h:h=b("CometFeedInlineComposerSproutsList_profile.graphql"),c[0]=o):o=c[0];d("RelayHooks").useFragment(o,m);c[1]===Symbol["for"]("react.memo_cache_sentinel")?(o=i!==void 0?i:i=b("CometFeedInlineComposerSproutsList_composer.graphql"),c[1]=o):o=c[1];m=d("RelayHooks").useFragment(o,e);if(c[2]!==m){e=(o=m==null?void 0:m.inline_sprouts)!=null?o:[];c[2]=m;c[3]=e}else e=c[3];o=e;c[4]===Symbol["for"]("react.memo_cache_sentinel")?(m="xqmpxtq x13fuv20 x178xt8z x78zum5 x1a02dak x1vqgdyp x1l1ennw x14vqqas x6ikm8r x10wlt62 x1y1aw1k xh8yej3",c[4]=m):m=c[4];c[5]!==f||c[6]!==g||c[7]!==j||c[8]!==n||c[9]!==o||c[10]!==a?(e=l.jsx("div",{className:m,children:l.jsx(d("CometInlineComposerSproutListMatcher.react").CometInlineComposerSproutListMatcher,{onHoverIn:f,onHoverOut:g,onPressIn:j,showComposerDialog:n,sprouts:o,triggerRef:a})}),c[5]=f,c[6]=g,c[7]=j,c[8]=n,c[9]=o,c[10]=a,c[11]=e):e=c[11];return e}g["default"]=a}),98);
__d("CometFeedInlineComposer.react",["fbt","CometCard.react","CometComposerAttachmentPluginTypes","CometComposerFooterAttachmentPluginTypes","CometFeedInlineComposerPressableProfilePic.react","CometFeedInlineComposerQuery.graphql","CometFeedInlineComposerSproutsList.react","CometFeedInlineComposerWOYM.react","CometRelay","CometScreenReaderHeading.react","cometGetKeyCommandConfig","cr:1993522","cr:3594","getComposerUnsavedChangesAlert","gkx","react","stylex","useComposerTerminalEventLog","useFeedComposerCometDialog","useLayerKeyCommands","useNullthrowsViolation","useOnBeforeUnload","usePostInProgress","useResumableComposerViewState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useMemo,o=e.useRef,p={body:{alignItems:"x6s0dn4",display:"x78zum5",flexWrap:"x1a02dak",paddingBottom:"x1a8lsjc",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",paddingTop:"xz9dl7a",$$css:!0},bodyNoSprouts:{paddingBottom:"xsag5q8",$$css:!0}},q={current:null};function a(a){a=a.feedInlineComposerQueryReference;var e=o(!1),f=c("useResumableComposerViewState")(),g=f.clearResumableViewState,k=f.getResumableViewState,r=f.saveResumableViewState;f=c("usePostInProgress")();var s=f.postPlainText,t=f.updatePostPlainText,u=o(!1);c("useOnBeforeUnload")(function(){return u.current===!0?c("getComposerUnsavedChangesAlert")(k()):void 0});c("useComposerTerminalEventLog")(function(){return u.current},function(){return k().creationSessionID});f=m(function(a){if(e.current===!0)u.current=!1,g(),t(k());else{var b;u.current=(b=a==null?void 0:a.isDirty)!=null?b:!1;r(a);t(k())}},[g,t,k,r]);var v=function(){e.current=!1},w=function(){u.current=!0,e.current=!1},x=function(){e.current=!0},y=h._("__JHASH__ecVLcDRqpWJ__JHASH__");a=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometFeedInlineComposerQuery.graphql"),a);a=a.viewer;var z=c("useNullthrowsViolation")(a.actor.id,"Unable to render CometFeedInlineComposer with null viewerID and type "+a.actor.__typename),A=a.actor.has_professional_features_for_watch===!0,B=A&&c("gkx")("23264");A=c("useFeedComposerCometDialog")({composerEntryPointName:"inline_composer",composerSourceSurface:"newsfeed",composerType:"feed",onBeforeClose:f,onSave:v,onSaveError:w,onSubmit:x,profileID:z,title:y,tracePolicy:"comet.composer.feed"});var C=A[0];f=A[1];v=A[2];w=A[3];x=A[4];var D=m(function(a){u.current=!1;var b=c("gkx")("20836");b=k(a==null?void 0:a.additionalMediaAttachmentItems,{startWithHeaderTextStyle:b});b=babelHelpers["extends"]({},b,{characterLimit:63206,mediaAttachmentsLimit:80,videoComposerData:{shouldOpenVideoSpecificComposer:B,targetID:z}});(a==null?void 0:a.pushedPageOnLoad)==="get_messages"&&(b=babelHelpers["extends"]({},b,{attachmentArea:babelHelpers["extends"]({},b.attachmentArea,{activeAttachmentType:c("CometComposerAttachmentPluginTypes").GET_MESSAGES}),isGetMessagesPost:!0,isGetMessagesPostAttachmentOptional:!0}));(a==null?void 0:a.pushedPageOnLoad)==="get_whatsapp_messages"&&(b=babelHelpers["extends"]({},b,{footerAttachmentArea:{activeFooterAttachmentType:d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES},isGetWhatsAppMessagePost:!0,isGetWhatsappMessagesPostAttachmentOptional:!0}));C({beginningViewState:b,pushedPageOnLoad:a==null?void 0:a.pushedPageOnLoad})},[k,C,z,B]);y=n(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","newPost",D)]},[D]);c("useLayerKeyCommands")(y);A=h._("__JHASH__wQWxG07eOjM__JHASH__");y=l.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:l.jsxs("div",{"aria-label":A,className:(j||(j=c("stylex")))(p.body,!c("CometFeedInlineComposerSproutsList.react")&&p.bodyNoSprouts),role:"region",children:[l.jsxs("div",{className:"x1cy8zhl x78zum5 x1iyjqo2 xs83m0k xh8yej3",children:[l.jsx(c("CometScreenReaderHeading.react"),{children:A}),l.jsx(c("CometFeedInlineComposerPressableProfilePic.react"),{profile$key:a.actor}),l.jsx(c("CometFeedInlineComposerWOYM.react"),{onHoverInPrerenderer:v,onHoverOutPrerenderer:w,onPress:function(){return D()},onPressInPrerenderer:x,postPlainText:s,profile$key:a.actor,triggerRef:f}),b("cr:3594")&&l.jsx("div",{className:"x1i64zmx",children:l.jsx(b("cr:3594"),{composer:a.feed_comet_composer,onPress:D})})]}),!b("cr:3594")&&l.jsx(c("CometFeedInlineComposerSproutsList.react"),{composer:a.feed_comet_composer,onHoverInPrerenderer:v,onHoverOutPrerenderer:w,onPressInPrerenderer:x,profile$key:a.actor,showFeedComposerDialog:D,triggerRef:f})]})});if(b("cr:1993522")==null)return y;else return l.jsx(b("cr:1993522"),{enableFeature:!1,fallback:l.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:l.jsxs("div",{"aria-label":A,className:"x6s0dn4 x78zum5 x1a02dak x1a8lsjc x1pi30zi x1swvt13 xz9dl7a",role:"region",children:[l.jsx(c("CometScreenReaderHeading.react"),{children:A}),l.jsx(c("CometFeedInlineComposerPressableProfilePic.react"),{profile$key:a.actor}),l.jsx(c("CometFeedInlineComposerWOYM.react"),{onPress:function(){},profile$key:a.actor,triggerRef:q}),c("CometFeedInlineComposerSproutsList.react")&&l.jsx(c("CometFeedInlineComposerSproutsList.react"),{composer:null,showFeedComposerDialog:function(){},triggerRef:q})]})}),children:y})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometFeedMostRecentHeader.react",["fbt","CometPressable.react","CometRouteParams","FDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(7),b=d("CometRouteParams").useRouteParams();b=b.sk;if(b!=="h_chr")return null;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__uwsm5G_5HyE__JHASH__"),a[0]=b):b=a[0];b=b;var e,f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e="x8cjs6t x13fuv20 x178xt8z x78zum5 xdj266r xkrivgy xat24cr x1gryazu xyamay9 x4uap5 x1l90r2v xkhd6sd",f="x1iyjqo2",a[1]=e,a[2]=f):(e=a[1],f=a[2]);var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",{className:f,children:k.jsx(c("FDSText.react"),{type:"headlineEmphasized3",children:h._("__JHASH__EwjDAHsS3QO__JHASH__")})}),g="xs83m0k",a[3]=f,a[4]=g):(f=a[3],g=a[4]);var i;a[5]===Symbol["for"]("react.memo_cache_sentinel")?(i={url:"/"},a[5]=i):i=a[5];a[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsxs("div",{className:e,children:[f,k.jsx("div",{className:g,children:k.jsx(c("CometPressable.react"),{display:"inline",label:b,linkProps:i,overlayDisabled:!0,children:k.jsx(c("FDSText.react"),{color:"blueLink",type:"body3",children:b})})})]}),a[6]=e):e=a[6];return e}g["default"]=a}),226);
__d("CometHomeContactChannels_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeContactChannels_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_broadcast_channel_creation",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"recent_broadcast_channels",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"useMWOpenBroadcastChannelFromProfile_channel"},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWAPPlusCreateBroadcastChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7784370071653784"}),null);
__d("MWAPPlusCreateBroadcastChannelDialogQuery$Parameters",["MWAPPlusCreateBroadcastChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWAPPlusCreateBroadcastChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWAPPlusCreateBroadcastChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWAPPlusCreateBroadcastChannelDialog.entrypoint",["JSResourceForInteraction","MWAPPlusCreateBroadcastChannelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";var h="421774700805768",i="760051096197486",j="1547241102502500";a={getPreloadProps:function(a){var b=a.isDarkModeEnabled;a=a.routeProps;a=(b=(b=b)!=null?b:a==null?void 0:a.isDarkModeEnabled)!=null?b:!1;b=!a;return{extraProps:{fetchAnimations:b},queries:{queryReference:{parameters:c("MWAPPlusCreateBroadcastChannelDialogQuery$Parameters"),variables:{assetID0:h,assetID1:i,assetID2:j,fetchAnimations:b}}}}},root:c("JSResourceForInteraction")("MWAPPlusCreateBroadcastChannelDialog.react").__setRef("MWAPPlusCreateBroadcastChannelDialog.entrypoint")};g["default"]=a}),98);
__d("useMWAPPlusOpenBroadcastChannelCreationDialog",["BroadcastChannelQPL","MWAPPlusCreateBroadcastChannelDialog.entrypoint","MWBroadcastChannelLoggingShapes","MWLogBroadcastChannelFalcoEvent","react","useCometRouterState","useCurrentDisplayMode","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function j(a){switch(a){case"public_chats:comet_www_inbox":return d("MWBroadcastChannelLoggingShapes").CREATE_CHANNEL_TAPPED_FULL_PAGE_SHAPE;case"public_chats:profile_channels_tab_item":return d("MWBroadcastChannelLoggingShapes").CREATE_CHANNEL_TAPPED_CHANNELS_TAB_SHAPE;case"public_chats:profile_channels_tab_null_state":return d("MWBroadcastChannelLoggingShapes").CREATE_CHANNEL_TAPPED_CHANNELS_TAB_NULL_STATE_SHAPE;case"public_chats:newsfeed_qp":return d("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_TAP_SHAPE;case"public_chats:profile_qp":return d("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_TAP_SHAPE;case"public_chats:profile_creation_bar":return d("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_TAP_SHAPE;case"public_chats:newsfeed_composer":return d("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_TAP_SHAPE;case"public_chats:channels_gutter":return d("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_FROM_GUTTER_TAP_SHAPE;default:return void 0}}function a(){var a=c("useCurrentDisplayMode")();a=a==="dark";a=c("useMWXEntryPointDialog")(c("MWAPPlusCreateBroadcastChannelDialog.entrypoint"),{isDarkModeEnabled:a});var b=a[0];a=c("useCometRouterState")();a=a==null?void 0:a.main.route.params.referral_source;var e=a!=null&&typeof a==="string"?a:void 0;return i(function(a){var c=j(a);c&&d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(c);d("BroadcastChannelQPL").logCreateBroadcastChannelQPLStart(a);b({creationEntrypoint:a,referralSource:e})},[b,e])}g["default"]=a}),98);
__d("CometHomeCreateChannelButton.react",["fbt","ix","CometListCellText.react","FDSListCellPressable.react","FDSSkittleIcon.react","FDSText.react","fbicon","react","useMWAPPlusOpenBroadcastChannelCreationDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c;function a(){var a=l(6),b=c("useMWAPPlusOpenBroadcastChannelCreationDialog")(),e;a[0]!==b?(e=function(){return b("public_chats:channels_gutter")},a[0]=b,a[1]=e):e=a[1];e=e;var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("483769"),20),size:36}),a[2]=f):f=a[2];var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("CometListCellText.react"),{headline:k.jsx(c("FDSText.react"),{type:"headline4",children:h._("__JHASH__1gQWzRyFFgF__JHASH__")})}),a[3]=g):g=a[3];a[4]!==e?(f=k.jsx(c("FDSListCellPressable.react"),{addOnStart:f,addOnStartMarginTop:0,content:g,onPress:e,paddingHorizontal:8}),a[4]=e,a[5]=f):f=a[5];return f}g["default"]=a}),226);
__d("MWThreadAddOnPrimary",["ARIA_LABEL_PLACEHOLDER_FIXME","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function i(a,b,c,d,e){return{addOn:e,primaryPhoto:{alt:c,source:{uri:a}},secondaryPhoto:{alt:c,source:{uri:b}},size:d,type:"messenger-facepile"}}function j(a,b,d,e,f){return{addOn:e,alt:b,"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),linkProps:void 0,shape:f,size:d,source:{uri:a},type:"profile-photo"}}function a(a){var b=a.isThreadActive,c=a.lastActiveTime,d=a.shape;d=d===void 0?"circle":d;var e=a.size,f=a.threadImages;a=a.threadTitle;a=a===void 0?"":a;b=b?{type:"availabilityBadge"}:c!=null?{border:"web-wash",time:c,type:"lastActiveTimeBadge"}:void 0;c=f[0];f=f[1];if(c!=null)if(f!=null)return i(c,f,a,e,b);else return j(c,a,e,b,d);else if(f!=null)return j(f,a,e,b,d);else return null}g.get=a}),98);
__d("useBroadcastChannelImpressionLogger",["MWLogBroadcastChannelFalcoEvent","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.action,e=a.clientExtras,f=a.event,g=a.parentSurface,h=a.source,j=a.surface,k=a.threadFbid;a=i(function(){var a;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:(a=b)!=null?a:2,clientExtras:e,event:f,parentSurface:g,source:h,surface:j,threadFbid:k})},[b,e,f,g,h,j,k]);return c("useSinglePartialViewImpression")({onImpressionStart:a})}g["default"]=a}),98);
__d("getMWThreadLinkHashFromJoinLink",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return null;a=d("ConstUriUtils").getUri(a);if(a==null?void 0:a.isSubdomainOfDomain("m.me")){a=a==null?void 0:(a=a.getPath())==null?void 0:a.split("/").filter(function(a){return a!==""});return(a==null?void 0:a.length)===2&&a[0]==="j"?a[1]:null}return null}g["default"]=a}),98);
__d("CometHomeContactChannels.react",["fbt","CometHomeContactChannels_viewer.graphql","CometHomeCreateChannelButton.react","CometHomeRightRailUnit.react","CometRelay","FBLogger","FDSUnitHeader.react","I64","MWInboxRouteBuilder","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWThreadAddOnPrimary","TetraListCell_DEPRECATED.react","intlSummarizeNumber","react","useBroadcastChannelImpressionLogger","useMWOpenBroadcastChannelFromProfile"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(j||(j=d("react"))).c,m=j;function a(a){var e=l(16);a=a.viewer$key;var f=d("MWPActor.react").isAPPlus(),g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=i!==void 0?i:i=b("CometHomeContactChannels_viewer.graphql"),e[0]=g):g=e[0];g=d("CometRelay").useFragment(g,a);a=(g==null?void 0:g.is_eligible_for_broadcast_channel_creation)===!0;var j,k;if(e[1]!==g){var o;o=g==null?void 0:(o=g.actor)==null?void 0:(o=o.recent_broadcast_channels)==null?void 0:o.map(n).filter(Boolean);k=c("useBroadcastChannelImpressionLogger");j=o?o.length.toString():"0";e[1]=g;e[2]=j;e[3]=k;e[4]=o}else j=e[2],k=e[3],o=e[4];e[5]!==j?(g={clientExtras:{num_channels:j},event:253,parentSurface:11,source:127,surface:91},e[5]=j,e[6]=g):g=e[6];j=k(g);if((o==null||o.length<1)&&!a||!f)return null;e[7]===Symbol["for"]("react.memo_cache_sentinel")?(k=m.jsx(c("FDSUnitHeader.react"),{headline:h._("__JHASH__ksbz0pICzgP__JHASH__"),headlineColor:"secondary",level:3}),e[7]=k):k=e[7];e[8]!==a?(g=a?m.jsx(c("CometHomeCreateChannelButton.react"),{}):null,e[8]=a,e[9]=g):g=e[9];e[10]!==o||e[11]!==g?(f=m.jsxs(c("CometHomeRightRailUnit.react"),{header:k,children:[o,g]}),e[10]=o,e[11]=g,e[12]=f):f=e[12];e[13]!==j||e[14]!==f?(a=m.jsx("div",{"data-testid":void 0,ref:j,children:f}),e[13]=j,e[14]=f,e[15]=a):a=e[15];return a}function n(a){if(a==null){c("FBLogger")("cm_web_mg").warn("channel is unavailable");return null}var b=a.id,d=a.image,e=a.participant_count,f=a.thread_name;if(b==null||f==null||(d==null?void 0:d.uri)==null){c("FBLogger")("cm_web_mg").warn("channel data is unavailable");return null}return m.jsx(o,{channel$key:a,image:d.uri,memberCount:parseInt(e,10),threadId:b,threadName:f},b)}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=l(16),e=a.channel$key,f=a.image,g=a.memberCount,i=a.threadId;a=a.threadName;var j;b[0]!==f?(j=d("MWThreadAddOnPrimary").get({isThreadActive:!1,shape:"circle",size:36,threadImages:[f]}),b[0]=f,b[1]=j):j=b[1];f=j;b[2]!==i?(j=function(){return d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({event:1,parentSurface:11,source:58,surface:91,threadFbid:(k||(k=d("I64"))).of_string(i)})},b[2]=i,b[3]=j):j=b[3];e=c("useMWOpenBroadcastChannelFromProfile")(e,"homeChannelsGutterUnit",j);if(b[4]!==g){j=c("intlSummarizeNumber")(g);j=h._("__JHASH__KsxzhLpOfWp__JHASH__",[h._plural(g),h._param("memberCount",j)]);b[4]=g;b[5]=j}else j=b[5];g=j;b[6]!==i?(j=d("MWInboxRouteBuilder").buildURL({thread_key:i}),b[6]=i,b[7]=j):j=b[7];j=j;var n;b[8]!==e||b[9]!==j?(n={onNavigate:e,url:j},b[8]=e,b[9]=j,b[10]=n):n=b[10];b[11]!==f||b[12]!==g||b[13]!==a||b[14]!==n?(e=m.jsx(c("TetraListCell_DEPRECATED.react"),{addOnPrimary:f,addOnPrimaryVerticalAlign:"center",body:g,bodyLineLimit:1,headline:a,headlineLineLimit:1,level:4,linkProps:n}),b[11]=f,b[12]=g,b[13]=a,b[14]=n,b[15]=e):e=b[15];return e}g["default"]=a}),226);
__d("CometHomeContactChannelsContainerQuery.graphql",["CometHomeContactChannelsContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeContactChannelsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometHomeContactChannels_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometHomeContactChannelsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_broadcast_channel_creation",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"recent_broadcast_channels",plural:!0,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isMessengerPinnableDiscoverablePublicChannelThread"},c,{alias:null,args:null,kind:"ScalarField",name:"join_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_count",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null},c],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContactChannelsContainerQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContactChannelsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometHomeContactChannelsContainer.react",["CometHomeContactChannels.react","CometHomeContactChannelsContainerQuery.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(3);a=a.homeContactChannelsQueryReference;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("CometHomeContactChannelsContainerQuery.graphql"),e[0]=f):f=e[0];f=d("CometRelay").usePreloadedQuery(f,a);a=f.viewer;e[1]!==a?(f=k.jsx(c("CometHomeContactChannels.react"),{viewer$key:a}),e[1]=a,e[2]=f):f=e[2];return f}g["default"]=a}),98);
__d("CometHomeContactCommunityChats_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"numChatsToFetch"}],kind:"Fragment",metadata:null,name:"CometHomeContactCommunityChats_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_hide_group_conversations_list",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"CommunityMessagingViewerFields",kind:"LinkedField",name:"community_messaging",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"last",variableName:"numChatsToFetch"}],concreteType:"CommunityMessagingViewerFieldsRecentChannelsConnection",kind:"LinkedField",name:"recent_channels",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"RequiredField",field:a,action:"LOG",path:"community_messaging.recent_channels.nodes.id"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},action:"LOG",path:"community_messaging.recent_channels.nodes.thread_name"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"image(height:36,width:36)"},{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"LOG",path:"community_messaging.recent_channels.nodes.community.group.name"},a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomeContactCommunityChats.react",["fbt","CometHomeContactCommunityChats_viewer.graphql","CometHomeContactsPresenceAwareList.react","CometHomeRightRailUnit.react","CometRelay","FDSUnitHeader.react","GroupsCometChatsEngagementLogger","JSResourceForInteraction","JSScheduler","MWThreadAddOnPrimary","TetraListCell_DEPRECATED.react","react","useCometPreloader","useGroupsCometIsInCCNegativeTest","useMWChatOpenTabForGroup"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.c,n=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("CometHomeContactCommunityChats.react"),o=h._("__JHASH__7RxSw2CIJLj__JHASH__");function a(a){var e=m(9);a=a.viewer$key;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i!==void 0?i:i=b("CometHomeContactCommunityChats_viewer.graphql"),e[0]=f):f=e[0];f=d("CometRelay").useFragment(f,a);a=d("useGroupsCometIsInCCNegativeTest").useShouldDisableCMInCometHomeForNegativeTest();if(a)return null;if((f==null?void 0:f.chat_sidebar_is_collapsed)===!0||(f==null?void 0:(a=f.actor)==null?void 0:a.should_hide_group_conversations_list)===!0)return null;a=(f==null?void 0:f.chat_visibility)===!0;if(e[1]!==f){var g;g=f==null?void 0:(g=f.community_messaging)==null?void 0:(g=g.recent_channels)==null?void 0:(g=g.nodes)==null?void 0:g.map(p).filter(Boolean);e[1]=f;e[2]=g}else g=e[2];f=g;if(f==null||f.length<1)return null;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("FDSUnitHeader.react"),{headline:o,headlineColor:"secondary",level:3}),e[3]=g):g=e[3];var h;e[4]!==f?(h=l.jsx(l.Fragment,{children:f}),e[4]=f,e[5]=h):h=e[5];e[6]!==a||e[7]!==h?(f=l.jsx("div",{children:l.jsx(c("CometHomeRightRailUnit.react"),{header:g,children:l.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:a,children:h})})}),e[6]=a,e[7]=h,e[8]=f):f=e[8];return f}function p(a){var b,c;if(a==null)return null;var d=a.community,e=a.id,f=a.image;a=a.thread_name;b=d==null?void 0:(b=d.group)==null?void 0:b.name;if(b==null||f==null||f.uri==null)return null;c=d==null?void 0:(c=d.group)==null?void 0:c.id;d=d==null?void 0:d.id;return l.jsx(q,{communityId:d,groupId:c,groupName:b,image:f.uri,name:a,threadId:e},e)}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=m(17),e=a.communityId,f=a.groupId,g=a.groupName,h=a.image,i=a.name,k=a.threadId;b[0]!==h?(a=d("MWThreadAddOnPrimary").get({isThreadActive:!1,shape:"circle",size:36,threadImages:[h]}),b[0]=h,b[1]=a):a=b[1];h=a;a=c("useMWChatOpenTabForGroup")("sidebarCommunityChatsList");var o=a[0],p=a[1];b[2]!==p||b[3]!==k?(a=function(){(j||(j=c("JSScheduler"))).scheduleSpeculativeCallback(function(){n.preload()}),p(k)},b[2]=p,b[3]=k,b[4]=a):a=b[4];a=a;a=c("useCometPreloader")("button",a,a);var q=a.onHoverInPreloader;a=a.onHoverOutPreloader;var r;b[5]!==e||b[6]!==f||b[7]!==k||b[8]!==o?(r=function(){d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:e,event:"thread_open",group_id:f,source:"chat_row",surface:"right_nav_bar",thread_id:k}),o(k)},b[5]=e,b[6]=f,b[7]=k,b[8]=o,b[9]=r):r=b[9];var s;b[10]!==h||b[11]!==g||b[12]!==i||b[13]!==q||b[14]!==a||b[15]!==r?(s=l.jsx("li",{children:l.jsx(c("TetraListCell_DEPRECATED.react"),{addOnPrimary:h,addOnPrimaryVerticalAlign:"center",body:g,bodyLineLimit:1,headline:i,headlineLineLimit:1,level:4,onHoverIn:q,onHoverOut:a,onPress:r})}),b[10]=h,b[11]=g,b[12]=i,b[13]=q,b[14]=a,b[15]=r,b[16]=s):s=b[16];return s}g["default"]=a}),226);
__d("CometHomeContactCommunityChatsContainerQuery.graphql",["CometHomeContactCommunityChatsContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"numChatsToFetch"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometHomeContactCommunityChatsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometHomeContactCommunityChats_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometHomeContactCommunityChatsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_hide_group_conversations_list",storageKey:null}],type:"User",abstractKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"CommunityMessagingViewerFields",kind:"LinkedField",name:"community_messaging",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"last",variableName:"numChatsToFetch"}],concreteType:"CommunityMessagingViewerFieldsRecentChannelsConnection",kind:"LinkedField",name:"recent_channels",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"image(height:36,width:36)"},{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContactCommunityChatsContainerQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContactCommunityChatsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometHomeContactCommunityChatsContainer.react",["CometHomeContactCommunityChats.react","CometHomeContactCommunityChatsContainerQuery.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(3);a=a.homeContactCommunityChatsQueryReference;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("CometHomeContactCommunityChatsContainerQuery.graphql"),e[0]=f):f=e[0];f=d("CometRelay").usePreloadedQuery(f,a);a=f.viewer;e[1]!==a?(f=k.jsx(c("CometHomeContactCommunityChats.react"),{viewer$key:a}),e[1]=a,e[2]=f):f=e[2];return f}g["default"]=a}),98);
__d("CometHomeContactGroup.react",["JSResourceForInteraction","JSScheduler","MWThreadAddOnPrimary","TetraListCell_DEPRECATED.react","react","useCometPreloader","useMWChatOpenTabForGroup"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.c,l=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("CometHomeContactGroup.react");function a(a){var b=k(18),e=a.activeStatusOn,f=a.images,g=a.isThreadActive,h=a.lastActiveTime,m=a.name,n=a.threadID;b[0]!==e||b[1]!==h||b[2]!==g||b[3]!==f?(a=d("MWThreadAddOnPrimary").get({isThreadActive:g,lastActiveTime:e?h:void 0,size:36,threadImages:f}),b[0]=e,b[1]=h,b[2]=g,b[3]=f,b[4]=a):a=b[4];e=a;h=c("useMWChatOpenTabForGroup")("sidebarGroupsList");var o=h[0],p=h[1];b[5]!==p||b[6]!==n?(g=function(){(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){l.preload()}),p(n)},b[5]=p,b[6]=n,b[7]=g):g=b[7];f=g;a=c("useCometPreloader")("button",f,f);h=a.onHoverInPreloader;g=a.onHoverOutPreloader;b[8]!==o||b[9]!==n?(f=function(){return o(n)},b[8]=o,b[9]=n,b[10]=f):f=b[10];a="sidebar_group_"+n;var q;b[11]!==e||b[12]!==m||b[13]!==h||b[14]!==g||b[15]!==f||b[16]!==a?(q=j.jsx(c("TetraListCell_DEPRECATED.react"),{addOnPrimary:e,headline:m,level:4,onHoverIn:h,onHoverOut:g,onPress:f,testid:void 0}),b[11]=e,b[12]=m,b[13]=h,b[14]=g,b[15]=f,b[16]=a,b[17]=q):q=b[17];return q}g["default"]=a}),98);
__d("CometHomeContactGroupsContentWrapper.react",["fbt","ix","CometHomeContactsPresenceAwareList.react","TetraListCell_DEPRECATED.react","fbicon","gkx","react","useMWChatOpenNewTab"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j;function a(a){var b=k(7),e=a.activeStatusOn;a=a.groups;var f=c("useMWChatOpenNewTab")("sidebarGroupsList");if(a.length>0){var g;b[0]!==a?(g=l.jsx(l.Fragment,{children:a}),b[0]=a,b[1]=g):g=b[1];b[2]!==e||b[3]!==g?(a=l.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:e,children:g}),b[2]=e,b[3]=g,b[4]=a):a=b[4];return a}else{b[5]!==f?(e=c("gkx")("23256")?null:l.jsx(c("TetraListCell_DEPRECATED.react"),{addOnPrimary:{icon:d("fbicon")._(i("483769"),20),size:36,type:"contained-icon"},headline:h._("__JHASH__nldYURqlkh6__JHASH__"),level:4,onPress:function(){return f(!1)}}),b[5]=f,b[6]=e):e=b[6];return e}}g["default"]=a}),226);
__d("CometHomeContactGroups_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={kind:"Literal",name:"height",value:36},c={kind:"Literal",name:"width",value:36},d=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__WebPixelRatiorelayprovider"},{kind:"RootArgument",name:"excludeBroadcastChannelThreads"},{kind:"RootArgument",name:"excludeCmThreads"}],kind:"Fragment",metadata:null,name:"CometHomeContactGroups_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_hide_group_conversations_list",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:[{kind:"Variable",name:"exclude_broadcast_channel_threads",variableName:"excludeBroadcastChannelThreads"},{kind:"Variable",name:"exclude_cm_threads",variableName:"excludeCmThreads"},{kind:"Literal",name:"group_threads_only",value:!0},{kind:"Literal",name:"last",value:10}],concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_xac",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},{alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null}],storageKey:null}],storageKey:null},a,{alias:null,args:[b,c],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:"image(height:36,width:36)"},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:[b,{kind:"Variable",name:"scale",variableName:"__relay_internal__pv__WebPixelRatiorelayprovider"},c],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("MWParticipantListRenderer",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");a=function(){function a(){var a=this;this.$6=function(b){var c=a.$5;if(c!=null){var d=b.id;if(d!=null&&c[d]!=null&&c[d]!=null)return c[d]}return a.$2?b.short_name:b.name};this.$1=!1;this.$2=!1;this.$3=!1;this.$4=0;this.$5=null}var b=a.prototype;b.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return j(this.$1);case 1:return k(a);case 2:return this.$3?m(a):l(a);case 3:return this.$3?o(a):n(a);default:return this.$3?q(a,this.$4):p(a,this.$4)}};b.setIsNewThread=function(a){this.$1=a;return this};b.setNameRenderer=function(a){this.$6=a;return this};b.setUseShortName=function(a){this.$2=a;return this};b.setNickname=function(a){this.$5=a;return this};b.setUseAndSeparator=function(a){this.$3=a;return this};b.setTotalParticipantCount=function(a){this.$4=a;return this};return a}();function j(a){if(a)return h._("__JHASH__uhF6__U4Uqu__JHASH__");else return h._("__JHASH__sUmg9cbVQAa__JHASH__")}function k(a){return a[0]}k.displayName=k.name+" [from "+f.id+"]";function l(a){return h._("__JHASH__QVqNH0CDXLb__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1])])}l.displayName=l.name+" [from "+f.id+"]";function m(a){return h._("__JHASH__JTikoCjxB3O__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1])])}m.displayName=m.name+" [from "+f.id+"]";function n(a){return h._("__JHASH__FfZsrZ3E8l3__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])])}n.displayName=n.name+" [from "+f.id+"]";function o(a){return h._("__JHASH__0a7wtHuBFBj__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])])}o.displayName=o.name+" [from "+f.id+"]";function p(a,b){return h._("__JHASH__DTZWN4rVq-W__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2]),h._param("others_link",r((b||a.length)-3))])}p.displayName=p.name+" [from "+f.id+"]";function q(a,b){return h._("__JHASH__P_doxz4r-mz__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_link",r((b||a.length)-2))])}q.displayName=q.name+" [from "+f.id+"]";function r(a){if(a>1)return h._("__JHASH__fXVmG3gSqH2__JHASH__",[h._param("others_count",a,[0])]);else return h._("__JHASH__AXvVFDKadXa__JHASH__")}g["default"]=a}),226);
__d("MWUIThreadTitle",["CurrentUser","MWParticipantListRenderer"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b={};Object.entries(a).forEach(function(a){var c=a[0];a=a[1];b[c]=a});return b}function i(a,b,d,e,f){if(a!=="")return a;a=h(d);return new(c("MWParticipantListRenderer"))().setUseShortName(f).setUseAndSeparator(e).setIsNewThread(!1).setNickname(a).renderParticipantList(b)}function a(a,b,d){var e=c("CurrentUser").getID(),f=Object.keys(b).length,g=Object.keys(b).map(function(a){if(a===e&&f>1)return;a=b[a];if(a!=null)return{id:a.id,name:a.name,short_name:a.short_name}}).filter(Boolean);return i(a,g,d,!0,!0)}function b(a,b){if(a!=null)return[a];else{var d=c("CurrentUser").getID();a=Object.keys(b);var e=a.length;return a.map(function(a){if(a===d&&e!==1)return;else{a=b[a];if(a!=null)return a.image_src;else return}}).filter(Boolean)}}g.getTitleForGroup_=a;g.getProfileImages_=b}),98);
__d("CometHomeContactGroups.react",["fbt","CometHomeContactGroup.react","CometHomeContactGroupsContentWrapper.react","CometHomeContactGroups_viewer.graphql","CometHomeRightRailUnit.react","CometRelay","CometVisualCompletionAttributes","FDSUnitHeader.react","MWUIThreadTitle","MWXacGating","cr:254","filterNulls","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m=h._("__JHASH__b0sYOo4GQ6M__JHASH__");function n(a,b){return a.map(function(a){var e,f,g,h;a=a==null?void 0:a.node;e=a==null?void 0:(e=a.thread_key)==null?void 0:e.thread_fbid;if(a==null||e==null)return null;if(a.is_xac===!0&&!d("MWXacGating").isGroupsEnabled())return null;f=(f=(f=a.all_participants)==null?void 0:f.edges)!=null?f:[];var i=!1;f=Object.fromEntries(f.map(function(a){var b;a=(a=a.node)==null?void 0:a.messaging_actor;if((a==null?void 0:a.id)==null)return null;var c=a.id;if((a==null?void 0:a.name)==null||((b=a.profile_picture)==null?void 0:b.uri)==null)return null;a.availability==="ACTIVE"&&(i=!0);return[c,{id:c,image_src:a.profile_picture.uri,name:a.name,short_name:(b=a.short_name)!=null?b:a.name}]}).filter(Boolean));g=(g=(g=a.customization_info)==null?void 0:g.participant_customizations)!=null?g:[];g=Object.fromEntries(g.map(function(a){return a==null||a.participant_id==null||a.nickname==null?null:[a.participant_id,a.nickname]}).filter(Boolean));h=d("MWUIThreadTitle").getTitleForGroup_((h=a.name)!=null?h:"",f,g);g=c("filterNulls")(d("MWUIThreadTitle").getProfileImages_((g=a.image)==null?void 0:g.uri,f));return l.jsx("li",{children:l.jsx(c("CometHomeContactGroup.react"),{activeStatusOn:b,images:g,isThreadActive:i,lastActiveTime:a.updated_time,name:h,threadID:e})},e)}).filter(Boolean).slice(0,3)}function o(a){var b=k(8),d=a.activeStatusOn;a=a.viewer;if(b[0]!==a){var e;e=(e=a==null?void 0:(e=a.message_threads)==null?void 0:e.edges)!=null?e:[];b[0]=a;b[1]=e}else e=b[1];b[2]!==e||b[3]!==d?(a=n(e,d),b[2]=e,b[3]=d,b[4]=a):a=b[4];e=a;b[5]!==d||b[6]!==e?(a=l.jsx(c("CometHomeContactGroupsContentWrapper.react"),{activeStatusOn:d,groups:e}),b[5]=d,b[6]=e,b[7]=a):a=b[7];return a}function a(a){var e=k(8);a=a.viewer$key;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i!==void 0?i:i=b("CometHomeContactGroups_viewer.graphql"),e[0]=f):f=e[0];f=d("CometRelay").useFragment(f,a);if((f==null?void 0:f.chat_sidebar_is_collapsed)===!0)return null;if((f==null?void 0:(a=f.actor)==null?void 0:a.should_hide_group_conversations_list)===!0)return null;a=(f==null?void 0:f.chat_visibility)===!0;var g;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("FDSUnitHeader.react"),{headline:m,headlineColor:"secondary",level:3}),e[1]=g):g=e[1];var h;e[2]!==a||e[3]!==f?(h=l.jsx(o,{activeStatusOn:a,viewer:f}),e[2]=a,e[3]=f,e[4]=h):h=e[4];e[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=b("cr:254")?l.jsx(b("cr:254"),{}):null,e[5]=a):a=e[5];e[6]!==h?(f=l.jsx("div",babelHelpers["extends"]({"data-testid":void 0},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:l.jsxs(c("CometHomeRightRailUnit.react"),{hasBottomDivider:!1,header:g,children:[h,a]})})),e[6]=h,e[7]=f):f=e[7];return f}g["default"]=a}),226);
__d("CometHomeContactGroupsContainerQuery.graphql",["CometHomeContactGroupsContainerQuery_facebookRelayOperation","WebPixelRatio.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"excludeBroadcastChannelThreads"},c={defaultValue:null,kind:"LocalArgument",name:"excludeCmThreads"},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={kind:"Literal",name:"height",value:36},h={kind:"Literal",name:"width",value:36},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometHomeContactGroupsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometHomeContactGroups_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__WebPixelRatiorelayprovider"}],kind:"Operation",name:"CometHomeContactGroupsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_hide_group_conversations_list",storageKey:null}],type:"User",abstractKey:null},e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:[{kind:"Variable",name:"exclude_broadcast_channel_threads",variableName:"excludeBroadcastChannelThreads"},{kind:"Variable",name:"exclude_cm_threads",variableName:"excludeCmThreads"},{kind:"Literal",name:"group_threads_only",value:!0},{kind:"Literal",name:"last",value:10}],concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_xac",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},{alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null}],storageKey:null},e],storageKey:null},f,{alias:null,args:[g,h],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:"image(height:36,width:36)"},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[d,e,f,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:[g,{kind:"Variable",name:"scale",variableName:"__relay_internal__pv__WebPixelRatiorelayprovider"},h],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null}],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContactGroupsContainerQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContactGroupsContainerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__WebPixelRatiorelayprovider:b("WebPixelRatio.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometHomeContactGroupsContainer.react",["CometHomeContactGroups.react","CometHomeContactGroupsContainerQuery.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(3);a=a.homeContactGroupsQueryReference;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("CometHomeContactGroupsContainerQuery.graphql"),e[0]=f):f=e[0];f=d("CometRelay").usePreloadedQuery(f,a);a=f.viewer;e[1]!==a?(f=k.jsx(c("CometHomeContactGroups.react"),{viewer$key:a}),e[1]=a,e[2]=f):f=e[2];return f}g["default"]=a}),98);
__d("CometHomeContactsContainerQuery.graphql",["CometHomeContactsContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"numContactsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Literal",name:"supported",value:"3qCwpv"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeContactsContainerQuery",fragmentName:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer",fragmentPropName:"contactsHomeDefaultRenderer",kind:"ModuleImport"}],type:"XFBContactsHomeDefaultRenderer",abstractKey:null},e={kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeContactsContainerQuery",fragmentName:"CometHomeContactsMessagingSolutionForAPRenderer_contactsHomeMessagingSolutionForAPRenderer",fragmentPropName:"contactsHomeMessagingSolutionForAPRenderer",kind:"ModuleImport"}],type:"XFBContactsHomeMessagingSolutionForAPRenderer",abstractKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometHomeContactsContainerQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"contacts_home_renderer",plural:!1,selections:[d,e],storageKey:'contacts_home_renderer(supported:"3qCwpv")'}],type:"User",abstractKey:null}],storageKey:null},action:"THROW",path:"viewer.actor"}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometHomeContactsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"contacts_home_renderer",plural:!1,selections:[f,d,e],storageKey:'contacts_home_renderer(supported:"3qCwpv")'}],type:"User",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContactsContainerQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContactsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometHomeContactsContainer.react",["CometHomeContactsContainerQuery.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var c=j(6);a=a.homeContactsQueryReference;var e;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h!==void 0?h:h=b("CometHomeContactsContainerQuery.graphql"),c[0]=e):e=c[0];e=d("CometRelay").usePreloadedQuery(e,a);a=e.viewer;e=a.actor.contacts_home_renderer;if(e==null){c[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{}),c[1]=a):a=c[1];return a}c[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{}),c[2]=a):a=c[2];var f;c[3]===Symbol["for"]("react.memo_cache_sentinel")?(f={},c[3]=f):f=c[3];c[4]!==e?(a=k.jsx(d("CometRelay").MatchContainer,{fallback:a,match:e,props:f}),c[4]=e,c[5]=a):a=c[5];return a}g["default"]=a}),98);
__d("CometHomeContactAndGroupContainer.react",["CometErrorBoundary.react","CometHomeContactChannelsContainer.react","CometHomeContactCommunityChatsContainer.react","CometHomeContactGroupsContainer.react","CometHomeContactsContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(13),d=a.homeContactChannelsQueryReference,e=a.homeContactCommunityChatsQueryReference,f=a.homeContactGroupsQueryReference;a=a.homeContactsQueryReference;var g;b[0]!==a?(g=j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometHomeContactsContainer.react"),{homeContactsQueryReference:a})}),b[0]=a,b[1]=g):g=b[1];b[2]!==e?(a=e!=null&&j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometHomeContactCommunityChatsContainer.react"),{homeContactCommunityChatsQueryReference:e})}),b[2]=e,b[3]=a):a=b[3];b[4]!==d?(e=d!=null&&j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometHomeContactChannelsContainer.react"),{homeContactChannelsQueryReference:d})}),b[4]=d,b[5]=e):e=b[5];b[6]!==f?(d=j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometHomeContactGroupsContainer.react"),{homeContactGroupsQueryReference:f})}),b[6]=f,b[7]=d):d=b[7];b[8]!==g||b[9]!==a||b[10]!==e||b[11]!==d?(f=j.jsxs(j.Fragment,{children:[g,a,e,d]}),b[8]=g,b[9]=a,b[10]=e,b[11]=d,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("CometHomeCreateGroupButtonShim.react",["cr:1996927"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1996927")}),98);
__d("CometHomeGQLCreateGroupButton.react",["fbt","ix","TetraListCell_DEPRECATED.react","fbicon","react","useCometHomeOpenNewChatTab"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c;function a(){var a=l(10),b=c("useCometHomeOpenNewChatTab")("sidebarGroupsList"),e,f;a[0]!==b?(e=b.onPress,f=babelHelpers.objectWithoutPropertiesLoose(b,["onPress"]),a[0]=b,a[1]=e,a[2]=f):(e=a[1],f=a[2]);a[3]!==e?(b=function(){e()},a[3]=e,a[4]=b):b=a[4];b=b;var g,j;a[5]===Symbol["for"]("react.memo_cache_sentinel")?(g={icon:d("fbicon")._(i("483769"),20),size:36,type:"contained-icon"},j=h._("__JHASH__N3jQuSpN-AP__JHASH__"),a[5]=g,a[6]=j):(g=a[5],j=a[6]);a[7]!==f||a[8]!==b?(g=k.jsx(c("TetraListCell_DEPRECATED.react"),babelHelpers["extends"]({},f,{addOnPrimary:g,headline:j,level:4,onPress:b,testid:void 0})),a[7]=f,a[8]=b,a[9]=g):g=a[9];return g}g["default"]=a}),226);
__d("CometHomeRightSideEgoRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7287272964686185"}),null);
__d("CometHomeRightSideEgoRefetchQuery.graphql",["CometHomeRightSideEgoRefetchQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:0,kind:"LocalArgument",name:"refresh_num"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c={kind:"Variable",name:"refresh_num",variableName:"refresh_num"},d=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometHomeRightSideEgoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[c],kind:"FragmentSpread",name:"CometHomeRightSideEgo_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometHomeRightSideEgoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"sideFeed",args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!0},c],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:d,type:"AdsSideFeedUnitItem",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeRightSideEgoRefetchQuery_facebookRelayOperation"),metadata:{},name:"CometHomeRightSideEgoRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometHomeRightSideEgo_viewer.graphql",["CometHomeRightSideEgoRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:0,kind:"LocalArgument",name:"refresh_num"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["viewer"],operation:b("CometHomeRightSideEgoRefetchQuery.graphql")}},name:"CometHomeRightSideEgo_viewer",selections:[{alias:"sideFeed",args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!0},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometSideAdsRefreshHandler",["CometDebounce","CometHomeRightSideEgoRefetchQuery.graphql","CometRHCRefreshConfig","CometRelay","ODS","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,e,f,g){var i=this;(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.constructor");this.$1=a;this.$2=!0;this.$9=1;this.$3=!1;this.$4=b;this.$6=!1;this.$7=!1;this.$8=!1;this.$10=!1;this.$11=!1;this.$5=Date.now();this.$13=e;this.$14=f;this.$16=g;this.$15=!1;this.$12=c("CometDebounce")(function(){i.checkEligibilityAndRefreshIfAllowed()},{wait:c("CometRHCRefreshConfig").debounceDelay})}var b=a.prototype;b.checkEligibilityAndRefreshIfAllowed=function(){this.checkRefreshEligibility()&&this.refresh()};b.checkRefreshEligibility=function(){if(this.$14||this.$6||!this.$2)return!1;if(this.isAdBackgroundedOnHomeTab()||this.isAdHiddenOnHomeTab())return!1;if(this.$8||Date.now()-this.$5>=c("CometRHCRefreshConfig").refreshTimeout){c("CometRHCRefreshConfig").enableTestMode&&d("CometRelay").fetchQuery(this.$1,c("CometHomeRightSideEgoRefetchQuery.graphql"),{refresh_num:this.$9,scale:d("WebPixelRatio").get()},{}).toPromise();return!0}return!1};b.unregister=function(){this.$15&&(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_query_discarded"),this.$2=!1,this.handleActivityTracking()};b.refresh=function(){var a=this;if(this.$6)return;(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refresh_triggered");this.$6=!0;var b="store-or-network";this.$8&&this.$9!==0&&((h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_started"),b="network-only",this.$9=0,this.$15=!0);d("CometRelay").fetchQuery(this.$1,c("CometHomeRightSideEgoRefetchQuery.graphql"),{refresh_num:this.$9,scale:d("WebPixelRatio").get()},{fetchPolicy:b}).toPromise().then(function(b){if(a.$14||a.isAdBackgroundedOnHomeTab()||a.isAdHiddenOnHomeTab()||a.$7){(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refresh_cancelled");return}b=a.isAdHiddenForRefresh();a.$8&&(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_finished."+(b?"hidden":"visible"));a.$8=!1;b?(a.$10=!0,a.$13(a.$9),a.$9++,(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refreshing_ui.hidden")):(a.$13(a.$9),a.$9++,a.$15=!1,a.$5=Date.now(),(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refreshing_ui.visible"))})["finally"](function(){a.$6=!1,a.$7&&(a.$7=!1,window.setTimeout(a.checkEligibilityAndRefreshIfAllowed(),0))})};b.restartInitialLoad=function(){if(this.$8||!this.$2){this.$2&&!this.$8&&(h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_opportunity_lost.not_refreshed");return}this.$8=!0;this.$6?this.$7=!0:this.checkEligibilityAndRefreshIfAllowed()};b.handleActivityTracking=function(){var a=this.$2&&this.$3&&!this.$4;a!==this.$11&&(a?this.enableActivityListeners():this.removeActivityListeners())};b.isAdHiddenForRefresh=function(){return this.$4&&!this.$3};b.isAdHiddenOnHomeTab=function(){return!this.$4&&!this.$3};b.isAdBackgroundedOnHomeTab=function(){return!this.$4&&this.$16()};b.handleAnyVisibilityChange=function(){this.$3&&!this.$4&&this.$10&&(this.$10=!1,this.$15=!1,this.$5=Date.now())};b.enableActivityListeners=function(){window.addEventListener("scroll",this.$12),window.addEventListener("resize",this.$12),this.$11=!0};b.removeActivityListeners=function(){window.removeEventListener("scroll",this.$12),window.removeEventListener("resize",this.$12),this.$11=!1};b.setHiddenSubtree=function(a){this.$4=a,a&&((h||(h=d("ODS"))).bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_opportunity"),this.restartInitialLoad()),this.handleAnyVisibilityChange(),this.handleActivityTracking()};b.setAdUnitVisibility=function(a){this.$3=a,this.handleAnyVisibilityChange(),this.handleActivityTracking()};b.setEnvironment=function(a){this.$1=a};b.setRefetchCallback=function(a){this.$13=a};b.setIsHovered=function(a){this.$14=a};b.setGetIsBackgrounded=function(a){this.$16=a};return a}();g["default"]=a}),98);
__d("useSideAdsRefreshHandler",["CometRelay","CometSideAdsRefreshHandler","HiddenSubtreePassiveContext","react","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function a(a,b){var e=d("CometRelay").useRelayEnvironment(),f=l(null),g=l(null),h=j(c("HiddenSubtreePassiveContext")),m=i(function(){return h.getCurrentState().backgrounded},[h]);k(function(){f.current!=null&&f.current.setEnvironment(e)},[e]);k(function(){f.current!=null&&f.current.setRefetchCallback(function(b){a(b)})},[a]);k(function(){f.current!=null&&f.current.setGetIsBackgrounded(m)},[m]);k(function(){f.current!=null&&f.current.setIsHovered(b)},[b]);var n=i(function(){if(f.current!=null)return;var d=h.getCurrentState();f.current=new(c("CometSideAdsRefreshHandler"))(e,d.hidden,function(b){a(b)},b,m);g.current!=null&&(g.current.remove(),g.current=null);g.current=h.subscribeToChanges(function(a){f.current!=null&&f.current.setHiddenSubtree(a.hidden)})},[m,e,h,b,a]),o=c("useVisibilityObserver")({onHidden:function(){f.current!=null&&f.current.setAdUnitVisibility(!1)},onVisible:function(){f.current!=null&&f.current.setAdUnitVisibility(!0)}}),p=i(function(a){a!=null&&(n(),o(a))},[n,o]);k(function(){return function(){f.current!=null&&(f.current.unregister(),f.current=null),g.current!=null&&(g.current.remove(),g.current=null)}},[]);return p}g["default"]=a}),98);
__d("CometHomeRightSideEgo.react",["CometHomeRightSideEgo_viewer.graphql","CometRelay","ODS","Random","react","useSideAdsRefreshHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.startTransition;e.useCallback;var m=e.useEffect,n=e.useState,o=e.c,p=h!==void 0?h:h=b("CometHomeRightSideEgo_viewer.graphql");function a(a){var b=o(14);a=a.viewerRef;a=d("CometRelay").useRefetchableFragment(p,a);var e=a[0],f=a[1];e=e==null?void 0:(a=e.sideFeed)==null?void 0:a.nodes;a=n(null);var g=a[0];a=a[1];var h=n(!1),i=h[0],q=h[1],r;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){var a=function(){q(!1)};window.addEventListener("blur",a);return function(){window.removeEventListener("blur",a)}},r=[],b[0]=h,b[1]=r):(h=b[0],r=b[1]);m(h,r);b[2]!==g?(h=function(){g==null&&(d("Random").coinflip(2)&&(j||(j=d("ODS"))).bumpEntityKey(144,"feed_ads","CometHomeRightSideEgo.empty_first_unit",2))},r=[g],b[2]=g,b[3]=h,b[4]=r):(h=b[3],r=b[4]);m(h,r);b[5]!==f?(h=function(a){l(function(){f({refresh_num:a},{fetchPolicy:"store-only"})})},b[5]=f,b[6]=h):h=b[6];r=h;h=c("useSideAdsRefreshHandler")(r,i);if(e!=null&&e.length>=1&&g!==e[0]){a(e[0]);return null}if(g==null||Object.keys(g).length===0)return null;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(r=function(){q(!0)},i=function(){q(!1)},b[7]=r,b[8]=i):(r=b[7],i=b[8]);b[9]!==g?(a=k.jsx(d("CometRelay").MatchContainer,{match:g}),b[9]=g,b[10]=a):a=b[10];b[11]!==h||b[12]!==a?(e=k.jsx("div",{onMouseEnter:r,onMouseLeave:i,ref:h,children:a}),b[11]=h,b[12]=a,b[13]=e):e=b[13];return e}f=a;g["default"]=f}),98);
__d("CometHomeRightSideEgoContainer_egoPanel.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeRightSideEgoContainer_egoPanel",selections:[{args:null,kind:"FragmentSpread",name:"CometHomeRightSideEgo_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeRightSideEgoContainer.react",["CometHomeRightSideEgo.react","CometHomeRightSideEgoContainer_egoPanel.graphql","CometRelay","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(3);a=a.egoPanel;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("CometHomeRightSideEgoContainer_egoPanel.graphql"),e[0]=f):f=e[0];f=d("CometRelay").useFragment(f,a);if(!f){c("FBLogger")("feed_ads").mustfix("Expecting non-nullviewer");return null}e[1]!==f?(a=k.jsx("span",{children:k.jsx(c("CometHomeRightSideEgo.react"),{viewerRef:f})}),e[1]=f,e[2]=a):a=e[2];return a}g["default"]=a}),98);
__d("CometMegaphoneRootQuery.graphql",["CometMegaphoneRootQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:1,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"surface_nux_id",value:2646},{kind:"Literal",name:"trigger",value:"NEWSFEED"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMegaphoneRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"megaphonePromotions",args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerEligibleQuickPromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMegaphoneQuickPromotionSection_quickPromotion"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMegaphoneRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"megaphonePromotions",args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerEligibleQuickPromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2jsin2"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometPrimaryTestUserUpsellQP_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometPrimaryTestUserUpsellQP",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometSlimMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometSlimMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometStandardMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometStandardMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometEmergencyMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometEmergencyMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWDeviceBasedLoginRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWDeviceBasedLoginRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionLocationTransparencyMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionLocationTransparencyMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionNonprofitMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionNonprofitMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQPDiglossiaSurveyRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQPDiglossiaSurveyRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQPRegularSurveyRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQPRegularSurveyRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFundraiserPromotionalMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFundraiserPromotionalMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFullImageMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFullImageMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionBLMMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionBLMMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometConsentFrameworkRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometConsentFrameworkRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPPAMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPPAMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPPAPostEnforcementMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPPAPostEnforcementMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPPAPreApprovedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPPAPreApprovedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAskMeAnythingNewsFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAskMeAnythingNewsFeedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFullBleedImageRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFullBleedImageRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionCreateStreamerFanGroupsRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionCreateStreamerFanGroupsRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometSideImageMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometSideImageMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWEmailAcquisitionRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWEmailAcquisitionRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPrayerSettingsMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPrayerSettingsMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWEmailAcquisitionNoAutofillRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWEmailAcquisitionNoAutofillRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionNewsfeedPrivacyPolicyNoticeMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionNewsfeedPrivacyPolicyNoticeMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionTransparencyInformPlatformRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionTransparencyInformPlatformRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionSettingsContextualMessageRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionSettingsContextualMessageRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionProfilePlusTopOfFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionProfilePlusTopOfFeedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneGHLAdBlockerNotificationRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneGHLAdBlockerNotificationRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAPPlusCreateBroadcastChannelRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAPPlusCreateBroadcastChannelRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneMPWBulkMigrationRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWMPWBulkMigrationWarningRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometDiglossiaMegaphoneULSOptOutQPRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometDiglossiaMegaphoneULSOptOutQPRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometDiglossiaMegaphoneULSOptInQPRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometDiglossiaMegaphoneULSOptInQPRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionBroadcastChannelCreatorWaitlistRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionBroadcastChannelCreatorWaitlistRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionBroadcastChannelCreatorWaitlistForAPPlusRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionBroadcastChannelCreatorWaitlistForAPPlusRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"2jsin2")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometMegaphoneRootQuery_facebookRelayOperation"),metadata:{},name:"CometMegaphoneRootQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometMegaphoneRoot.react",["CometMegaphoneQuickPromotionSection.react","CometMegaphoneRootQuery.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("CometMegaphoneRootQuery.graphql");function a(a){a=a.megaphoneQueryReference;a=d("CometRelay").usePreloadedQuery(k,a);a=(a=a.viewer)==null?void 0:(a=a.megaphonePromotions)==null?void 0:(a=a.edges[0])==null?void 0:a.node;return a==null?null:j.jsx(c("CometMegaphoneQuickPromotionSection.react"),{quickPromotion:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMixedPermsDialogQuery.graphql",["CometMixedPermsDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMixedPermsDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useCometMixedPermsAfterMigrationWarningDialog_user"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometMixedPermsDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_mixed_perms_v2_after_migration_warning_dialog",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometMixedPermsDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMixedPermsDialogQuery",operationKind:"query",text:null}};b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometMixedPermsDialog.react",["CometMixedPermsDialogQuery.graphql","CometRelay","useCometMixedPermsAfterMigrationWarningDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometMixedPermsDialogQuery.graphql");function a(a){a=a.queryReference;a=d("CometRelay").usePreloadedQuery(i,a);a=a.viewer;c("useCometMixedPermsAfterMigrationWarningDialog")(a==null?void 0:a.actor);return null}g["default"]=a}),98);
__d("CometRightSideHeaderCardsQuery.graphql",["CometRightSideHeaderCardsQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"refresh_num"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c={kind:"Literal",name:"environment",value:"COMET"},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[e],g={kind:"InlineFragment",selections:f,type:"Node",abstractKey:"__isNode"};f={kind:"InlineFragment",selections:f,type:"AdsSideFeedUnitItem",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometRightSideHeaderCardsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometRightSideHeaderCards_viewerSideFeed"},{args:null,kind:"FragmentSpread",name:"CometHomeRightSideEgoContainer_egoPanel"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesCometHomeAdminContainer_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometRightSideHeaderCardsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"right_side_widget_container_placement",storageKey:null},{alias:null,args:[c,{kind:"Literal",name:"query_ego_units",value:!1},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"PagesCometHomeAdminContainer_pagesPanel",fragmentPropName:"pagesPanel",kind:"ModuleImport"}],type:"PagesSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"FriendingCometHomeInlineRHCContainer_friendsPanel",fragmentPropName:"friendsPanel",kind:"ModuleImport"}],type:"FriendingRequestsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRemindersContainer_reminderPanel",fragmentPropName:"reminderPanel",kind:"ModuleImport"}],type:"RemindersSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRightSideWidgetContainer_widgetContainer",fragmentPropName:"widgetContainer",kind:"ModuleImport"}],type:"CometHomeSideFeedWidgetContainer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRightSideWidgetContainerWithSeeMore_widgetContainer",fragmentPropName:"widgetContainer",kind:"ModuleImport"}],type:"CometHomeSideFeedWidgetContainerWithSeeMore",abstractKey:null},g,f],storageKey:null}],storageKey:null},{alias:"sideFeed",args:[c,{kind:"Literal",name:"query_ego_units",value:!0},{kind:"Literal",name:"refresh_num",value:0}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null},g,f],storageKey:null}],storageKey:'side_feed(environment:"COMET",query_ego_units:true,refresh_num:0)'},{alias:null,args:null,kind:"ScalarField",name:"globe_focus",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_profile_plus_on_like_experience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delegate_page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_manage_classic_page_in_pages_tab",storageKey:null}],type:"User",abstractKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}]},params:{id:b("CometRightSideHeaderCardsQuery_facebookRelayOperation"),metadata:{},name:"CometRightSideHeaderCardsQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometRightSideHeaderCards_viewerSideFeed.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"refresh_num"}],kind:"Fragment",metadata:null,name:"CometRightSideHeaderCards_viewerSideFeed",selections:[{alias:null,args:null,kind:"ScalarField",name:"right_side_widget_container_placement",storageKey:null},{alias:null,args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!1},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"PagesCometHomeAdminContainer_pagesPanel",fragmentPropName:"pagesPanel",kind:"ModuleImport"}],type:"PagesSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"FriendingCometHomeInlineRHCContainer_friendsPanel",fragmentPropName:"friendsPanel",kind:"ModuleImport"}],type:"FriendingRequestsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRemindersContainer_reminderPanel",fragmentPropName:"reminderPanel",kind:"ModuleImport"}],type:"RemindersSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRightSideWidgetContainer_widgetContainer",fragmentPropName:"widgetContainer",kind:"ModuleImport"}],type:"CometHomeSideFeedWidgetContainer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRightSideWidgetContainerWithSeeMore_widgetContainer",fragmentPropName:"widgetContainer",kind:"ModuleImport"}],type:"CometHomeSideFeedWidgetContainerWithSeeMore",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometRightSideHeaderCards.react",["CometErrorBoundary.react","CometHomeRightSideEgoContainer.react","CometRelay","CometRightSideHeaderCardsQuery.graphql","CometRightSideHeaderCards_viewerSideFeed.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j,m=h!==void 0?h:h=b("CometRightSideHeaderCardsQuery.graphql"),n=i!==void 0?i:i=b("CometRightSideHeaderCards_viewerSideFeed.graphql");function o(a){var b,e=k(11);a=a.rightSideHeaderCardsQueryReference;a=d("CometRelay").usePreloadedQuery(m,a);var f=a.viewer,g=a;a=d("CometRelay").useFragment(n,f);if(f==null)return null;b=a==null?void 0:(b=a.side_feed)==null?void 0:b.nodes;var h,i;e[0]!==b||e[1]!==g?(i=null,h=b!=null?b.map(function(a,b){if((a==null?void 0:a.__typename)==="CometHomeSideFeedWidgetContainer"||(a==null?void 0:a.__typename)==="CometHomeSideFeedWidgetContainerWithSeeMore"){i=l.jsx(c("CometErrorBoundary.react"),{children:l.jsx(d("CometRelay").MatchContainer,{match:a})},b);return null}else if((a==null?void 0:a.__typename)==="PagesSideFeedUnit")return l.jsx(c("CometErrorBoundary.react"),{children:l.jsx(d("CometRelay").MatchContainer,{match:a,props:{query$key:g}})},b);return l.jsx(c("CometErrorBoundary.react"),{children:l.jsx(d("CometRelay").MatchContainer,{match:a})},b)}).filter(Boolean):null,e[0]=b,e[1]=g,e[2]=h,e[3]=i):(h=e[2],i=e[3]);b=h;h=a==null?void 0:a.right_side_widget_container_placement;a=h==="ABOVE_ADS"?i:null;var j;e[4]!==f?(j=l.jsx(c("CometHomeRightSideEgoContainer.react"),{egoPanel:f}),e[4]=f,e[5]=j):j=e[5];f=h==="BELOW_ADS"?i:null;e[6]!==a||e[7]!==j||e[8]!==f||e[9]!==b?(h=l.jsxs("div",{children:[a,j,f,b]}),e[6]=a,e[7]=j,e[8]=f,e[9]=b,e[10]=h):h=e[10];return h}function a(a){return l.jsx(c("CometErrorBoundary.react"),{children:l.jsx(o,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesActivityBadgeDeferred.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferred")("CometActivityBadge.react").__setRef("StoriesActivityBadgeDeferred.react"));b=a;g["default"]=b}),98);
__d("TopOfFeedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={topOfFeedEnabled:!1};c=a.createContext(b);g["default"]=c}),98);
__d("StoriesTrayCreateCard.react",["fbt","CometCard.react","QuickPerformanceLogger","StoriesGating","StoriesPlusFilled24IconSVG.react","TetraAccessoryListCell_DEPRECATED.react","TopOfFeedContext","XCometStoriesCreateControllerRouteBuilder","qpl","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext;function a(){var a=c("XCometStoriesCreateControllerRouteBuilder").buildURL({}),b={entryPoint:"add_to_story_persistent_button",sourceSurface:"newsfeed"},e=l(function(){(i||(i=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(741087294,"2028"),4),i.markerStart(c("qpl")._(741087294,"2028"))},[]),f=m(c("TopOfFeedContext"));f=f.topOfFeedEnabled;return k.jsx("div",{className:"x1yztbdb",children:k.jsx(c("CometCard.react"),{background:"white",dropShadow:f?0:1,children:k.jsx("div",{className:"x1y1aw1k xwib8y2",children:k.jsx(c("TetraAccessoryListCell_DEPRECATED.react"),{addOnPrimary:{color:"lightblue",icon:c("StoriesPlusFilled24IconSVG.react"),size:40,type:"contained-icon"},body:d("StoriesGating").getCreationDescription(),emphasized:!0,headline:h._("__JHASH__Piwub9vzMev__JHASH__"),linkProps:{passthroughProps:b,url:a},onPress:e})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("StoriesTrayErrorCardLazyLoaded.react",["JSResourceForInteraction","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";a=c("lazyLoadComponent")(c("JSResourceForInteraction")("StoriesTrayErrorCard.react").__setRef("StoriesTrayErrorCardLazyLoaded.react"));g["default"]=a}),98);
__d("StoriesTrayTileAvatar.react",["fbt","CometLoadingAnimation.react","CometPlaceholder.react","CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react","CometVisualCompletionAttributes","FDSText.react","StoriesActivityBadgeDeferred.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={borderBlue:{borderTopColor:"x1tz4bnf",borderEndColor:"xmds5ef",borderBottomColor:"x25epmt",borderStartColor:"x11y6y4w",$$css:!0},borderGreen:{borderTopColor:"x751hie",borderEndColor:"x12z88qw",borderBottomColor:"xnatle3",borderStartColor:"x4zw6fh",$$css:!0},borderRed:{borderTopColor:"x1mqrs8o",borderEndColor:"x10tkx69",borderBottomColor:"xip93fl",borderStartColor:"x11kwtuv",$$css:!0},borderTransparent:{borderTopColor:"x1v8p93f",borderEndColor:"xogb00i",borderBottomColor:"x16stqrj",borderStartColor:"x1ftr3km",$$css:!0},borderWhite:{borderTopColor:"xsdn2ir",borderEndColor:"x16rfsbj",borderBottomColor:"x13awxeq",borderStartColor:"x16sykr7",$$css:!0},opaqueBackground:{backgroundColor:"x1jx94hy",$$css:!0},ringedBorder:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",$$css:!0},wrapper:{alignItems:"x6s0dn4",backgroundColor:"x1wpzbip",borderTopStartRadius:"xlid4zk",borderTopEndRadius:"x13tp074",borderBottomEndRadius:"x1qns1p2",borderBottomStartRadius:"xipx5yg",boxSizing:"x9f619",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x100vrsf",$$css:!0}};function a(a){var b=a.children,d=a.hasNew,e=a.isLiveStreaming;e=e===void 0?!1:e;var f=a.isOnline;f=f===void 0?!1:f;var g=a.isOpaqueBackground,j=a.isUploading;j=j===void 0?!1:j;a=a.shouldShowCloseFriendsBadge;a=a===void 0?!1:a;var m=h._("__JHASH__f7VcajZGvwh__JHASH__");return k.jsxs("div",{className:(i||(i=c("stylex")))(l.wrapper,g===!0&&l.opaqueBackground,b!=null&&l.ringedBorder,d===!0&&!j&&a&&l.borderGreen,d===!0&&!j&&!a&&l.borderBlue,d!==!0&&!j&&l.borderWhite,j&&!e&&l.borderTransparent,e&&l.borderRed),children:[j&&!e&&k.jsx("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xds687c x5yr21d xl56j7k x10l6tqk x17qophe x13vifvy x1yyfhjw",children:k.jsx("div",{className:"x1n2onr6 x1mxuws9 x1lg0oad",children:k.jsx(c("CometLoadingAnimation.react"),{size:40})})}),b,e&&k.jsx("div",{className:"x1ciooss x1lcm9me x1yr5g0i xrt01vj x10y3i5r xbfrwjf x1iorvi4 x10ogl3i xjkvuk6 x1k2j06m x10l6tqk x16q8cke x2b8uid x23j0i4",children:k.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"meta4",children:m})}),k.jsx(c("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{children:!e&&f&&k.jsx("div",babelHelpers["extends"]({className:"xn0vg7t x70y0r9 x10l6tqk"},c("CometVisualCompletionAttributes").IGNORE,{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(c("StoriesActivityBadgeDeferred.react"),{size:8,state:"active"})})}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("StoriesTrayTileGlimmer.react",["FDSGlimmer.react","StoriesTrayTileAvatar.react","StoriesTrayTileView.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={contents:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=a.aspectRatio;a=a.index;a=a===void 0?0:a;return i.jsx(c("FDSGlimmer.react"),{index:a,xstyle:j.contents,children:i.jsx(c("StoriesTrayTileView.react"),{aspectRatio:b,avatar:i.jsx(c("StoriesTrayTileAvatar.react"),{}),showShadow:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayTileHScrollScrollListener.react",["StoriesConstants","StoriesTrayTileGlimmer.react","react","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.onShow;a=c("useVisibilityObserver")({onVisible:a});return i.jsx("div",{ref:a,children:i.jsx(c("StoriesTrayTileGlimmer.react"),{aspectRatio:d("StoriesConstants").DEFAULT_ASPECT_RATIO})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayHScrollContainer.react",["fbt","CometOnRefresh.react","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","FBLogger","FDSHScroll.react","JSScheduler","StoriesGating","StoriesTrayTileHScrollScrollListener.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useEffect,n=b.useLayoutEffect,o=b.useRef,p=b.useState,q={header:{alignItems:"x1cy8zhl",display:"x78zum5",marginStart:"x1mh8g0r",marginLeft:null,marginRight:null,marginEnd:"x11i5rnm",marginTop:"x11xss2o",scrollSnapAlign:"x1q22t7g",width:"xnalus7",$$css:!0}};function a(a){var b=a.cardWidth,e=a.children,f=a.hasNext,g=a.hideArrows,j=a.isLoadingNext,r=a.loadNext;a=a.peek;e=k.Children.map(e,function(a){var b=c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).key,e=b==="header"||b==="sticky-header"||b==="collapsible-sticky-header",f=e||b==="tofu-null-card"||b==="divider";return k.jsx(d("FDSHScroll.react").Child,{type:f?"custom":"default",xstyle:e&&q.header,children:a},b)});var s=p(!1),t=s[0],u=s[1];s=p(0);var v=s[0],w=s[1],x=o(!1),y=d("StoriesGating").getHScrollRefetchCount(),z=o(null),A=l(function(){y===0?c("FBLogger")("fbstories").warn("Stories to fetch = 0, yet the user is attempting to fetch more buckets"):f&&!j&&(z.current=r(y))},[f,j,r,y]);n(function(){return function(){var a;(a=z.current)==null?void 0:a.dispose()}},[]);var B=o(A);n(function(){B.current=A},[A]);m(function(){var a=B.current;if(a!=null){var b=(i||(i=c("JSScheduler"))).defer(function(){a(),b=null});return function(){b&&(i||(i=c("JSScheduler"))).cancelCallback(b)}}},[]);s=function(){u(!0)};d("CometOnRefresh.react").useOnRefresh(s);f&&!t&&e.push(k.jsx(d("FDSHScroll.react").Child,{children:k.jsx(c("StoriesTrayTileHScrollScrollListener.react"),{onShow:A})},"visibility-placeholder"));m(function(){t&&(x.current&&(w(v+1),x.current=!1),u(!1))},[t,v]);s=function(){x.current=!0,A()};var C=108,D=0;return k.jsx(d("FDSHScroll.react").Container,{accessibilityLabel:h._("__JHASH__yzvEdZ9X8cq__JHASH__"),cardWidth:b!=null?b:{minWidth:C,type:"responsive"},children:e,gap:8,hideArrows:g,onPressNext:s,peek:a,peekPaddingEnd:D,peekPaddingStart:D},v)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("StoriesTrayRectangularBuckets_buckets.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"blur"}],kind:"Fragment",metadata:{plural:!0},name:"StoriesTrayRectangularBuckets_buckets",selections:[a,{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[a],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayTilePrefetchProfileURI_profile"},{args:null,kind:"FragmentSpread",name:"useStoriesBucketsLogger_buckets"},{args:null,kind:"FragmentSpread",name:"useStoriesBucketsIndexer_buckets"},{args:null,kind:"FragmentSpread",name:"StoriesTrayTileSelf_bucket"},{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"StoriesTrayTile_bucket"}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("StoriesTrayRectangularBuckets_createTileUris.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayRectangularBuckets_createTileUris",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayCreateTile_imageUris"}],type:"User",abstractKey:null};e.exports=a}),null);
__d("StoriesTrayTile_LWRAnimations.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTile_LWRAnimations",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_LWRAnimations"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("StoriesTrayTile_bucket.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={kind:"Variable",name:"scale",variableName:"scale"},d={kind:"Literal",name:"width",value:40},e=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],f={alias:null,args:[c,d],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:e,storageKey:null},g=[{kind:"Literal",name:"height",value:277},c,{kind:"Literal",name:"width",value:156}],h={alias:"coverImage",args:g,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:e,storageKey:null},i=[b,f,h];return{argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"blur"},{kind:"RootArgument",name:"scale"},{defaultValue:!1,kind:"LocalArgument",name:"shouldSkipCanViewerReply"}],kind:"Fragment",metadata:null,name:"StoriesTrayTile_bucket",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayProfileImpressionLogging_bucket"},a,{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:i,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:null,args:[{kind:"Literal",name:"height",value:40},c,d],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:e,storageKey:null},h],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[b,f,h,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_warningScreen"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:g,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"FBStoryPortalInfo",kind:"LinkedField",name:"background_color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"FBStoryColorInfo",kind:"LinkedField",name:"color_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dominant_color",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{condition:"shouldSkipCanViewerReply",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reply",storageKey:null}],storageKey:null}]},{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"useStoriesTrayTilePressable_story"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesTrayProfileImpressionLogging_bucket.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesTrayProfileImpressionLogging_bucket",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[b],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesTrayProfileImpressionLogging",["CometRelay","StoriesActorContext","StoriesLoggerHelper","TopOfFeedLoggingContext","react","requireDeferred","useImpressionLogger","useStoriesTrayProfileImpressionLogging_bucket.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||(i=d("react"));e=i;var j=e.useCallback,k=e.useContext,l=e.useRef,m=c("requireDeferred")("StoryProfileImpressionFalcoEvent").__setRef("useStoriesTrayProfileImpressionLogging"),n=h!==void 0?h:h=b("useStoriesTrayProfileImpressionLogging_bucket.graphql");function a(a,b,e,f){var g,h=l(!1),i=d("CometRelay").useFragment(n,a);a=k(c("StoriesActorContext"));a=a.actorID;var o=k(c("TopOfFeedLoggingContext")),p=o.tofuSessionID;o=i==null?void 0:(o=i.story_bucket_owner)==null?void 0:o.__typename;var q=i==null?void 0:(g=i.story_bucket_owner)==null?void 0:g.id;g=(i==null?void 0:(g=i.story_bucket_owner)==null?void 0:g.is_viewer_friend)||!1;var r=d("StoriesLoggerHelper").getOwnerType(a,o,q,g),s=i==null?void 0:(a=i.thumbnail_story_to_show)==null?void 0:(o=a.attachments)==null?void 0:(g=o[0])==null?void 0:(a=g.media)==null?void 0:a.id;o=j(function(a){if(h.current||i==null)return;h.current=!0;a.log(function(){return{has_new_content:i.is_bucket_seen_by_viewer||!1,has_new_views:i.is_bucket_seen_by_viewer||!1,media_id:s,preview_type:"rectangle",source:b,story_index:f,story_owner:q,story_owner_type:r,tofu_tray_session_id:p,tracking_string:i==null?void 0:i.ranking_tracking_string,tray_session_id:e}})},[i,s,b,f,q,r,p,e]);return c("useImpressionLogger")(m,o)}g["default"]=a}),98);
__d("useStoriesTrayTilePrefetchImageURI_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"blur"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useStoriesTrayTilePrefetchImageURI_story",selections:[{alias:null,args:null,concreteType:"StoryBackdrop",kind:"LinkedField",name:"backdrop",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"blur",variableName:"blur"},a],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:b,storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:1920},a,{kind:"Literal",name:"width",value:1080}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:b,storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}}();e.exports=a}),null);
__d("useStoriesTrayTilePrefetchImageURI",["CometRelay","useStoriesTrayTilePrefetchImageURI_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayTilePrefetchImageURI_story.graphql"),a);c=a==null?void 0:(c=a.attachments)==null?void 0:(c=c[0])==null?void 0:c.media;var e=c==null?void 0:(c=c.image)==null?void 0:c.uri,f=a==null?void 0:(c=a.backdrop)==null?void 0:(a=c.media)==null?void 0:(c=a.image)==null?void 0:c.uri;return e==null&&f==null?null:function(){if(e!=null){var a=new Image();a.src=e;if(f!=null){a=new Image();a.src=f}}}}g["default"]=a}),98);
__d("useStoriesTrayTilePressable_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"blur"}],kind:"Fragment",metadata:null,name:"useStoriesTrayTilePressable_story",selections:[{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"useStoriesTrayTilePrefetchImageURI_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("useStoriesTrayTilePressable",["CometRelay","QPLUserFlow","StoriesLoggingConstants","qpl","useStoriesTrayTilePrefetchImageURI","useStoriesTrayTilePressable_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){e===void 0&&c("StoriesLoggingConstants").ACTION_SOURCE.TRAY;e=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayTilePressable_story.graphql"),a);var f=c("useStoriesTrayTilePrefetchImageURI")(e),g=c("qpl")._(741087294,"2028");return{onPress:function(){c("QPLUserFlow").start(g)},onPressIn:function(a){f&&f()}}}g["default"]=a}),98);
__d("StoriesTrayTile.react",["fbt","CometImage.react","CometRelay","GraphQLGender","StoriesEnums","StoriesLoggingConstants","StoriesTrayTileAvatar.react","StoriesTrayTileView.react","StoriesTrayTile_LWRAnimations.graphql","StoriesTrayTile_bucket.graphql","StoriesTrayUtils","isStringNullOrEmpty","react","useStoriesTrayProfileImpressionLogging","useStoriesTrayTilePressable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react");function a(a){var e,f,g,k,m=a.animations,n=a.bucketCount,o=a.bucketLength,p=a.bucketNode,q=a.gender;q=q===void 0?"UNKNOWN":q;var r=a.hasSelfBucket,s=a.isOnBizKit;s=s===void 0?!1:s;var t=a.traySessionID,u=a.source;u=u===void 0?c("StoriesLoggingConstants").ACTION_SOURCE.UNKNOWN:u;var v=a.storiesTrayType;v=v===void 0?"TOP_OF_FEED_TRAY":v;var w=a.index,x=a.trayBucketIDs,y=a.hasReactionIcon;y=y===void 0?!1:y;var z=a.onPressIn;a=babelHelpers.objectWithoutPropertiesLoose(a,["animations","bucketCount","bucketLength","bucketNode","gender","hasSelfBucket","isOnBizKit","traySessionID","source","storiesTrayType","index","trayBucketIDs","hasReactionIcon","onPressIn"]);p=d("CometRelay").useFragment(i!==void 0?i:i=b("StoriesTrayTile_bucket.graphql"),p);var A=p==null?void 0:p.id;w=c("useStoriesTrayProfileImpressionLogging")(p,u,t,w);var B=c("useStoriesTrayTilePressable")(p==null?void 0:p.first_story_to_show,u),C=B.onPress,D=B.onPressIn;B=d("CometRelay").useFragment(j!==void 0?j:j=b("StoriesTrayTile_LWRAnimations.graphql"),m);if(p==null||A==null)return null;m=p.story_bucket_owner;var E=p.first_story_to_show,F=p.thumbnail_story_to_show,G=p.ranking_tracking_string;e=(e=p.should_show_close_friend_badge)!=null?e:!1;var H=F==null?void 0:F.story_card_info;f=(f=E==null?void 0:(f=E.story_card_info)==null?void 0:f.can_viewer_reply)!=null?f:!1;g=(H==null?void 0:(g=H.story_thumbnail)==null?void 0:g.uri)||(m==null?void 0:(g=m.coverImage)==null?void 0:g.uri);H=H==null?void 0:(H=H.background_color_info)==null?void 0:(H=H.color_info)==null?void 0:H[0];H=H==null?void 0:H.dominant_color;k=m==null?void 0:(k=m.profile_picture)==null?void 0:k.uri;var I=(m==null?void 0:m.name)||h._("__JHASH__fHKXLeuru3K__JHASH__"),J=p.is_bucket_seen_by_viewer===!1;p=(p=p==null?void 0:p.is_bucket_live)!=null?p:!1;m=(m=m==null?void 0:m.availability)!=null?m:null;m=m==="ACTIVE";k=k!=null?l.jsx(c("CometImage.react"),{alt:I,height:40,src:k,width:40}):l.jsx("div",{className:"x1vqgdyp x100vrsf"});p=l.jsx(c("StoriesTrayTileAvatar.react"),{hasNew:J,isLiveStreaming:p,isOnline:m,isOpaqueBackground:!1,shouldShowCloseFriendsBadge:e,children:k});m=s?null:d("StoriesTrayUtils").getBucketURL({bucketCount:n,bucketID:A,cardID:E==null?void 0:E.id,source:u});e=new(c("GraphQLGender"))(q).toIntlVariationsEnum();k=h._("__JHASH__tkqpcCYUVoy__JHASH__",[h._name("Story owner's name (possesive)",I,e)]);s=c("isStringNullOrEmpty")(H)?null:"#"+H;H=F==null?void 0:(n=F.attachments)==null?void 0:(A=n.find(function(a){return((a=a.media)==null?void 0:a.cix_screen)!=null}))==null?void 0:(q=A.media)==null?void 0:(e=q.cix_screen)==null?void 0:e.view_model;return l.jsx("div",{ref:w,children:l.jsx(c("StoriesTrayTileView.react"),babelHelpers["extends"]({animations:B,avatar:p,backgroundColor:s,bucketUrl:m,canViewerReply:f,coverImage:g,hasNew:J,hasReactionIcon:y,label:k,onPress:C,onPressIn:function(a){D&&D(a),z&&z()},passthroughProps:{bucketLength:o,bucketType:d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OTHER,hasSelfBucket:r,source:u,storiesTrayType:v,trackingString:G,trayBucketIDs:x,traySessionID:t},storyId:E==null?void 0:E.id},a,{text:I,warningScreenNode:H}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("StoriesTrayTileSelf_bucket.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"Variable",name:"scale",variableName:"scale"},c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],d=[{kind:"Literal",name:"height",value:277},b,{kind:"Literal",name:"width",value:156}];return{argumentDefinitions:[{kind:"RootArgument",name:"blur"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"StoriesTrayTileSelf_bucket",selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[b,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null},{alias:"coverImage",args:d,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_warningScreen"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:d,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:c,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"useStoriesTrayTilePressable_story"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayProfileImpressionLogging_bucket"},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("StoriesTrayTileSelf.react",["fbt","CometImage.react","CometRelay","StoriesEnums","StoriesGating","StoriesLoggingConstants","StoriesTrayTileAvatar.react","StoriesTrayTileSelf_bucket.graphql","StoriesTrayTileView.react","StoriesTrayUtils","react","requireDeferred","useOnBeforeUnload","useStoriesTrayProfileImpressionLogging","useStoriesTrayTilePressable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useState,n=c("requireDeferred")("ODS").__setRef("StoriesTrayTileSelf.react");function a(a){var e,f,g,j=a.bucketCount,o=a.bucketNode,p=a.bucketLength,q=a.hasSelfBucket,r=a.traySessionID,s=a.source;s=s===void 0?c("StoriesLoggingConstants").ACTION_SOURCE.TRAY:s;var t=a.storiesTrayType;t=t===void 0?"TOP_OF_FEED_TRAY":t;var u=a.index,v=a.isUploading,w=a.optimisticStoryURI,x=a.onPressIn;a=babelHelpers.objectWithoutPropertiesLoose(a,["bucketCount","bucketNode","bucketLength","hasSelfBucket","traySessionID","source","storiesTrayType","index","isUploading","optimisticStoryURI","onPressIn"]);o=d("CometRelay").useFragment(i!==void 0?i:i=b("StoriesTrayTileSelf_bucket.graphql"),o);var y=o==null?void 0:o.id;u=c("useStoriesTrayProfileImpressionLogging")(o,s,r,u);var z=m(w),A=z[0];z=z[1];var B=c("useStoriesTrayTilePressable")(o==null?void 0:o.first_story_to_show,s),C=B.onPress,D=B.onPressIn,E=l(function(){n.onReady(function(a){a.bumpEntityKey(4329,"fb_stories_web","stories_tray.self_story_tile",1)})},[]);c("useOnBeforeUnload")(function(a){if(v===!0&&a==null)return{warnMessage:h._("__JHASH__uxWAqVRcCKO__JHASH__")}});if(o==null||y==null)return null;B=o.story_bucket_owner;e=(e=o.should_show_close_friend_badge)!=null?e:!1;var F=o.first_story_to_show,G=o.thumbnail_story_to_show,H=o.ranking_tracking_string;f=(G==null?void 0:(f=G.story_card_info)==null?void 0:(f=f.story_thumbnail)==null?void 0:f.uri)||(B==null?void 0:(f=B.coverImage)==null?void 0:f.uri);var I=o.is_bucket_seen_by_viewer===!1;o=(o=o==null?void 0:o.is_bucket_live)!=null?o:!1;f={coverImage:f,hasNew:I};g=(G==null?void 0:(g=G.story_card_info)==null?void 0:g.story_thumbnail)!=null;var J=h._("__JHASH__p_clzZs1eeC__JHASH__"),K=h._("__JHASH__ZsZbryTgDNj__JHASH__");j=d("StoriesTrayUtils").getBucketURL({bucketCount:j,bucketID:y,cardID:F==null?void 0:F.id,source:s});F=B==null?void 0:(y=B.profile_picture)==null?void 0:y.uri;y=(B==null?void 0:B.name)||h._("__JHASH__fHKXLeuru3K__JHASH__");B=F!=null?k.jsx(c("CometImage.react"),{alt:y,height:40,src:F,width:40}):k.jsx("div",{className:"x1vqgdyp x100vrsf"});F=G==null?void 0:(y=G.attachments)==null?void 0:(F=y.find(function(a){return((a=a.media)==null?void 0:a.cix_screen)!=null}))==null?void 0:(G=F.media)==null?void 0:(y=G.cix_screen)==null?void 0:y.view_model;G=k.jsx(c("StoriesTrayTileAvatar.react"),{hasNew:I,isLiveStreaming:o,isOpaqueBackground:!1,isUploading:v,shouldShowCloseFriendsBadge:e,children:B});if(v===!0&&d("StoriesGating").shouldEnableOptimisticImprovements()){w!=null&&(A===null||A!==w)&&z(w);y={coverImage:A};return k.jsx("div",{"data-testid":void 0,ref:u,children:k.jsx(c("StoriesTrayTileView.react"),babelHelpers["extends"]({avatar:G,bucketUrl:j,isUploading:v,label:K,onPress:C,onPressIn:function(a){D&&D(a),x&&x(),E()},passthroughProps:{source:s,storiesTrayType:t,trackingString:H,traySessionID:r},text:J,warningScreenNode:F},y,a))})}else if(g)return k.jsx("div",{"data-testid":void 0,ref:u,children:k.jsx(c("StoriesTrayTileView.react"),babelHelpers["extends"]({avatar:G,bucketUrl:j,label:K,onPressIn:function(a){D&&D(a),x&&x(),E()},passthroughProps:{bucketLength:p,bucketType:d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF,hasSelfBucket:q,source:s,storiesTrayType:t,trackingString:H,traySessionID:r},text:J,warningScreenNode:F},f,a))});else if(v===!0)return k.jsx("div",{ref:u,children:k.jsx(c("StoriesTrayTileView.react"),{avatar:G,isUploading:!0,label:K,passthroughProps:{storiesTrayType:t},text:J,warningScreenNode:F})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useStoriesBucketsIndexer_buckets.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"useStoriesBucketsIndexer_buckets",selections:[{args:null,kind:"FragmentSpread",name:"useStoriesIsBucketEmpty_buckets"},a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesBucketsIndexer",["CometRelay","Env","StoriesActorContext","StoriesEnums","react","useStoriesBucketsIndexer_buckets.graphql","useStoriesIsBucketEmpty","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");var l=e.useContext,m=e.useEffect;function n(a){a=(a=a.unified_stories)==null?void 0:a.nodes;return a!=null?a.some(function(a){return((a=a.story_card_info)==null?void 0:a.story_card_type)==="LIVE_STORY"}):!1}function o(a,b){var c;return a.can_viewer_post===!0&&((c=a.story_bucket_owner)==null?void 0:c.id)===b&&(a.story_bucket_type==="STORY"||a.story_bucket_type==="PROFILE_PLUS_STORY"||a.story_bucket_type==="ADMINED_ADDITIONAL_PROFILE_STORY")}function p(a,b){return o(a,b)?d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF:d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OTHER}function q(a,b,c){return o(a,c)?!0:!b&&!n(a)}function a(a){var e=(i||(i=c("useUnsafeRef_DEPRECATED")))(!0),f=l(c("StoriesActorContext")),g=f.actorID;f=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesBucketsIndexer_buckets.graphql"),a);m(function(){e.current=!1});var k=c("useStoriesIsBucketEmpty")(f);return f!=null?f.map(function(a){var b,d=k(a==null?void 0:a.id,(e.current?(j||(j=c("Env"))).start:Date.now())/1e3);return a!=null?{gender:(b=(b=a.story_bucket_owner)==null?void 0:b.gender)!=null?b:"UNKNOWN",isEmpty:d,isSeen:(b=a.is_bucket_seen_by_viewer)!=null?b:!1,shouldShow:q(a,d,g),type:p(a,g)}:null}):null}g["default"]=a}),98);
__d("useStoriesBucketsLogger_buckets.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"useStoriesBucketsLogger_buckets",selections:[{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},a],type:"User",abstractKey:null},{kind:"InlineFragment",selections:b,type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:b,storageKey:null}],storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesBucketsLogger",["CometRelay","StoriesActorContext","react","requireDeferred","useStoriesBucketsLogger_buckets.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useContext,l=c("requireDeferred")("StoriesTrayLogger").__setRef("useStoriesBucketsLogger"),m=h!==void 0?h:h=b("useStoriesBucketsLogger_buckets.graphql");function a(a,b){var e=d("CometRelay").useFragment(m,b);b=k(c("StoriesActorContext"));var f=b.actorID;return j(function(b,c){l.onReady(function(d){d.logStoryTrayLoad({actorID:f,buckets:e,feedUnitTrackingString:c,sessionID:b,source:a})})},[f,e,a])}g["default"]=a}),98);
__d("useStoriesTrayTilePrefetchProfileURI_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b={kind:"Literal",name:"width",value:40},c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],d=[{alias:"profilePic",args:[a,b],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{plural:!0},name:"useStoriesTrayTilePrefetchProfileURI_profile",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:d,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profilePic",args:[{kind:"Literal",name:"height",value:40},a,b],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:d,type:"User",abstractKey:null}],storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesTrayTilePrefetchProfileURI",["CometRelay","useStoriesTrayTilePrefetchProfileURI_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayTilePrefetchProfileURI_profile.graphql"),a);var c=a!=null?a.map(function(a){return a==null?void 0:(a=a.story_bucket_owner)==null?void 0:(a=a.profilePic)==null?void 0:a.uri}):[];return c.length===0?null:function(){c.map(function(a){if(a!=null){var b=new Image();b.src=a}})}}g["default"]=a}),98);
__d("StoriesTrayRectangularBuckets.react",["fbt","CometRelay","CometScreenReaderHeading.react","CometVisualCompletionAttributes","StoriesConstants","StoriesEnums","StoriesGating","StoriesLoggingConstants","StoriesTrayCreateCard.react","StoriesTrayCreateTile.react","StoriesTrayHScrollContainer.react","StoriesTrayRectangularBuckets_buckets.graphql","StoriesTrayRectangularBuckets_createTileUris.graphql","StoriesTrayTile.react","StoriesTrayTileSelf.react","cr:5646","react","requireDeferred","stylex","usePrevious","useStoriesBucketsIndexer","useStoriesBucketsLogger","useStoriesIsUploading","useStoriesTrayTilePrefetchProfileURI"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useCallback,o=e.useEffect,p=e.useMemo,q=e.useState,r=e.useTransition,s=c("requireDeferred")("ODS").__setRef("StoriesTrayRectangularBuckets.react"),t={hscrollTray:{paddingBottom:"x1g2khh7",$$css:!0},tray:{position:"x1n2onr6",$$css:!0},wrapper:{marginTop:"x4arcmf",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}},u=d("StoriesGating").shouldEnableStoriesTrayPaddingAdjustment();function v(a,b){return b==null?[]:b.reduce(function(b,c){var d=c.id;if(d==null)return b;var e=a.find(function(a){return a.id===d});if(e==null)return b.concat(d);c=(c=(c=c.unified_stories)==null?void 0:(c=c.nodes)==null?void 0:c.map(function(a){return a.id}))!=null?c:[];e=(e=(e=e.unified_stories)==null?void 0:(e=e.nodes)==null?void 0:e.map(function(a){return a.id}))!=null?e:[];if(c.length!==e.length)return b.concat(d);for(var f=0;f<e.length;f++)if(e[f]!==c[f])return b.concat(d);return b},[])}function w(a,b,e,f,g,h,i){var j=f==null?void 0:f.type;if(j==null)return null;j=(j=a.id)!=null?j:h;return m.jsx(c("StoriesTrayTile.react"),{bucketCount:d("StoriesConstants").NAV_PANE_TOTAL_COUNT,bucketLength:b,bucketNode:a,gender:f.gender,hasSelfBucket:e,index:h,onPressIn:function(){i&&i(),x(h)},source:c("StoriesLoggingConstants").ACTION_SOURCE.TRAY,traySessionID:g},j)}w.displayName=w.name+" [from "+f.id+"]";function x(a){s.onReady(function(b){b.bumpEntityKey(4329,"fb_stories_web","stories_tray.pog_index_"+a,1)})}var y=i!==void 0?i:i=b("StoriesTrayRectangularBuckets_createTileUris.graphql");function a(a){var e=a.createTileRef,f=a.edges,g=a.hasNext,i=a.isLoadingNext,l=a.loadNext,s=a.refetch,x=a.traySessionID,z=d("CometRelay").useRelayEnvironment();a=r();var A=a[0],B=a[1],C=d("CometRelay").useFragment(j!==void 0?j:j=b("StoriesTrayRectangularBuckets_buckets.graphql"),f),D=c("useStoriesTrayTilePrefetchProfileURI")(C),E=d("CometRelay").useFragment(y,e);a=q(!1);var F=a[0],G=a[1];f=n(function(){!F&&!A&&(G(!0),B(function(){s(function(){G(!1)})}))},[A,F,s,B]);e=c("useStoriesIsUploading")(f);var H=e||F||A,I=p(function(){var a=C||[],b=[];for(var c=0;c<a.length;c++)a[c]!=null&&b.push(a[c]);return b},[C]),J=c("usePrevious")(I);o(function(){var a=v(I,J);a.length!==0&&a.forEach(function(a){z.commitUpdate(function(b){b=b.get(a);b!=null&&b.invalidateRecord()})})},[z,J,I]);var K=c("useStoriesBucketsIndexer")(I),L=p(function(){var a;return(a=K)!=null?a:[]},[K]),M=c("usePrevious")(x),N=b("cr:5646")(),O=c("useStoriesBucketsLogger")(c("StoriesLoggingConstants").ACTION_SOURCE.TRAY,I),P=(a=L==null?void 0:L.length)!=null?a:0,Q=!1;if(L!=null&&P>0){f=L[0];a=(e=L[0])==null?void 0:e.type;f=(e=f==null?void 0:f.isEmpty)!=null?e:!0;a===d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF&&!f&&(Q=!0)}var R=5;e=p(function(){var a=!0,b=[],e={entryPoint:"add_to_story_first_pog",sourceSurface:"newsfeed"};for(var f=0;f<I.length;f++){var g=L[f];if((g==null?void 0:g.shouldShow)===!0){var h=g==null?void 0:g.type;if(h===d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF){var i;h=I[f];i=(i=g==null?void 0:g.isEmpty)!=null?i:!0;b.splice(0,0,m.jsx(c("StoriesTrayCreateTile.react"),{fragmentProp:E,passthroughProps:e},f));(!i||H)&&(b.splice(1,0,m.jsx(c("StoriesTrayTileSelf.react"),{bucketCount:d("StoriesConstants").NAV_PANE_TOTAL_COUNT,bucketLength:P,bucketNode:h,hasSelfBucket:Q,index:f,isUploading:H,onPressIn:D,optimisticStoryURI:N,traySessionID:x},h.id)),a=!1)}else{i=I[f];h=w(i,P,Q,g,x,f,D);h!=null&&(b.push(h),(g==null?void 0:g.isEmpty)===!1&&(a=!1))}}}i=R-b.length;return{placeHoldersCount:i,shouldShowCreateCard:a,tiles:b}},[E,I,L,H,P,Q,D,N,x]);a=e.placeHoldersCount;f=e.shouldShowCreateCard;e=e.tiles;o(function(){if(M===x)return;O(x)},[x,O,M]);var S=h._("__JHASH__TIbUrjBujSG__JHASH__");if(f)if(c("StoriesTrayCreateCard.react")!=null)return m.jsx(c("StoriesTrayCreateCard.react"),{});else return null;else{f={type:"fixed",width:d("StoriesConstants").STORIES_TRAY_TILE_HEIGHT*d("StoriesConstants").DEFAULT_ASPECT_RATIO};return m.jsxs("div",babelHelpers["extends"]({"aria-label":S,className:(k||(k=c("stylex")))(t.tray,t.hscrollTray,u&&t.wrapper)},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{role:"region",style:{minHeight:d("StoriesConstants").TOFU_TILE_HEIGHT},children:[m.jsx(c("CometScreenReaderHeading.react"),{children:S}),m.jsx(c("StoriesTrayHScrollContainer.react"),{cardWidth:f,children:e,hasNext:g,hideArrows:a>0,isLoadingNext:i,loadNext:l,peek:!0})]}))}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("StoriesTrayRectangularQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24539171939059864"}),null);
__d("StoriesTrayRectangularQuery.graphql",["StoriesTrayRectangularQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"blur"},c={defaultValue:null,kind:"LocalArgument",name:"bucketsToFetch"},d={defaultValue:null,kind:"LocalArgument",name:"cursor"},e={defaultValue:null,kind:"LocalArgument",name:"id"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g=[{kind:"Variable",name:"id",variableName:"id"}],h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"bucketsToFetch"}],k={kind:"Variable",name:"scale",variableName:"scale"},l={kind:"Literal",name:"width",value:40},m=[k,l],n=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],o={alias:"profilePic",args:m,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};m={alias:null,args:m,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null};var q=[{kind:"Literal",name:"height",value:277},k,{kind:"Literal",name:"width",value:156}],r={alias:"coverImage",args:q,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},s=[o,p,m,r];l=[{kind:"Literal",name:"height",value:40},k,l];var t=[i],u={kind:"InlineFragment",selections:t,type:"Node",abstractKey:"__isNode"},v={kind:"InlineFragment",selections:t,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},w={kind:"InlineFragment",selections:t,type:"GenericAttachmentMedia",abstractKey:null},x={kind:"InlineFragment",selections:t,type:"MontageImage",abstractKey:null};t={kind:"InlineFragment",selections:t,type:"MontageVideo",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"StoriesTrayRectangularQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"StoriesTrayRectangular_me"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,f,e],kind:"Operation",name:"StoriesTrayRectangularQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,i,{kind:"InlineFragment",selections:[{alias:null,args:j,concreteType:"UserToUnifiedStoryBucketsConnection",kind:"LinkedField",name:"unified_stories_buckets",plural:!1,selections:[{alias:null,args:null,concreteType:"UserToUnifiedStoryBucketsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{kind:"TypeDiscriminator",abstractKey:"__isStoryBucket"},i,{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[h,{kind:"InlineFragment",selections:s,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profilePic",args:l,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},p,{alias:null,args:l,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},r],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:s,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},p,m,r,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[i,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[h,u,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"StoriesTrayTileView_warningScreen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null},u],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"},v,w,x,t],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:q,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"FBStoryPortalInfo",kind:"LinkedField",name:"background_color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"FBStoryColorInfo",kind:"LinkedField",name:"color_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dominant_color",storageKey:null}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[i,{alias:null,args:null,concreteType:"StoryBackdrop",kind:"LinkedField",name:"backdrop",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"blur",variableName:"blur"},k],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:null}],type:"Photo",abstractKey:null},u,v,w,x,t],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:1920},k,{kind:"Literal",name:"width",value:1080}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:null}],type:"Photo",abstractKey:null},u,v,w,x,t],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reply",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:j,filters:null,handle:"connection",key:"StoriesTrayRectangular_unified_stories_buckets",kind:"LinkedHandle",name:"unified_stories_buckets"}],type:"User",abstractKey:null}],storageKey:null}]},params:{id:b("StoriesTrayRectangularQuery_facebookRelayOperation"),metadata:{},name:"StoriesTrayRectangularQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("StoriesTrayRectangular_me.graphql",["StoriesTrayRectangularQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["unified_stories_buckets"];return{argumentDefinitions:[{kind:"RootArgument",name:"blur"},{kind:"RootArgument",name:"bucketsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{connection:[{count:"bucketsToFetch",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"bucketsToFetch",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["node"],operation:b("StoriesTrayRectangularQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"StoriesTrayRectangular_me",selections:[{alias:"unified_stories_buckets",args:null,concreteType:"UserToUnifiedStoryBucketsConnection",kind:"LinkedField",name:"__StoriesTrayRectangular_unified_stories_buckets_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserToUnifiedStoryBucketsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangularBuckets_buckets"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null}}();e.exports=a}),null);
__d("StoriesTrayRectangular.react",["CometRelay","StoriesTrayRectangularBuckets.react","StoriesTrayRectangular_me.graphql","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useMemo,m=h!==void 0?h:h=b("StoriesTrayRectangular_me.graphql");function a(a){var b=a.storiesData;a=a.traySessionID;if(!b.me)throw c("unrecoverableViolation")("Expected current actor for StoriesRoot to be available","fb_stories_web");b=b.me;var e=d("CometRelay").usePaginationFragment(m,b),f=e.data,g=e.hasNext,h=e.isLoadingNext,i=e.loadNext,n=e.refetch,o=f;e=k(function(a){n({},{fetchPolicy:"store-and-network",onComplete:a})},[n]);f=l(function(){var a;return((o==null?void 0:(a=o.unified_stories_buckets)==null?void 0:a.edges)||[]).map(function(a){return a==null?void 0:a.node}).filter(Boolean)},[o==null?void 0:(f=o.unified_stories_buckets)==null?void 0:f.edges]);return j.jsx(c("StoriesTrayRectangularBuckets.react"),{createTileRef:b,edges:f,hasNext:g,isLoadingNext:h,loadNext:i,refetch:e,traySessionID:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayRectangularRootQuery.graphql",["StoriesTrayRectangularRootQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:10,kind:"LocalArgument",name:"blur"},c={defaultValue:8,kind:"LocalArgument",name:"bucketsToFetch"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[e],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h=[{kind:"Variable",name:"first",variableName:"bucketsToFetch"}],i={kind:"Variable",name:"scale",variableName:"scale"},j={kind:"Literal",name:"width",value:40},k=[i,j],l=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],m={alias:"profilePic",args:k,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};k={alias:null,args:k,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null};var o=[{kind:"Literal",name:"height",value:277},i,{kind:"Literal",name:"width",value:156}],p={alias:"coverImage",args:o,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null},q=[m,n,k,p];j=[{kind:"Literal",name:"height",value:40},i,j];var r={kind:"InlineFragment",selections:f,type:"Node",abstractKey:"__isNode"},s={kind:"InlineFragment",selections:f,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},t={kind:"InlineFragment",selections:f,type:"GenericAttachmentMedia",abstractKey:null},u={kind:"InlineFragment",selections:f,type:"MontageImage",abstractKey:null},v={kind:"InlineFragment",selections:f,type:"MontageVideo",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"StoriesTrayRectangularRootQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"me",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangular_me"},{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangularBuckets_createTileUris"}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:f,storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayRefresh_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,c,a],kind:"Operation",name:"StoriesTrayRectangularRootQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"me",plural:!1,selections:[g,e,{kind:"InlineFragment",selections:[{alias:null,args:h,concreteType:"UserToUnifiedStoryBucketsConnection",kind:"LinkedField",name:"unified_stories_buckets",plural:!1,selections:[{alias:null,args:null,concreteType:"UserToUnifiedStoryBucketsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isStoryBucket"},e,{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[g,{kind:"InlineFragment",selections:q,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profilePic",args:j,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null},n,{alias:null,args:j,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null},p],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:q,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[m,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},n,k,p,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[e,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[g,r,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{args:null,documentName:"StoriesTrayTileView_warningScreen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null},r],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"},s,t,u,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:o,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"FBStoryPortalInfo",kind:"LinkedField",name:"background_color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"FBStoryColorInfo",kind:"LinkedField",name:"color_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dominant_color",storageKey:null}],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[e,{alias:null,args:null,concreteType:"StoryBackdrop",kind:"LinkedField",name:"backdrop",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"blur",variableName:"blur"},i],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:null}],type:"Photo",abstractKey:null},r,s,t,u,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:1920},i,{kind:"Literal",name:"width",value:1080}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:null}],type:"Photo",abstractKey:null},r,s,t,u,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reply",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:h,filters:null,handle:"connection",key:"StoriesTrayRectangular_unified_stories_buckets",kind:"LinkedHandle",name:"unified_stories_buckets"},{alias:"profilePicture",args:[{kind:"Literal",name:"height",value:150},i,{kind:"Literal",name:"width",value:150}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[g,e],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_refresh_stories_tray",storageKey:null}]}],storageKey:null}]},params:{id:b("StoriesTrayRectangularRootQuery_facebookRelayOperation"),metadata:{},name:"StoriesTrayRectangularRootQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useStoriesTrayRefresh_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesTrayRefresh_viewer",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_refresh_stories_tray",storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useStoriesTrayRefresh",["CometOnRefresh.react","CometRelay","react","useStoriesTrayRefresh_viewer.graphql","useStoriesTraySetShouldRefresh","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useTransition,n=1*60*1e3;function a(a,e){e=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayRefresh_viewer.graphql"),e);var f=l(!1),g=m(),i=g[0],o=g[1],p=j(function(){if(f.current===!0)return;f.current=!0;window.setTimeout(function(){o(function(){a()})},0)},[a,o]);k(function(){f.current=i},[i]);var q=e==null?void 0:e.should_refresh_stories_tray,r=c("useStoriesTraySetShouldRefresh")();k(function(){q===!0&&(p(),r(!1))},[p,r,q]);d("CometOnRefresh.react").useOnRefresh(p);var s=l(!1),t=l(null);g=j(function(){s.current&&p(),s.current=!1},[p]);e=j(function(){window.clearTimeout(t.current),t.current=window.setTimeout(function(){s.current=!0},n)},[]);e=c("useVisibilityObserver")({onHidden:e,onVisible:g});return e}g["default"]=a}),98);
__d("StoriesTrayRectangularRoot.react",["CometErrorBoundary.react","CometHideableComponentExperiment.react","CometPlaceholder.react","CometRelay","StoriesActorProvider.react","StoriesTrayErrorCardLazyLoaded.react","StoriesTrayRectangular.react","StoriesTrayRectangularRootQuery$Parameters","StoriesTrayRectangularRootQuery.graphql","WebPixelRatio","react","useRefetchablePreloadedQuery","useStoriesTrayRefresh","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useState,m=h!==void 0?h:h=b("StoriesTrayRectangularRootQuery.graphql");function n(a){var b;a=a.queries;var e=l(function(){return c("uuidv4")()});e=e[0];a=c("useRefetchablePreloadedQuery")(c("StoriesTrayRectangularRootQuery$Parameters"),a.storiesTrayQueryReference);var f=a[0];a=a[1];a=d("CometRelay").usePreloadedQuery(m,a);var g=5,h=k(function(){f({bucketsToFetch:g,scale:d("WebPixelRatio").get()})},[f,g]);h=c("useStoriesTrayRefresh")(h,a==null?void 0:a.viewer);b=a==null?void 0:(b=a.viewer)==null?void 0:(b=b.actor)==null?void 0:b.id;return j.jsx("div",{ref:h,children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx(c("StoriesTrayErrorCardLazyLoaded.react"),{})},children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("StoriesActorProvider.react"),{actorID:b,children:j.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"comet_tofu_stories_container",children:j.jsx(c("StoriesTrayRectangular.react"),{storiesData:a,traySessionID:e})})})})})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){return j.jsx(n,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);