;/*FB_PKG_DELIM*/

__d("CometAlbumMediaItemOrderType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ASCENDING","DESCENDING","DEFAULT"]);f.MediaAttachmentOrderType=a}),66);
__d("CometComposerPromotionContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isSproutPromoted:!1,listContainsPromotion:!1});g["default"]=b}),98);
__d("CometComposerScheduleStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__UDNJV-g-EFR__JHASH__");b=h._("__JHASH__c6ITKLtvPfx__JHASH__");c=h._("__JHASH__f7fhhDJIicy__JHASH__");d=h._("__JHASH__0tLMhXMUSkx__JHASH__");g.COMPOSER_SUBMIT_CTA=a;g.COMPOSER_FOOTER_CTA=b;g.PAGE_TITLE=c;g.COMPOSER_PILL=d}),226);
__d("CometComposerSproutButtonTooltip.react",["CometScreenReaderText.react","FDSTooltip.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(7),d=a.children,e=a.id,f=a.isVisible;a=a.text;if(!f)return d;b[0]!==e||b[1]!==a?(f=j.jsx(c("CometScreenReaderText.react"),{id:e,text:a}),b[0]=e,b[1]=a,b[2]=f):f=b[2];b[3]!==a||b[4]!==d||b[5]!==f?(e=j.jsxs(c("FDSTooltip.react"),{position:"above",tooltip:a,children:[d,f]}),b[3]=a,b[4]=d,b[5]=f,b[6]=e):e=b[6];return e}g["default"]=a}),98);
__d("CometComposerSproutPromotionActionsEndPromotionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4699225106842896"}),null);
__d("CometComposerSproutPromotionActionsEndPromotionMutation.graphql",["CometComposerSproutPromotionActionsEndPromotionMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SproutPromotionEndResponsePayload",kind:"LinkedField",name:"sprout_promotion_end",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometComposerSproutPromotionActionsEndPromotionMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometComposerSproutPromotionActionsEndPromotionMutation",selections:c},params:{id:b("CometComposerSproutPromotionActionsEndPromotionMutation_facebookRelayOperation"),metadata:{},name:"CometComposerSproutPromotionActionsEndPromotionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometComposerSproutPromotionActions",["CometComposerSproutPromotionActionsEndPromotionMutation.graphql","CometRelay","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometComposerSproutPromotionActionsEndPromotionMutation.graphql");function a(a){var b=a.environment,e=a.input,f=a.onCompleted,g=a.onError;d("CometRelay").commitMutation(b,{mutation:i,onCompleted:f,onError:function(a){c("recoverableViolation")("Unable to end sprout promotion","comet_composer"),g&&g()},variables:{input:e}})}g.endPromotion=a}),98);
__d("CometComposerSproutVisibilitiesContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({onRender:c("emptyFunction"),onVisible:c("emptyFunction")});g["default"]=b}),98);
__d("ComposerFeatureIntentLoggingDispatcher",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{featureType:a,source:b}}f["default"]=a}),66);
__d("ComposerSproutDisplayTypeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({renderButtonCollapsed:!0,showLabelAsTooltip:!0,type:"inline"});g["default"]=b}),98);
__d("useSproutPromotionTooltip",["CometComposerPromotionContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useRef,k=b.useState,l=b.c;function a(){var a,b=l(5),d=i(c("CometComposerPromotionContext")),e=k((d==null?void 0:d.isSproutPromoted)===!0),f=e[0],g=e[1];e=d==null?void 0:d.promotionID;a=(a=d==null?void 0:d.helperTextLabel)!=null?a:"";d=d==null?void 0:d.tooltip;var h=j(null);if(f===!1||a.trim().length===0||e==null||d==null){b[0]!==h?(f={hideTooltip:m,targetRef:h},b[0]=h,b[1]=f):f=b[1];return f}b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return g(!1)},b[2]=a):a=b[2];b[3]!==d?(e={hideTooltip:a,targetRef:d},b[3]=d,b[4]=e):e=b[4];return e}function m(){}g["default"]=a}),98);
__d("FeedComposerCometSproutCollapsedButton.react",["CometContextualLayerAnchorRoot.react","CometPressable.react","CometPressableChildrenWithOverlay.react","CometTooltip_DEPRECATED.react","ComposerSproutDisplayTypeContext","ImageIconSource","TetraIcon.react","react","useSproutPromotionTooltip"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.c,l={pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0},pressed:{transform:"x1n5d1j9",$$css:!0}};e=i.forwardRef(a);function a(a,b){var d=k(45),e,f,g,h,m,n,o;d[0]!==a?(o=a.activeColor,n=a.isActive,e=a.overlayDisabled,g=a.onFocusIn,h=a.onFocusOut,m=a.onHoverIn,f=babelHelpers.objectWithoutPropertiesLoose(a,["activeColor","isActive","overlayDisabled","onFocusIn","onFocusOut","onHoverIn"]),d[0]=a,d[1]=e,d[2]=f,d[3]=g,d[4]=h,d[5]=m,d[6]=n,d[7]=o):(e=d[1],f=d[2],g=d[3],h=d[4],m=d[5],n=d[6],o=d[7]);a=e===void 0?!1:e;e=f;f=e["aria-describedby"];var p=e.disabled,q=e.icon,r=e.label,s=e.onHoverOut,t=e.onPress;e=e.testid;var u;d[8]!==q?(u=new(c("ImageIconSource"))(q,24,24),d[8]=q,d[9]=u):u=d[9];d[10]!==u||d[11]!==b?(q=i.jsx(c("TetraIcon.react"),{color:"disabled",icon:u,ref:b}),d[10]=u,d[11]=b,d[12]=q):q=d[12];var v=q;q=(u=c("useSproutPromotionTooltip")())!=null?u:{};var w=q.hideTooltip,x=q.targetRef;d[13]!==w||d[14]!==t?(u=function(a){w(),t&&t(a)},d[13]=w,d[14]=t,d[15]=u):u=d[15];q=u;u=j(c("ComposerSproutDisplayTypeContext"));q=p===!0?void 0:q;a=p===!0||a;var y;d[16]!==p?(y=function(a){a=a.pressed;return[l.pressable,a&&p!==!0&&l.pressed]},d[16]=p,d[17]=y):y=d[17];var z;d[18]!==x||d[19]!==v?(z=function(a){a=a.overlay;return i.jsx("div",{children:i.jsx(c("CometContextualLayerAnchorRoot.react"),{children:i.jsx("div",{ref:x,children:i.jsx("div",{className:"xc9qbxq x1n2onr6 x14qfxbe x14yjl9h xudhj91 x18nykt9 xww2gxu",children:i.jsx(c("CometPressableChildrenWithOverlay.react"),{overlay:a,children:i.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6 x5yr21d xh8yej3",children:v})})})})})})},d[18]=x,d[19]=v,d[20]=z):z=d[20];var A;d[21]!==f||d[22]!==r||d[23]!==p||d[24]!==g||d[25]!==h||d[26]!==m||d[27]!==s||d[28]!==q||d[29]!==a||d[30]!==b||d[31]!==e||d[32]!==y||d[33]!==z?(A=i.jsx(c("CometPressable.react"),{"aria-describedby":f,"aria-label":r,disabled:p,label:r,onFocusIn:g,onFocusOut:h,onHoverIn:m,onHoverOut:s,onPress:q,overlayDisabled:a,ref:b,testid:void 0,xstyle:y,children:z}),d[21]=f,d[22]=r,d[23]=p,d[24]=g,d[25]=h,d[26]=m,d[27]=s,d[28]=q,d[29]=a,d[30]=b,d[31]=e,d[32]=y,d[33]=z,d[34]=A):A=d[34];f=A;if(p===!1&&u.showLabelAsTooltip){d[35]!==r||d[36]!==f?(g=i.jsx(c("CometTooltip_DEPRECATED.react"),{position:"above",tooltip:r,children:f}),d[35]=r,d[36]=f,d[37]=g):g=d[37];f=g}if(n){d[38]===Symbol["for"]("react.memo_cache_sentinel")?(h="xc9qbxq x1n2onr6 x14qfxbe x14yjl9h xudhj91 x18nykt9 xww2gxu",d[38]=h):h=d[38];d[39]!==o?(m={backgroundColor:o},d[39]=o,d[40]=m):m=d[40];d[41]!==b||d[42]!==m||d[43]!==f?(s=i.jsx("div",{className:h,ref:b,style:m,children:f}),d[41]=b,d[42]=m,d[43]=f,d[44]=s):s=d[44];f=s}return f}f=e;g["default"]=f}),98);
__d("FeedComposerCometSproutExpandedButton.react",["ix","CometComposerPromotionContext","ComposerSproutDisplayTypeContext","FDSTooltip.react","ImageIconSource","TetraAccessoryListCell_DEPRECATED.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useState,m=b.c;function a(a){var b,e=m(30),f=k(c("ComposerSproutDisplayTypeContext")),g=k(c("CometComposerPromotionContext"));b=(b=g==null?void 0:g.isSproutPromoted)!=null?b:!1;var i=l(!1),n=i[0],o=i[1];if(f.type!=="push_view"&&f.type!=="wing_expanded")return null;i=a["aria-describedby"];var p=a.disabled,q=a.icon,r=a.isActive,s=a.label,t=a.onClick,u=a.opensExternally;a=a.testid;u=u===void 0?!1:u;var v=null,w=s,x=4;b&&(v=g==null?void 0:g.subtitle,x=0);e[0]!==q?(b=new(c("ImageIconSource"))(q,24,24),e[0]=q,e[1]=b):b=e[1];e[2]!==b?(g={icon:b,type:"icon"},e[2]=b,e[3]=g):g=e[3];e[4]!==r||e[5]!==u||e[6]!==n?(q=r===!0?{color:"highlight",icon:d("fbicon")._(h("477815"),24),type:"icon"}:u&&n?{color:"tertiary",icon:d("fbicon")._(h("538182"),16),type:"icon"}:void 0,e[4]=r,e[5]=u,e[6]=n,e[7]=q):q=e[7];b=f.forceSingleLineLabel===!0?1:void 0;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(){return o(!0)},n=function(){return o(!1)},e[8]=u,e[9]=n):(u=e[8],n=e[9]);var y;e[10]!==f||e[11]!==t?(y=function(){f.popPage&&f.popPage(),t&&t()},e[10]=f,e[11]=t,e[12]=y):y=e[12];r=r===!0;e[13]!==g||e[14]!==q||e[15]!==v||e[16]!==i||e[17]!==p||e[18]!==w||e[19]!==b||e[20]!==y||e[21]!==x||e[22]!==r?(u=j.jsx(c("TetraAccessoryListCell_DEPRECATED.react"),{addOnPrimary:g,addOnPrimaryVerticalAlign:"center",addOnSecondary:q,body:v,describedby:i,disabled:p,emphasized:!0,headline:w,headlineLineLimit:b,onHoverIn:u,onHoverOut:n,onPress:y,paddingHorizontal:x,selected:r,testid:void 0}),e[13]=g,e[14]=q,e[15]=v,e[16]=i,e[17]=p,e[18]=w,e[19]=b,e[20]=y,e[21]=x,e[22]=r,e[23]=u):u=e[23];n=u;if(p===!1&&f.showLabelAsTooltip){e[24]!==s||e[25]!==n?(g=j.jsx(c("FDSTooltip.react"),{position:"above",tooltip:s,children:n}),e[24]=s,e[25]=n,e[26]=g):g=e[26];n=g}e[27]!==a||e[28]!==n?(q=j.jsx("div",{"data-testid":void 0,children:n}),e[27]=a,e[28]=n,e[29]=q):q=e[29];return q}g["default"]=a}),98);
__d("useFeatureDefinitionMissingErrorHandler",["CometComposerAttachmentPluginTypes","FBLogger","emptyFunction","getFeatureDefinition","react","useCometComposerFeatureDefinitions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j="https://www.internalfb.com/intern/wiki/Building_with_Comet_Composer/Building_on_Top_of_Composer/Adding_a_Sprout/Attachment_Feature_Definitions/";function a(a,b){var d=i(3),e=c("useCometComposerFeatureDefinitions")();if(a!==!0||e==null)return c("emptyFunction");d[0]!==b||d[1]!==e?(a=function(){var a=Object.keys(c("CometComposerAttachmentPluginTypes")).find(function(a){return a===String(b)});if(a!=null){a=c("getFeatureDefinition")(e,a);a==null&&c("FBLogger")("comet_composer").mustfix("Missing feature definition for attachment sprout %s\nPlease see this guide for more details %s",String(b),j)}},d[0]=b,d[1]=e,d[2]=a):a=d[2];return a}g["default"]=a}),98);
__d("CometComposerSproutButtonInternal.react",["fbt","CometComposerPromotionContext","CometComposerSproutButtonTooltip.react","CometComposerSproutPromotionActions","CometComposerSproutVisibilitiesContext","ComposerFeatureIntentLoggingDispatcher","ComposerSproutDisplayTypeContext","FeedComposerCometSproutCollapsedButton.react","FeedComposerCometSproutExpandedButton.react","RelayHooks","react","stylex","useCometComposerLoggerDispatcher","useComposerFeatureIneligibility","useFeatureDefinitionMissingErrorHandler","usePartialViewImpression","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useContext,m=b.useEffect,n=b.useId,o=b.useRef,p=b.c,q={disabled:{cursor:"x1sqbtui",filter:"x3q8yk8",opacity:"x197sbye",$$css:!0},expanded:{flexBasis:"x4pfjvb",marginBottom:"x12nagc",marginTop:"x1gslohp",paddingEnd:"xi32u7y",paddingLeft:null,paddingRight:null,paddingStart:"x1pe1cjp",$$css:!0},expandedAndPromoted:{backgroundColor:"x1wpzbip",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",flexBasis:"x1l7klhg",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,marginStart:"xsgj6o6",paddingEnd:"x4uap5",paddingLeft:null,paddingRight:null,paddingStart:"xkhd6sd",$$css:!0}};e=k.forwardRef(a);function a(a,b){var e,f=p(67),g;f[0]!==a?(g=babelHelpers["extends"]({},a),f[0]=a,f[1]=g):g=f[1];var j=d("RelayHooks").useRelayEnvironment(),r,s,t,u,v,w,x,y,z,A,B,C;if(f[2]!==g){a=g;x=a.activeColor;r=a.disabled;C=a.disabledTooltip;y=a.icon;s=a.isActive;z=a.label;w=a.onClick;B=a.opensExternally;t=a.pluginName;v=a.sproutName;A=a.testid;u=a.useFeatureDefinitions;a=babelHelpers.objectWithoutPropertiesLoose(a,["activeColor","disabled","disabledTooltip","icon","isActive","label","onClick","opensExternally","pluginName","sproutName","testid","useFeatureDefinitions"]);f[2]=g;f[3]=r;f[4]=s;f[5]=t;f[6]=u;f[7]=v;f[8]=w;f[9]=a;f[10]=x;f[11]=y;f[12]=z;f[13]=A;f[14]=B;f[15]=C}else r=f[3],s=f[4],t=f[5],u=f[6],v=f[7],w=f[8],a=f[9],x=f[10],y=f[11],z=f[12],A=f[13],B=f[14],C=f[15];g=r===void 0?!1:r;r=s===void 0?!1:s;s=c("useComposerFeatureIneligibility")();var D;f[16]!==s||f[17]!==t||f[18]!==g?(D=s.has(t)||g,f[16]=s,f[17]=t,f[18]=g,f[19]=D):D=f[19];s=D;g=l(c("ComposerSproutDisplayTypeContext"));D=g.renderButtonCollapsed;var E=o(!1),F=c("useCometComposerLoggerDispatcher")();g=l(c("CometComposerPromotionContext"));var G=(e=g==null?void 0:g.isSproutPromoted)!=null?e:!1;if(f[20]!==g){e=(e=g==null?void 0:(e=g.promotionID)==null?void 0:e.toString())!=null?e:"";f[20]=g;f[21]=e}else e=f[21];var H=e,I=c("useFeatureDefinitionMissingErrorHandler")(u,t);f[22]!==G||f[23]!==H||f[24]!==j||f[25]!==v||f[26]!==F||f[27]!==I||f[28]!==w?(g=function(){if(G){var a={promotion_id:H};d("CometComposerSproutPromotionActions").endPromotion({environment:j,input:a})}a=c("ComposerFeatureIntentLoggingDispatcher")(v,"inline_sprouts");F({fields:a,type:"COMPOSER_FEATURE_INTENT"});I();w&&w()},f[22]=G,f[23]=H,f[24]=j,f[25]=v,f[26]=F,f[27]=I,f[28]=w,f[29]=g):g=f[29];e=g;u=l(c("CometComposerSproutVisibilitiesContext"));var J=u.onRender,K=u.onVisible;f[30]!==J||f[31]!==v?(t=function(){!E.current&&J!=null&&(J(v),E.current=!0)},g=[J,v],f[30]=J,f[31]=v,f[32]=t,f[33]=g):(t=f[32],g=f[33]);m(t,g);f[34]!==K||f[35]!==v?(u=function(){K!=null&&K(v)},f[34]=K,f[35]=v,f[36]=u):u=f[36];t=u;f[37]!==t?(g={onImpressionStart:t},f[37]=t,f[38]=g):g=f[38];u=c("usePartialViewImpression")(g);t=n();f[39]!==D||f[40]!==s||f[41]!==t||f[42]!==a||f[43]!==x||f[44]!==y||f[45]!==r||f[46]!==z||f[47]!==e||f[48]!==b||f[49]!==A||f[50]!==B?(g=D?k.jsx(c("FeedComposerCometSproutCollapsedButton.react"),babelHelpers["extends"]({},a,{activeColor:x,"aria-describedby":s?t:void 0,disabled:s,icon:y,isActive:r,label:z,onPress:e,ref:b,testid:void 0})):k.jsx(c("FeedComposerCometSproutExpandedButton.react"),{"aria-describedby":s?t:void 0,disabled:s,icon:y,isActive:r,label:z,onClick:e,opensExternally:B,testid:void 0}),f[39]=D,f[40]=s,f[41]=t,f[42]=a,f[43]=x,f[44]=y,f[45]=r,f[46]=z,f[47]=e,f[48]=b,f[49]=A,f[50]=B,f[51]=g):g=f[51];a=g;if(f[52]!==C){y=(x=C)!=null?x:h._("__JHASH__g2sisVIjb2l__JHASH__");f[52]=C;f[53]=y}else y=f[53];r=y;z=!D&&q.expanded;e=!D&&G&&q.expandedAndPromoted;b=s&&q.disabled;f[54]!==z||f[55]!==e||f[56]!==b?(A=(i||(i=c("stylex")))(z,e,b),f[54]=z,f[55]=e,f[56]=b,f[57]=A):A=f[57];f[58]!==t||f[59]!==s||f[60]!==r||f[61]!==a?(B=k.jsx(c("CometComposerSproutButtonTooltip.react"),{id:t,isVisible:s,text:r,children:a}),f[58]=t,f[59]=s,f[60]=r,f[61]=a,f[62]=B):B=f[62];f[63]!==A||f[64]!==u||f[65]!==B?(g=k.jsx("div",{className:A,"data-testid":void 0,ref:u,children:B}),f[63]=A,f[64]=u,f[65]=B,f[66]=g):g=f[66];return g}f=c("withComposerViewStatePart")(e,function(a){return{useFeatureDefinitions:(a=(a=a.featureDefinitionsGating)==null?void 0:a.areAttachmentFeaturesSupported)!=null?a:!1}});g["default"]=f}),226);
__d("GroupCometComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({errorMetadata:null,groupID:null,isSaving:!1});g["default"]=b}),98);
__d("addMediaUploadStatuses",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return a.reduce(function(a,c){if(c.file==null)return a;var d=c.file.uploadID;if(d==null)return a;if(a[d]!=null)return a;var e=null,f=new(g||(g=b("Promise")))(function(a){e=a}),h=null,i=new g(function(a){h=a});e&&h&&(c.fileType==="PHOTO"||c.fileType==="VIDEO")&&(a[d]={cancelUpload:h,onFileComplete:f,onUploadCancel:i,resolveFileUpload:e});return a},c)}f.addMediaUploadStatuses=a}),66);
__d("composerFooterAttachmentAreaChecker",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return(a==null?void 0:(a=a.footerAttachmentArea)==null?void 0:a.activeFooterAttachmentType)!==(b==null?void 0:(a=b.footerAttachmentArea)==null?void 0:a.activeFooterAttachmentType)}f["default"]=a}),66);
__d("composerFooterAttachmentAreaReducer",["CometComposerFooterAttachmentPluginTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c;switch(b.type){case"ACTIVATE_FOOTER_ATTACHMENT_TYPE":return((c=a.footerAttachmentArea)==null?void 0:c.activeFooterAttachmentType)===b.footerAttachmentType?a:babelHelpers["extends"]({},a,{footerAttachmentArea:babelHelpers["extends"]({},a.footerAttachmentArea,{activeFooterAttachmentType:b.footerAttachmentType}),placeholderTextOverride:b.placeholderTextOverride});case"REMOVE_FOOTER_ATTACHMENT_TYPE":if(((c=a.footerAttachmentArea)==null?void 0:c.activeFooterAttachmentType)!==b.footerAttachmentType)return a;c={nonprofit:a.nonprofit};b.footerAttachmentType===d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.NONPROFIT&&a.nonprofit!=null&&(c={nonprofit:void 0});var e={isGetMessagesPost:a.isGetMessagesPost,isGetMessagesPostAttachmentOptional:a.isGetMessagesPostAttachmentOptional};b.footerAttachmentType===d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES&&(a==null?void 0:a.isGetMessagesPost)!=null&&(e={isGetMessagesPost:null,isGetMessagesPostAttachmentOptional:null});return babelHelpers["extends"]({},a,c,e,{footerAttachmentArea:babelHelpers["extends"]({},a.footerAttachmentArea,{activeFooterAttachmentType:null}),placeholderTextOverride:void 0});case"UPDATE_PLACEHOLDER_TEXT":return babelHelpers["extends"]({},a,{placeholderTextOverride:b.placeholderTextOverride});case"RESET_PLACEHOLDER_TEXT":return babelHelpers["extends"]({},a,{placeholderTextOverride:void 0})}return a}g.composerFooterAttachmentAreaReducer=a}),98);
__d("convertVideoToPhoto",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.data.id;a.trimData;a.videoAttachmentMetadata;a=babelHelpers.objectWithoutPropertiesLoose(a,["trimData","videoAttachmentMetadata"]);if(b==null)return null;switch(a.state){case"NEW":return babelHelpers["extends"]({},a,{data:{id:b},fileType:"PHOTO"});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers["extends"]({},a,{data:{id:b},fileType:"PHOTO"});case"CLIENT_PROCESSING":return babelHelpers["extends"]({},a,{data:{id:b},fileType:"PHOTO"});case"QUEUED":return babelHelpers["extends"]({},a,{data:{id:b},fileType:"PHOTO"});case"FAILED":return babelHelpers["extends"]({},a,{data:{id:b},fileType:"PHOTO"})}}f["default"]=a}),66);
__d("getIDFromMediaAttachment",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.state){case"PREEXISTING":return a.data.id;case"OPTIMISTIC_UPLOADED":return a.uploadID;default:return a.file.uploadID}}f["default"]=a}),66);
__d("getMediaAttachmentDateNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.state==="UPLOADED"?a.takenTime!=null?a.takenTime:a.file.lastModified:0}f["default"]=a}),66);
__d("processNewMediaAttachments",["cometIsMimeTypeForMedia","cometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return((a=a)!=null?a:[]).map(function(a){if(a==null)return null;var c=a.uploadID;c=c!=null&&b!=null?b[c]:void 0;return h(a,c)}).filter(Boolean)}function h(a,b){var e;e=(e=a.uploadID)!=null?e:c("cometUniqueID")();a.uploadID=e;var f=URL.createObjectURL(a);if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type)){var g=(b==null?void 0:b.type)==="PHOTO"?b==null?void 0:b.data:void 0;return babelHelpers["extends"]({data:{id:e},file:a,fileObjectURL:f,fileType:"PHOTO",state:"NEW"},g)}else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type)){g=(b==null?void 0:b.type)==="VIDEO"?b==null?void 0:b.data:void 0;return babelHelpers["extends"]({data:{id:e},file:a,fileObjectURL:f,fileType:"VIDEO",state:"NEW"},g)}else return{data:{id:e},file:a,fileObjectURL:f,fileType:"UNKNOWN",state:"NEW"}}g.processNewMediaAttachments=a;g.getNewMediaAttachment=h}),98);
__d("removeMediaUploadStatuses",["getIDFromMediaAttachment"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d={},e=function(e){a.some(function(a){return e===c("getIDFromMediaAttachment")(a)})||(d[e]=b[e])};for(var f in b)e(f);return d}g["default"]=a}),98);
__d("removeTagsFromMedia",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Map(b),d=a.data.id;if(d==null)return c;b=((a==null?void 0:a.fileType)==="PHOTO"||(a==null?void 0:a.fileType)==="VIDEO")&&a.data.tags!=null?[].concat(a.data.tags).filter(Boolean):[];a=b.reduce(function(a,b){b.taggee.id!=null&&b.taggee.taggee_type!=="PRODUCT_ITEM"&&a.push(b.taggee.id);return a},[]);a.forEach(function(a){var b=c.get(a);if(b!=null){b={isDisplayedInSocialSentence:b.isDisplayedInSocialSentence,withTagSourceIDs:b.withTagSourceIDs.filter(function(a){return a!==d})};b.withTagSourceIDs.length===0?c["delete"](a):c.set(a,b)}});return c}f["default"]=a}),66);
__d("rotatePhotoAttachmentTags",[],(function(a,b,c,d,e,f){"use strict";var g=100;function h(a){if(a==null)return a;var b=a.x,c=a.y;return babelHelpers["extends"]({},a,{x:c,y:g-b})}function i(a){if(a==null)return a;var b=a.x,c=a.y;return babelHelpers["extends"]({},a,{x:g-c,y:b})}function a(a,b){switch(b){case"LEFT":return a.map(h);case"RIGHT":return a.map(i);default:return a}}f["default"]=a}),66);
__d("updateMediaUploadStatuses",["getIDFromMediaAttachment"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.reduce(function(a,d){d=c("getIDFromMediaAttachment")(d);d!=null&&b!=null&&(a[d]=b[d]);return a},{})}g["default"]=a}),98);
__d("composerMediaAttachmentReducer",["CometAlbumMediaItemOrderType","CometComposerAttachmentPluginTypes","CometComposerFooterAttachmentPluginTypes","Promise","addMediaUploadStatuses","addTagsToWithTagsIDsTracker","composerAttachmentAreaReducer","convertVideoToPhoto","getIDFromMediaAttachment","getMediaAttachmentDateNumber","gkx","killswitch","processNewMediaAttachments","removeMediaUploadStatuses","removeTagsFromMedia","rotatePhotoAttachmentTags","unrecoverableViolation","updateMediaUploadStatuses"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var c=b.allExtraData;b=b.files;b=d("processNewMediaAttachments").processNewMediaAttachments(b,c);c=(a.mediaAttachments||[]).concat(b);return babelHelpers["extends"]({},a,{mediaAttachments:c,mediaUploadStatuses:d("addMediaUploadStatuses").addMediaUploadStatuses(b,babelHelpers["extends"]({},a.mediaUploadStatuses))})}function j(a,b){var c=b.allExtraData;b=b.files;b=d("processNewMediaAttachments").processNewMediaAttachments(b,c);return babelHelpers["extends"]({},a,{mediaAttachments:b,mediaUploadStatuses:d("addMediaUploadStatuses").addMediaUploadStatuses(b,{})})}function k(a,b){if(!a.mediaAttachments)return babelHelpers["extends"]({},a);var c=a.mediaAttachments.map(function(a){if(b.retryAttachments.has(a)&&a.file)return d("processNewMediaAttachments").getNewMediaAttachment(a.file);else return a});return babelHelpers["extends"]({},a,{mediaAttachments:c})}function l(a,c){var d,e=a.mediaAttachments||[];c=c.photo;var f={data:{id:c.id,message:null,tags:[]},entID:c.id,fileType:"PHOTO",height:c.height,state:"PREEXISTING",url:c.url,useCDNPreview:!0,width:c.width};e=[].concat(e,[f]);f=babelHelpers["extends"]({},a.mediaUploadStatuses);Object.assign(f,(d={},d[c.id]={onFileComplete:(h||(h=b("Promise"))).resolve({attachmentID:c.id,attachmentType:"PHOTO"}),resolveFileUpload:function(){}},d));return babelHelpers["extends"]({},a,{mediaAttachments:e,mediaUploadStatuses:f})}function m(a,c){var d,e=a.mediaAttachments||[];c=c.video;var f=c.thumbnail;d=babelHelpers["extends"]({data:{id:c.id,title:c.title},entID:c.id,fileType:"VIDEO",imageURL:(d=f==null?void 0:f.url)!=null?d:"",state:"PREEXISTING",useCDNPreview:!0},f!=null?{height:f.height,width:f.width}:{usePlaceHolderPreview:!0});f=[].concat(e,[d]);e=babelHelpers["extends"]({},a.mediaUploadStatuses);Object.assign(e,(d={},d[c.id]={onFileComplete:(h||(h=b("Promise"))).resolve({attachmentID:c.id,attachmentType:"VIDEO"}),resolveFileUpload:function(){}},d));return babelHelpers["extends"]({},a,{mediaAttachments:f,mediaUploadStatuses:e})}function n(a,b){if(a.mediaAttachments==null)return a;else{var d=a.mediaAttachments.filter(function(a){if(c("getIDFromMediaAttachment")(b.attachment)===c("getIDFromMediaAttachment")(a)){a.fileObjectURL!=null&&URL.revokeObjectURL(a.fileObjectURL);return!1}else return!0}),e=c("removeTagsFromMedia")(b.attachment,new Map(a.withTagIDsTracker));return d.length>0||a.isMediaAttachmentsRequired===!0?babelHelpers["extends"]({},a,{mediaAttachments:d,mediaUploadStatuses:c("removeMediaUploadStatuses")([b.attachment],babelHelpers["extends"]({},a.mediaUploadStatuses)),withTagIDsTracker:e}):babelHelpers["extends"]({},a,{attachmentArea:void 0,mediaAttachments:void 0,mediaUploadStatuses:void 0})}}function o(a,b){return(a.mediaAttachments||[]).length>0?p(a,b,!0):babelHelpers["extends"]({},a,{attachmentArea:babelHelpers["extends"]({},a.attachmentArea,{activeAttachmentType:void 0,previousAttachmentType:c("CometComposerAttachmentPluginTypes").GET_MESSAGES}),isGetMessagesPost:null})}function p(a,b,e){e===void 0&&(e=!1);if(!e&&([c("CometComposerAttachmentPluginTypes").GET_MESSAGES].includes((b=a.attachmentArea)==null?void 0:b.activeAttachmentType)||[d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES].includes((b=a.footerAttachmentArea)==null?void 0:b.activeFooterAttachmentType)||[d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES].includes((b=a.footerAttachmentArea)==null?void 0:b.activeFooterAttachmentType)))return a;if(!e&&[c("CometComposerAttachmentPluginTypes").GET_MESSAGES].includes((b=a.attachmentArea)==null?void 0:b.previousAttachmentType))return a;var f=new Map(a.withTagIDsTracker);((e=a.mediaAttachments)!=null?e:[]).forEach(function(a){f=c("removeTagsFromMedia")(a,f)});(a.mediaAttachments||[]).forEach(function(b){b.fileObjectURL!=null&&URL.revokeObjectURL(b.fileObjectURL);if(b.state!=="PREEXISTING"&&b.fileType==="VIDEO"&&a.mediaUploadStatuses!=null){var c;c=(c=b.file.uploadID)!=null?c:"";if(c!==""){var d=a.mediaUploadStatuses[c];d&&d.cancelUpload({attachmentID:c,attachmentType:b.fileType})}}});return babelHelpers["extends"]({},a,{animatedImageAttachments:void 0,mediaAttachments:void 0,mediaUploadStatuses:void 0,withTagIDsTracker:f})}function q(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if(a.state==="NEW"&&b.uploadIDs.includes(a.file.uploadID))switch(a.fileType){case"PHOTO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",replaceMediaItemUploadID:a.replaceMediaItemUploadID,sphericalEncoding:a.sphericalEncoding,state:"CLIENT_PROCESSING",useCDNPreview:a.useCDNPreview};case"VIDEO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",replaceMediaItemUploadID:a.replaceMediaItemUploadID,state:"CLIENT_PROCESSING",trimData:a.trimData,useCDNPreview:a.useCDNPreview};case"FILE":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"FILE",state:"CLIENT_PROCESSING"};case"UNKNOWN":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"UNKNOWN",state:"CLIENT_PROCESSING"}}else return a}).filter(Boolean)})}function r(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if(a.file&&a.fileType==="UNKNOWN"&&b.uploadIDs.includes(a.file.uploadID))switch(a.state){case"NEW":return babelHelpers["extends"]({},a,{data:{id:a.data.id},fileType:"PHOTO"});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers["extends"]({},a,{data:{id:a.data.id},fileType:"PHOTO"});case"CLIENT_PROCESSING":case"QUEUED":case"UPLOADING":case"UPLOADED":case"FAILED":return babelHelpers["extends"]({},a,{data:{id:a.data.id},fileType:"PHOTO"})}return a})})}function s(a,b){b=a.mediaAttachments;if(b==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:b.map(function(a){if(a.state==="UPLOADED")switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{partOfCompleteBatch:!0});case"VIDEO":return babelHelpers["extends"]({},a,{partOfCompleteBatch:!0});case"FILE":return babelHelpers["extends"]({},a,{partOfCompleteBatch:!0})}return a})})}function t(a,b){var d=a.mediaAttachments;if(d==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:d.map(function(a){if(a.file&&a.fileType==="VIDEO"&&b.uploadIDs.includes(a.file.uploadID)){var d;return(d=c("convertVideoToPhoto")(a))!=null?d:a}return a})})}function u(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if(a.file&&a.fileType==="UNKNOWN"&&b.uploadIDs.includes(a.file.uploadID))switch(a.state){case"NEW":return babelHelpers["extends"]({},a,{data:{id:a.data.id},fileType:"VIDEO"});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers["extends"]({},a,{data:{id:a.data.id},fileType:"VIDEO"});case"CLIENT_PROCESSING":case"QUEUED":case"UPLOADING":case"UPLOADED":case"FAILED":return babelHelpers["extends"]({},a,{data:{id:a.data.id},fileType:"VIDEO"})}return a})})}function v(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if((a.state==="NEW"||a.state==="CLIENT_PROCESSING")&&b.uploadIDs.includes(a.file.uploadID))switch(a.fileType){case"PHOTO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,replaceMediaItemUploadID:a.replaceMediaItemUploadID,sphericalEncoding:a.sphericalEncoding,state:"CLIENT_PROCESSING_COMPLETE",useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,replaceMediaItemUploadID:a.replaceMediaItemUploadID,state:"CLIENT_PROCESSING_COMPLETE",trimData:a.trimData,useCDNPreview:a.useCDNPreview,videoAttachmentMetadata:a.videoAttachmentMetadata,width:a.width};case"FILE":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"FILE",state:"CLIENT_PROCESSING_COMPLETE"};case"UNKNOWN":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"UNKNOWN",state:"CLIENT_PROCESSING_COMPLETE"}}else return a}).filter(Boolean)})}function w(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if(a.state==="CLIENT_PROCESSING_COMPLETE"&&b.uploadIDs.includes(a.file.uploadID))switch(a.fileType){case"PHOTO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,replaceMediaItemUploadID:a.replaceMediaItemUploadID,sphericalEncoding:a.sphericalEncoding,state:"QUEUED",useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,replaceMediaItemUploadID:a.replaceMediaItemUploadID,state:"QUEUED",trimData:a.trimData,videoAttachmentMetadata:a.videoAttachmentMetadata,width:a.width};default:return{data:a.data,file:a.file,fileType:"FILE",state:"QUEUED"}}else return a}),mediaUploadStatuses:d("addMediaUploadStatuses").addMediaUploadStatuses(c.filter(function(a){return a.file!=null&&b.uploadIDs.includes(a.file.uploadID)}),babelHelpers["extends"]({},a.mediaUploadStatuses))})}function x(a,b){if(a.mediaAttachments==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:a.mediaAttachments.map(function(a){if(a.state!=="CLIENT_PROCESSING"&&a.state!=="UPLOADING"&&a.state!=="UPLOADED"&&a.state!=="PREEXISTING"&&a.file.uploadID===b.uploadID)switch(a.fileType){case"PHOTO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,percentComplete:0,replaceMediaItemUploadID:a.replaceMediaItemUploadID,sphericalEncoding:a.sphericalEncoding,state:"UPLOADING",useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,percentComplete:0,replaceMediaItemUploadID:a.replaceMediaItemUploadID,state:"UPLOADING",trimData:a.trimData,videoAttachmentMetadata:a.videoAttachmentMetadata,width:a.width};default:return{data:a.data,file:a.file,fileType:"FILE",percentComplete:0,state:"UPLOADING"}}else return a})})}function y(a,b){if(a.mediaAttachments==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:a.mediaAttachments.map(function(a){if(a.state==="UPLOADING"&&a.file.uploadID===b.uploadID)switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",percentComplete:b.percentComplete});case"VIDEO":return babelHelpers["extends"]({},a,{entID:b.entID,fileType:"VIDEO",percentComplete:b.percentComplete});default:return babelHelpers["extends"]({},a,{fileType:"FILE",percentComplete:b.percentComplete})}else return a})})}function z(a,b){if(a.mediaAttachments==null)return a;else{var d,e=a.mediaAttachments.map(function(a){if(a.state!=="CLIENT_PROCESSING"&&a.state!=="CLIENT_PROCESSING_COMPLETE"&&a.state!=="UPLOADED"&&a.state!=="PREEXISTING"&&a.file.uploadID===b.uploadID)switch(a.fileType){case"PHOTO":var e={data:babelHelpers["extends"]({},a.data,{id:b.entID}),entID:b.entID,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,replaceMediaItemUploadID:a.replaceMediaItemUploadID,sphericalEncoding:a.sphericalEncoding,state:"UPLOADED",takenTime:b.takenTime,uploadedImageURL:b.imageURL,useCDNPreview:a.useCDNPreview,width:a.width};a.replaceMediaItemUploadID!=null&&(d=e);return e;case"VIDEO":e={};!c("gkx")("22894")&&c("gkx")("20836")&&c("gkx")("22895")&&(e.closed_caption_settings={autogenerate_captions_on_upload:!0,should_review_all_captions:!1});e={data:babelHelpers["extends"]({},e,a.data,{id:b.entID}),entID:b.entID,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,replaceMediaItemUploadID:a.replaceMediaItemUploadID,state:"UPLOADED",trimData:a.trimData,useCDNPreview:a.useCDNPreview,videoAttachmentMetadata:a.videoAttachmentMetadata||{},width:a.width};a.replaceMediaItemUploadID!=null&&(d=e);return e;default:return{data:{id:b.entID},entID:b.entID,file:a.file,fileType:"FILE",state:"UPLOADED"}}else return a}),f;d!=null&&(e=e.map(function(a){var b;if(((b=a.file)==null?void 0:b.uploadID)===d.replaceMediaItemUploadID){b=d;b.replaceMediaItemUploadID;b=babelHelpers.objectWithoutPropertiesLoose(b,["replaceMediaItemUploadID"]);return b}return((b=a.file)==null?void 0:b.uploadID)===d.file.uploadID?null:a}).filter(Boolean),f=c("updateMediaUploadStatuses")(e,a.mediaUploadStatuses));return babelHelpers["extends"]({},a,{mediaAttachments:e,mediaUploadStatuses:f!=null?f:a.mediaUploadStatuses})}}function A(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if(a.state!=="PREEXISTING"&&a.file.uploadID===b.uploadID)switch(a.fileType){case"PHOTO":return{data:{id:b.uploadID},error:b.error,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,replaceMediaItemUploadID:a.replaceMediaItemUploadID,sphericalEncoding:a.sphericalEncoding,state:"FAILED",useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{data:{id:b.uploadID},error:b.error,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,replaceMediaItemUploadID:a.replaceMediaItemUploadID,state:"FAILED",trimData:a.trimData,useCDNPreview:a.useCDNPreview,width:a.width};default:return{data:{id:b.uploadID},error:b.error,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"FILE",state:"FAILED"}}else return a})})}function B(a,b){var d;if(a.mediaAttachments==null)return a;var e=new Map(a.withTagIDsTracker),f=[],g=[],h=b.media.data.id;((d=b.media.data.tags)!=null?d:[]).forEach(function(a){var c;if((a==null?void 0:(c=a.taggee)==null?void 0:c.id)!=null){c=a.taggee.id;a.taggee.taggee_type==="PRODUCT_ITEM"?f.push(c):b.actorID!==c&&g.push(c)}});var i=b.media.originalEntID!=null?b.media.originalEntID:h;d=(a.mediaAttachments||[]).find(function(a){a=a.originalEntID!=null?a.originalEntID:a.data.id;return a===i});if(i==null||d==null)throw c("unrecoverableViolation")("Invalid action taken to save media edits of a media attachment that does not exist","comet_composer");e=c("removeTagsFromMedia")(d,e);e=c("addTagsToWithTagsIDsTracker")(i,g,e);return babelHelpers["extends"]({},a,{mediaAttachments:(h=a.mediaAttachments)==null?void 0:h.map(function(a,c){return c!==b.index?a:b.media}),taggedProductIDs:f,withTagIDsTracker:e})}function C(a,b){if(a.mediaAttachments!=null){var d=[].concat(a.mediaAttachments);d.splice(b.targetIndex,0,d.splice(b.sourceIndex,1)[0]);b=c("updateMediaUploadStatuses")(d,a.mediaUploadStatuses);return babelHelpers["extends"]({},a,{mediaAttachments:d,mediaUploadStatuses:b})}else return a}function D(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a){if(a.data.id===b.entID&&a.fileType==="PHOTO"&&a.state==="UPLOADED"){var d=babelHelpers["extends"]({},a,{height:b.height,uploadedImageURL:b.imageURI,useCDNPreview:!0,width:b.width}),e=d.data.tags;return e!=null&&e.length>0?babelHelpers["extends"]({},d,{data:babelHelpers["extends"]({},d.data,{tags:c("rotatePhotoAttachmentTags")(e,b.direction)})}):d}return a})})}function E(a,b){var c=a.mediaAttachments;return c==null?a:babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){return(a.entID===b.attachmentId||a.data.id===b.attachmentId)&&a.fileType==="VIDEO"&&a.state==="UPLOADED"?babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{closed_caption_settings:babelHelpers["extends"]({},a.data.closed_caption_settings,{autogenerate_captions_on_upload:b.autoGenerateCaptionOnUpload,should_review_all_captions:b.shouldReviewAllCaptions})})}):a})})}function F(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a){if(a===b.attachment){switch(a.state){case"NEW":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});default:return a}case"QUEUED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});default:return a}case"UPLOADING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});default:return a}case"UPLOADED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});default:return a}case"PREEXISTING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});case"UNKNOWN":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"UNKNOWN"})}return a;case"FAILED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});default:return a}}return a}else return a})})}function G(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a){if(c("getIDFromMediaAttachment")(a)===c("getIDFromMediaAttachment")(b.attachment)){switch(a.state){case"NEW":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"QUEUED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"UPLOADING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"UPLOADED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"FAILED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"CLIENT_PROCESSING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"PREEXISTING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return babelHelpers["extends"]({},a,{fileType:"UNKNOWN",useCDNPreview:!0})}}return a}else return a})})}function H(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a){if(a.data.id===b.entID&&a.state==="UPLOADED")switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",height:b.height,width:b.width});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",height:b.height,width:b.width});case"UNKOWN":return babelHelpers["extends"]({},a,{fileType:"UNKNOWN",height:b.height,width:b.width});default:return a}else return a})})}function I(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a){return c("getIDFromMediaAttachment")(a)===c("getIDFromMediaAttachment")(b.attachment)?N(b.height,b.width,a):a})})}function J(a,b){var c=URL.createObjectURL(b.placeholderImage.file);a.photo3dAttachment&&URL.revokeObjectURL(a.photo3dAttachment.inputData.placeholderImageSrc);return babelHelpers["extends"]({},a,{photo3dAttachment:{inputData:{colorImageIds:b.colorImageIds,depthImageIds:b.depthImageIds,placeholderImageHeight:(a=b.placeholderImage.height)!=null?a:0,placeholderImageSrc:c,placeholderImageWidth:(a=b.placeholderImage.width)!=null?a:0},renderData:void 0}})}function K(a,b){if(a.mediaAttachments!=null){var e=[].concat(a.mediaAttachments);e.sort(function(a,e){a=c("getMediaAttachmentDateNumber")(a);e=c("getMediaAttachmentDateNumber")(e);return a<e&&b.orderType===d("CometAlbumMediaItemOrderType").MediaAttachmentOrderType.ASCENDING||a>e&&b.orderType===d("CometAlbumMediaItemOrderType").MediaAttachmentOrderType.DESCENDING?-1:1});return babelHelpers["extends"]({},a,{mediaAttachments:e})}else return a}function L(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a,c){if(c!==b.currentIndex)return a;switch(a.state){case"NEW":switch(a.fileType){case"VIDEO":return babelHelpers["extends"]({},a,{videoAttachmentMetadata:babelHelpers["extends"]({},a.videoAttachmentMetadata,b.videoAttachmentMetadata)});default:return a}case"CLIENT_PROCESSING":switch(a.fileType){case"VIDEO":return babelHelpers["extends"]({},a,{videoAttachmentMetadata:babelHelpers["extends"]({},a.videoAttachmentMetadata,b.videoAttachmentMetadata)});default:return a}case"CLIENT_PROCESSING_COMPLETE":switch(a.fileType){case"VIDEO":return babelHelpers["extends"]({},a,{videoAttachmentMetadata:babelHelpers["extends"]({},a.videoAttachmentMetadata,b.videoAttachmentMetadata)});default:return a}case"UPLOADING":switch(a.fileType){case"VIDEO":return babelHelpers["extends"]({},a,{videoAttachmentMetadata:babelHelpers["extends"]({},a.videoAttachmentMetadata,b.videoAttachmentMetadata)});default:return a}case"UPLOADED":switch(a.fileType){case"VIDEO":return babelHelpers["extends"]({},a,{videoAttachmentMetadata:babelHelpers["extends"]({},a.videoAttachmentMetadata,b.videoAttachmentMetadata)});default:return a}case"PREEXISTING":switch(a.fileType){case"VIDEO":return babelHelpers["extends"]({},a,{videoAttachmentMetadata:babelHelpers["extends"]({},a.videoAttachmentMetadata,b.videoAttachmentMetadata)});default:return a}default:return a}})})}function M(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a){if(a.file&&a.file.uploadID===b.uploadID)switch(a.state){case"NEW":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",sphericalEncoding:b.sphericalEncoding});default:return a}case"QUEUED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",sphericalEncoding:b.sphericalEncoding});default:return a}case"UPLOADING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",sphericalEncoding:b.sphericalEncoding});default:return a}case"UPLOADED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",sphericalEncoding:b.sphericalEncoding});default:return a}case"FAILED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",sphericalEncoding:b.sphericalEncoding});default:return a}case"CLIENT_PROCESSING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",sphericalEncoding:b.sphericalEncoding});default:return a}case"PREEXISTING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",sphericalEncoding:b.sphericalEncoding});default:return a}default:return a}else return a})})}function N(a,b,c){switch(c.fileType){case"PHOTO":switch(c.state){case"NEW":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"CLIENT_PROCESSING":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"QUEUED":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"UPLOADING":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"UPLOADED":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"FAILED":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"PREEXISTING":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});default:return c}case"VIDEO":switch(c.state){case"NEW":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"CLIENT_PROCESSING":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"QUEUED":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"UPLOADING":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"UPLOADED":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"FAILED":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"PREEXISTING":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});default:return c}default:return c}}function O(a,b){return babelHelpers["extends"]({},a,{shouldShowDefaultToReelsDialog:b.shouldShowDefaultToReelsDialog})}function a(a,b){switch(b.type){case"ADD_MEDIA_ATTACHMENT_ITEMS":return i(a,b);case"REPLACE_MEDIA_ATTACHMENT_ITEMS":return j(a,b);case"ADD_PREEXISTING_PHOTO":return l(a,b);case"ADD_PREEXISTING_VIDEO":return m(a,b);case"REMOVE_MEDIA_ATTACHMENT_ITEM":return n(a,b);case"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS":return p(a,b);case"REMOVE_GET_MESSAGE_MEDIA_ATTACHMENT_ITEMS":return o(a,b);case"RETRY_MEDIA_ATTACHMENT_ITEMS":return k(a,b);case"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED":return v(a,b);case"QUEUE_UPLOADS":return w(a,b);case"MARK_UPLOADS_CLIENT_PROCESSING":return q(a,b);case"MARK_UNKNOWN_UPLOADS_AS_PHOTO":return r(a,b);case"MARK_UPLOADS_AS_PART_OF_COMPLETE_BATCH":return s(a,b);case"MARK_UPLOADS_AS_PHOTO":return t(a,b);case"MARK_UNKNOWN_UPLOADS_AS_VIDEO":return u(a,b);case"MEDIA_UPLOAD_STARTED":return x(a,b);case"MEDIA_UPLOAD_PROGRESS":return y(a,b);case"MEDIA_UPLOAD_SUCCESSFUL":return z(a,b);case"REORDER_MEDIA_ATTACHMENT_ITEM":return C(a,b);case"ROTATE_MEDIA_ATTACHMENT_ITEM":return D(a,b);case"SAVE_MEDIA_EDITS":return B(a,b);case"SET_MEDIA_ATTACHMENT_CAPTION":return F(a,b);case"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW":return G(a,b);case"SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS":return H(a,b);case"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS":return I(a,b);case"SET_PHOTO3D_CREATION_DATA":return J(a,b);case"SET_MEDIA_ATTACHMENT_ITEM_SPHERICAL_ENCODING":return M(a,b);case"SET_VIDEO_ATTACHMENT_ITEM_CLOSED_CAPTIONS":return E(a,b);case"ORDER_BY_DATE_TAKEN":return K(a,b);case"SET_VIDEO_ATTACHMENT_METADATA":return L(a,b);case"MEDIA_UPLOAD_FAILED":return A(a,b);case"REMOVE_ATTACHMENT_TYPE":if(c("killswitch")("WWW_COMPOSER_MEDIA_ATTACHMENT_AREA_REMOVAL_ACTION_DISPATCH"))return a;else{var e=d("composerAttachmentAreaReducer").getCanAlterAttachmentData(b,"MEDIA",a)||d("composerAttachmentAreaReducer").getCanAlterAttachmentData(b,"CALL_NOW",a);if(!e)return a;else return p(a,{type:"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS"})}case"SET_SHOULD_DEFAULT_TO_REELS_DIALOG":return O(a,b)}return a}g["default"]=a}),98);
__d("useCometComposerPushAnimatedImagePage",["fbt","CometComposerAttachmentPluginTypes","JSResourceForInteraction","lazyLoadComponent","react","useCometComposerPushPageWithReducer","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c,l=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometAnimatedImagePickerCardContainer.react").__setRef("useCometComposerPushAnimatedImagePage"));function a(){var a=k(5),b=c("useCometComposerPushPageWithReducer")(),d=c("useComposerViewStateDispatcher")(),e;a[0]!==d?(e=function(a){d({attachmentType:"ANIMATED_IMAGE",type:"ACTIVATE_ATTACHMENT_TYPE"}),d({label:a.media.preview.label,metadata:{key:a.resultID,source:a.source.gifSource,tags:a.source.tags,title:a.source.title,url:a.source.url},type:"SELECT_ANIMATED_IMAGE",url:a.source.url})},a[0]=d,a[1]=e):e=a[1];var f=e;a[2]!==b||a[3]!==f?(e=function(){b(h._("__JHASH__K3YQokbPFHA__JHASH__"),function(a){a=a.onReturn;return j.jsx(l,{onClose:a,onSelect:f})},c("CometComposerAttachmentPluginTypes").ANIMATED_IMAGE)},a[2]=b,a[3]=f,a[4]=e):e=a[4];return e}g["default"]=a}),226);
__d("useCometComposerPushLocationPage",["fbt","CometComposerAttachmentPluginTypes","JSResourceForInteraction","lazyLoadComponent","react","useCometComposerPushPageWithReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c,l=c("lazyLoadComponent")(c("JSResourceForInteraction")("ComposerLocationListContainer.react").__setRef("useCometComposerPushLocationPage"));function a(){var a=k(2),b=c("useCometComposerPushPageWithReducer")(),d;a[0]!==b?(d=function(){b(h._("__JHASH__kGt5nAPU9z4__JHASH__"),function(a){a=a.onReturn;return j.jsx(l,{onClose:a})},c("CometComposerAttachmentPluginTypes").LOCATION)},a[0]=b,a[1]=d):d=a[1];return d}g["default"]=a}),226);